"use strict";var wr=Object.defineProperty,Mr=Object.defineProperties,Ir=Object.getOwnPropertyDescriptors,lt=Object.getOwnPropertySymbols,Tr=Object.prototype.hasOwnProperty,Or=Object.prototype.propertyIsEnumerable,ut=(j,w,c)=>w in j?wr(j,w,{enumerable:!0,configurable:!0,writable:!0,value:c}):j[w]=c,M=(j,w)=>{for(var c in w||(w={}))Tr.call(w,c)&&ut(j,c,w[c]);if(lt)for(var c of lt(w))Or.call(w,c)&&ut(j,c,w[c]);return j},k=(j,w)=>Mr(j,Ir(w));(self.webpackChunksite=self.webpackChunksite||[]).push([[3436,9530],{45568:(j,w,c)=>{c.d(w,{Z:()=>U});var b=c(17626),p=c(2076),_=c(86162),d=c(77712),O=(c(85931),c(8314),c(90912),c(76898));const Y=new p.Xn({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"});let z=class extends _.wq{constructor(de){super(de),this.description=null,this.type=null}};(0,b._)([(0,d.Cb)({type:String,json:{write:!0}})],z.prototype,"description",void 0),(0,b._)([(0,d.Cb)({type:String,json:{read:Y.read,write:Y.write}})],z.prototype,"type",void 0),z=(0,b._)([(0,O.j)("esri.rest.support.GPMessage")],z);const U=z},33436:(j,w,c)=>{c.r(w),c.d(w,{default:()=>Dr});var b=c(15861),p=c(17626),_=c(2076),d=c(77712),I=(c(85931),c(8314),c(90912)),O=c(76898),Y=c(59318),z=c(24263),U=c(84792),de=c(26584),H=c(62208),J=c(23841),B=c(21726),ct=c(37118),pt=c(36630),q=c(81808),$e=c(14517),ke=c(2004),ze=c(65234);let F=class extends $e.Z{constructor(){super(...arguments),this.outSpatialReference=null,this.processExtent=null,this.processSpatialReference=null,this.returnFeatureCollection=!1,this.returnM=!1,this.returnZ=!1}};(0,p._)([(0,d.Cb)({type:ze.Z})],F.prototype,"outSpatialReference",void 0),(0,p._)([(0,d.Cb)({type:ke.Z})],F.prototype,"processExtent",void 0),(0,p._)([(0,d.Cb)({type:ze.Z})],F.prototype,"processSpatialReference",void 0),(0,p._)([(0,d.Cb)({nonNullable:!0})],F.prototype,"returnFeatureCollection",void 0),(0,p._)([(0,d.Cb)({nonNullable:!0})],F.prototype,"returnM",void 0),(0,p._)([(0,d.Cb)({nonNullable:!0})],F.prototype,"returnZ",void 0),F=(0,p._)([(0,O.j)("esri/rest/geoprocessor/GPOptions")],F),F.from=(0,I.se)(F);const fe=F;var yt=c(62825),We=c(36255),K=c(86162);let R=class extends K.wq{constructor(){super(...arguments),this.extent=null,this.height=null,this.href=null,this.opacity=1,this.rotation=0,this.scale=null,this.visible=!0,this.width=null}};(0,p._)([(0,d.Cb)({type:ke.Z})],R.prototype,"extent",void 0),(0,p._)([(0,d.Cb)()],R.prototype,"height",void 0),(0,p._)([(0,d.Cb)()],R.prototype,"href",void 0),(0,p._)([(0,d.Cb)()],R.prototype,"opacity",void 0),(0,p._)([(0,d.Cb)()],R.prototype,"rotation",void 0),(0,p._)([(0,d.Cb)()],R.prototype,"scale",void 0),(0,p._)([(0,d.Cb)()],R.prototype,"visible",void 0),(0,p._)([(0,d.Cb)()],R.prototype,"width",void 0),R=(0,p._)([(0,O.j)("esri.layer.support.MapImage")],R);const Be=R;var W=c(2618);let ee=class extends K.wq{constructor(e){super(e),this.itemId=null,this.url=null}};(0,p._)([(0,d.Cb)({type:String,json:{read:{source:"itemID"},write:{target:"itemID"}}})],ee.prototype,"itemId",void 0),(0,p._)([(0,d.Cb)({type:String,json:{write:!0}})],ee.prototype,"url",void 0),ee=(0,p._)([(0,O.j)("esri.rest.support.DataFile")],ee);const me=ee;var ge=c(17253);const Ke=new _.Xn({esriMeters:"meters",esriFeet:"feet",esriKilometers:"kilometers",esriMiles:"miles",esriNauticalMiles:"nautical-miles",esriYards:"yards"},{ignoreUnknown:!1});let te=class extends K.wq{constructor(e){super(e),this.distance=0,this.units=null}};(0,p._)([(0,d.Cb)({json:{write:!0}})],te.prototype,"distance",void 0),(0,p._)([(0,d.Cb)({json:{read:Ke.read,write:Ke.write}})],te.prototype,"units",void 0),te=(0,p._)([(0,O.j)("esri/rest/support/LinearUnit")],te);const Xe=te,Qe=new _.Xn({GPBoolean:"boolean",GPDataFile:"data-file",GPDate:"date",GPDouble:"double",GPFeatureRecordSetLayer:"feature-record-set-layer",GPField:"field",GPLinearUnit:"linear-unit",GPLong:"long",GPRasterData:"raster-data",GPRasterDataLayer:"raster-data-layer",GPRecordSet:"record-set",GPString:"string","GPMultiValue:GPBoolean":"multi-value","GPMultiValue:GPDataFile":"multi-value","GPMultiValue:GPDate":"multi-value","GPMultiValue:GPDouble":"multi-value","GPMultiValue:GPFeatureRecordSetLayer":"multi-value","GPMultiValue:GPField":"multi-value","GPMultiValue:GPLinearUnit":"multi-value","GPMultiValue:GPLong":"multi-value","GPMultiValue:GPRasterData":"multi-value","GPMultiValue:GPRasterDataLayer":"multi-value","GPMultiValue:GPRecordSet":"multi-value","GPMultiValue:GPString":"multi-value"});let re=class extends K.wq{constructor(e){super(e),this.dataType=null,this.value=null}};(0,p._)([(0,d.Cb)({json:{read:Qe.read,write:Qe.write}})],re.prototype,"dataType",void 0),(0,p._)([(0,d.Cb)()],re.prototype,"value",void 0),re=(0,p._)([(0,O.j)("esri.rest.support.ParameterValue")],re);const dt=re;let X=class extends K.wq{constructor(e){super(e),this.format=null,this.itemId=null,this.url=null}};(0,p._)([(0,d.Cb)()],X.prototype,"format",void 0),(0,p._)([(0,d.Cb)({json:{read:{source:"itemID"},write:{target:"itemID"}}})],X.prototype,"itemId",void 0),(0,p._)([(0,d.Cb)()],X.prototype,"url",void 0),X=(0,p._)([(0,O.j)("esri/rest/support/RasterData")],X);const Ye=X;function He(e,r,t,n,i){return he.apply(this,arguments)}function he(){return(he=(0,b.Z)(function*(e,r,t,n,i){const a={},o={},u=[];return ft(n,u,a),(0,yt.aX)(u).then(s=>{const{outSpatialReference:l,processExtent:f,processSpatialReference:m,returnFeatureCollection:g,returnM:D,returnZ:v}=t,{path:S}=(0,W.en)(e);for(const E in a){const V=a[E];o[E]=s.slice(V[0],V[1])}const y=l?l.wkid||l:null,P=m?m.wkid||m:null,L="execute"===r?{returnFeatureCollection:g||void 0,returnM:D||void 0,returnZ:v||void 0}:null,h=ae(k(M(M(M({},f?{context:{extent:f,outSR:y,processSR:P}}:{"env:outSR":y,"env:processSR":P}),n),L),{f:"json"}),null,o),x=k(M({},i),{query:h});return(0,U.default)(`${S}/${r}`,x)})})).apply(this,arguments)}function ft(e,r,t){for(const n in e){const i=e[n];if(i&&"object"==typeof i&&i instanceof ge.default){const{features:a}=i;t[n]=[r.length,r.length+a.length],a.forEach(o=>{r.push(o.geometry)})}}}function be(e){const r=e.dataType,t=dt.fromJSON(e);switch(r){case"GPBoolean":case"GPDouble":case"GPLong":case"GPString":case"GPMultiValue:GPBoolean":case"GPMultiValue:GPDouble":case"GPMultiValue:GPLong":case"GPMultiValue:GPString":return t;case"GPDate":t.value=new Date(t.value);break;case"GPDataFile":t.value=me.fromJSON(t.value);break;case"GPLinearUnit":t.value=Xe.fromJSON(t.value);break;case"GPFeatureRecordSetLayer":case"GPRecordSet":t.value=e.value.url?me.fromJSON(t.value):ge.default.fromJSON(t.value);break;case"GPRasterData":case"GPRasterDataLayer":{const n=e.value.mapImage;t.value=n?Be.fromJSON(n):Ye.fromJSON(t.value);break}case"GPField":t.value=We.Z.fromJSON(t.value);break;case"GPMultiValue:GPDate":t.value=t.value.map(i=>new Date(i));break;case"GPMultiValue:GPDataFile":t.value=t.value.map(n=>me.fromJSON(n));break;case"GPMultiValue:GPLinearUnit":t.value=t.value.map(n=>Xe.fromJSON(n));break;case"GPMultiValue:GPFeatureRecordSetLayer":case"GPMultiValue:GPRecordSet":t.value=t.value.map(n=>ge.default.fromJSON(n));break;case"GPMultiValue:GPRasterData":case"GPMultiValue:GPRasterDataLayer":t.value=t.value.map(n=>n?Be.fromJSON(n):Ye.fromJSON(t.value));break;case"GPMultiValue:GPField":t.value=t.value.map(n=>We.Z.fromJSON(n))}return t}function ae(e,r,t){for(const n in e){const i=e[n];Array.isArray(i)?e[n]=JSON.stringify(i.map(a=>ae({item:a},!0).item)):i instanceof Date&&(e[n]=i.getTime())}return(0,W.cv)(e,r,t)}var qe=c(45568);function mt(e,r,t,n){return ve.apply(this,arguments)}function ve(){return(ve=(0,b.Z)(function*(e,r,t,n){return He(e,"execute",t=fe.from(t||{}),r,n).then(i=>{const o=i.data.messages||[];return{results:(i.data.results||[]).map(be),messages:o.map(u=>qe.Z.fromJSON(u))}})})).apply(this,arguments)}var se,Se=c(10699);const gt=new _.Xn({esriJobCancelled:"job-cancelled",esriJobCancelling:"job-cancelling",esriJobDeleted:"job-deleted",esriJobDeleting:"job-deleting",esriJobTimedOut:"job-timed-out",esriJobExecuting:"job-executing",esriJobFailed:"job-failed",esriJobNew:"job-new",esriJobSubmitted:"job-submitted",esriJobSucceeded:"job-succeeded",esriJobWaiting:"job-waiting"});let Z=se=class extends K.wq{constructor(e){super(e),this.jobId=null,this.jobStatus=null,this.messages=null,this.requestOptions=null,this.sourceUrl=null,this._timer=null}cancelJob(e){const{jobId:r,sourceUrl:t}=this,{path:n}=(0,W.en)(t),i=k(M(M({},this.requestOptions),e),{query:{f:"json"}});return this._clearTimer(),(0,U.default)(`${n}/jobs/${r}/cancel`,i).then(a=>{const o=se.fromJSON(a.data);return this.messages=o.messages,this.jobStatus=o.jobStatus,this})}destroy(){clearInterval(this._timer)}checkJobStatus(e){const{path:r}=(0,W.en)(this.sourceUrl),t=k(M(M({},this.requestOptions),e),{query:{f:"json"}});return(0,U.default)(`${r}/jobs/${this.jobId}`,t).then(({data:i})=>{const a=se.fromJSON(i);return this.messages=a.messages,this.jobStatus=a.jobStatus,this})}fetchResultData(e,r,t){r=fe.from(r||{});const{returnFeatureCollection:n,returnM:i,returnZ:a,outSpatialReference:o}=r,{path:u}=(0,W.en)(this.sourceUrl),s=ae({returnFeatureCollection:n,returnM:i,returnZ:a,outSR:o,returnType:"data",f:"json"},null),l=k(M(M({},this.requestOptions),t),{query:s});return(0,U.default)(`${u}/jobs/${this.jobId}/results/${e}`,l).then(m=>be(m.data))}fetchResultImage(e,r,t){const{path:n}=(0,W.en)(this.sourceUrl),a=ae(k(M({},r.toJSON()),{f:"json"})),o=k(M(M({},this.requestOptions),t),{query:a});return(0,U.default)(`${n}/jobs/${this.jobId}/results/${e}`,o).then(s=>be(s.data))}fetchResultMapImageLayer(){var e=this;return(0,b.Z)(function*(){const{path:r}=(0,W.en)(e.sourceUrl),t=r.indexOf("/GPServer/"),n=`${r.substring(0,t)}/MapServer/jobs/${e.jobId}`;return new((yield Promise.all([c.e(3130),c.e(8592)]).then(c.bind(c,48887))).default)({url:n})})()}waitForJobCompletion(e={}){var r=this;return(0,b.Z)(function*(){const{interval:t=1e3,signal:n,statusCallback:i}=e;return new Promise((a,o)=>{(0,Se.fu)(n,()=>{r._clearTimer(),o((0,Se.zE)())}),r._clearTimer();const u=setInterval(()=>{r._timer||o((0,Se.zE)()),r.checkJobStatus(r.requestOptions).then(s=>{const{jobStatus:l}=s;switch(r.jobStatus=l,l){case"job-succeeded":r._clearTimer(),a(r);break;case"job-submitted":case"job-executing":case"job-waiting":case"job-new":i&&i(r);break;case"job-cancelled":case"job-cancelling":case"job-deleted":case"job-deleting":case"job-timed-out":case"job-failed":r._clearTimer(),o(r)}})},t);r._timer=u})})()}_clearTimer(){this._timer&&(clearInterval(this._timer),this._timer=null)}};(0,p._)([(0,d.Cb)()],Z.prototype,"jobId",void 0),(0,p._)([(0,d.Cb)({json:{read:gt.read}})],Z.prototype,"jobStatus",void 0),(0,p._)([(0,d.Cb)({type:[qe.Z]})],Z.prototype,"messages",void 0),(0,p._)([(0,d.Cb)()],Z.prototype,"requestOptions",void 0),(0,p._)([(0,d.Cb)({json:{write:!0}})],Z.prototype,"sourceUrl",void 0),Z=se=(0,p._)([(0,O.j)("esri.rest.support.JobInfo")],Z);const ht=Z;function bt(e,r,t,n){return xe.apply(this,arguments)}function xe(){return(xe=(0,b.Z)(function*(e,r,t,n){return t=fe.from(t||{}),He(e,"submitJob",t,r,n).then(i=>{const a=ht.fromJSON(i.data);return a.sourceUrl=e,a})})).apply(this,arguments)}const oe=new _.Xn({PDF:"pdf",PNG32:"png32",PNG8:"png8",JPG:"jpg",GIF:"gif",EPS:"eps",SVG:"svg",SVGZ:"svgz"}),vt=(oe.fromJSON.bind(oe),oe.toJSON.bind(oe)),le=new _.Xn({MAP_ONLY:"map-only","A3 Landscape":"a3-landscape","A3 Portrait":"a3-portrait","A4 Landscape":"a4-landscape","A4 Portrait":"a4-portrait","Letter ANSI A Landscape":"letter-ansi-a-landscape","Letter ANSI A Portrait":"letter-ansi-a-portrait","Tabloid ANSI B Landscape":"tabloid-ansi-b-landscape","Tabloid ANSI B Portrait":"tabloid-ansi-b-portrait"}),St=(le.fromJSON.bind(le),le.toJSON.bind(le)),Pe="simple-marker",et="simple-line";function Mt(e,r){const{graphic:t,renderer:n,symbol:i}=r,a=i.type;if("text"===a||"shield-label-symbol"===a||!("visualVariables"in n)||!n.visualVariables)return;const o=n.getVisualVariablesForType("size"),u=n.getVisualVariablesForType("color"),s=n.getVisualVariablesForType("opacity"),l=n.getVisualVariablesForType("rotation"),f=o[0],m=u[0],g=s[0],D=l[0];if(f){const S=(0,q.getSize)(f,t,{shape:a===Pe?i.style:null});null!=S&&(a===Pe?e.size=(0,J.Wz)(S):"picture-marker"===a?(e.width=(0,J.Wz)(S),e.height=(0,J.Wz)(S)):a===et?e.width=(0,J.Wz)(S):e.outline&&(e.outline.width=(0,J.Wz)(S)))}if(m){const v=(0,q.getColor)(m,t);(v&&a===Pe||a===et||"simple-fill"===a)&&(e.color=v?v.toJSON():void 0)}if(g){const v=(0,q.getOpacity)(g,t);null!=v&&e.color&&(e.color[3]=Math.round(255*v))}D&&(e.angle=-(0,q.getRotationAngle)(n,t))}function Lt(e,r=15){const t=e.canvas.width,n=e.canvas.height,i=e.getImageData(0,0,t,n).data;let a,o,u,s,l,f;e:for(o=n;o--;)for(a=t;a--;)if(i[4*(t*o+a)+3]>r){f=o;break e}if(!f)return null;e:for(a=t;a--;)for(o=f+1;o--;)if(i[4*(t*o+a)+3]>r){l=a;break e}e:for(a=0;a<=l;++a)for(o=f+1;o--;)if(i[4*(t*o+a)+3]>r){u=a;break e}e:for(o=0;o<=f;++o)for(a=u;a<=l;++a)if(i[4*(t*o+a)+3]>r){s=o;break e}return{x:u,y:s,width:l-u,height:f-s}}function Gt(e,r){const t=e.allLayerViews.items;if(r===e.scale)return t.filter(i=>!i.suspended);const n=new Array;for(const i of t)Ft(i.parent)&&!n.includes(i.parent)||!i.visible||r&&"isVisibleAtScale"in i&&!i.isVisibleAtScale(r)||n.push(i);return n}function Ct(e){return e&&"bing-maps"===e.type}function rt(e){return e&&"blendMode"in e&&"effect"in e}function Et(e){return e&&"csv"===e.type}function Vt(e){return e&&"feature"===e.type}function jt(e){return e&&"geojson"===e.type}function _t(e){return e&&"graphics"===e.type}function Jt(e){return e&&"group"===e.type}function Ft(e){return e&&"esri.views.2d.layers.GroupLayerView2D"===e.declaredClass}function Rt(e){return e&&"imagery"===e.type}function Nt(e){return e&&"imagery-tile"===e.type}function Ut(e){return e&&"kml"===e.type}function At(e){return e&&"map-image"===e.type}function Zt(e){return e&&"map-notes"===e.type}function $t(e){return e&&"open-street-map"===e.type}function kt(e){const r=e.layer;if(rt(r)){const t=r.blendMode;if((!t||"normal"===t)&&(r.effect||"featureEffect"in e&&e.featureEffect))return!0}return!1}function zt(e){return e&&"stream"===e.type}function Wt(e){return e&&"tile"===e.type}function Bt(e){return e&&"vector-tile"===e.type}function Kt(e){return e&&"web-tile"===e.type}function Xt(e){return e&&"wms"===e.type}function Qt(e){return e&&"wmts"===e.type}let C=class extends $e.Z{constructor(e){super(e),this.attributionVisible=!0,this.exportOptions={width:800,height:1100,dpi:96},this.forceFeatureAttributes=!1,this.format="png32",this.label=null,this.layout="map-only",this.layoutOptions=null,this.outScale=0,this.scalePreserved=!0,this.showLabels=!0}};(0,p._)([(0,d.Cb)()],C.prototype,"attributionVisible",void 0),(0,p._)([(0,d.Cb)()],C.prototype,"exportOptions",void 0),(0,p._)([(0,d.Cb)()],C.prototype,"forceFeatureAttributes",void 0),(0,p._)([(0,d.Cb)()],C.prototype,"format",void 0),(0,p._)([(0,d.Cb)()],C.prototype,"label",void 0),(0,p._)([(0,d.Cb)()],C.prototype,"layout",void 0),(0,p._)([(0,d.Cb)()],C.prototype,"layoutOptions",void 0),(0,p._)([(0,d.Cb)()],C.prototype,"outScale",void 0),(0,p._)([(0,d.Cb)()],C.prototype,"scalePreserved",void 0),(0,p._)([(0,d.Cb)()],C.prototype,"showLabels",void 0),C=(0,p._)([(0,O.j)("esri.rest.support.PrintTemplate")],C);const Yt=C;var Ht=c(12680),qt=c(79530);const nt={Feet:"ft",Kilometers:"km",Meters:"m",Miles:"mi"},it=new _.Xn({esriFeet:"Feet",esriKilometers:"Kilometers",esriMeters:"Meters",esriMiles:"Miles"}),er=new _.Xn({esriExecutionTypeSynchronous:"sync",esriExecutionTypeAsynchronous:"async"}),ne=new Map;function De(){return(De=(0,b.Z)(function*(e,r,t){const n=Te(e);let i=ne.get(n);return Promise.resolve().then(()=>i?{data:i.gpMetadata}:(i={gpServerUrl:n,is11xService:!1,legendLayerNameMap:{},legendLayers:[]},(0,U.default)(n,{query:{f:"json"}}))).then(a=>(i.gpMetadata=a.data,i.cimVersion=i.gpMetadata.cimVersion,i.is11xService=!!i.cimVersion,ne.set(n,i),at(r,i))).then(a=>{const o=ot(i);let u;const s=l=>"sync"===o?l.results&&l.results[0]&&l.results[0].value:u.fetchResultData("Output_File",null,t).then(f=>f.value);return"async"===o?bt(e,a,null,t).then(l=>(u=l,l.waitForJobCompletion({interval:r.updateDelay}).then(s))):mt(e,a,null,t).then(s)})})).apply(this,arguments)}function at(e,r){return Me.apply(this,arguments)}function Me(){return(Me=(0,b.Z)(function*(e,r){r=r||{is11xService:!1,legendLayerNameMap:{},legendLayers:[]};const t=e.template||new Yt;null==t.showLabels&&(t.showLabels=!0);const n=t.exportOptions;let i;const a=St(t.layout);n&&(i={dpi:n.dpi},"map_only"===a.toLowerCase()||""===a)&&(i.outputSize=[n.width,n.height]);const o=t.layoutOptions;let u;if(o){let m,g;"Miles"===o.scalebarUnit||"Kilometers"===o.scalebarUnit?(m="Kilometers",g="Miles"):"Meters"!==o.scalebarUnit&&"Feet"!==o.scalebarUnit||(m="Meters",g="Feet"),u={titleText:o.titleText,authorText:o.authorText,copyrightText:o.copyrightText,customTextElements:o.customTextElements,scaleBarOptions:{metricUnit:it.toJSON(m),metricLabel:nt[m],nonMetricUnit:it.toJSON(g),nonMetricLabel:nt[g]}}}let s=null;null!=o&&o.legendLayers&&(s=o.legendLayers.map(m=>{r.legendLayerNameMap[m.layerId]=m.title;const g={id:m.layerId};return m.subLayerIds&&(g.subLayerIds=m.subLayerIds),g}));const l=yield rr(e,t,r);if(l.operationalLayers){const m=new RegExp("[\\u4E00-\\u9FFF\\u0E00-\\u0E7F\\u0900-\\u097F\\u3040-\\u309F\\u30A0-\\u30FF\\u31F0-\\u31FF]"),g=/[\u0600-\u06FF]/,D=S=>{const y=S.text,P=S.font,L=P&&P.family&&P.family.toLowerCase();y&&P&&("arial"===L||"arial unicode ms"===L)&&(P.family=m.test(y)?"Arial Unicode MS":"Arial","normal"!==P.style&&g.test(y)&&(P.family="Arial Unicode MS"))},v=()=>{throw new de.Z("print-task:cim-symbol-unsupported","CIMSymbol is not supported by a print service published from ArcMap")};l.operationalLayers.forEach(S=>{var y,P,L;null!=(y=S.featureCollection)&&y.layers?S.featureCollection.layers.forEach(h=>{var x,E,V,N;if(null!=(x=h.layerDefinition)&&null!=(E=x.drawingInfo)&&null!=(V=E.renderer)&&V.symbol){const $=h.layerDefinition.drawingInfo.renderer;"esriTS"===$.symbol.type?D($.symbol):"CIMSymbolReference"!==$.symbol.type||r.is11xService||v()}null!=(N=h.featureSet)&&N.features&&h.featureSet.features.forEach($=>{$.symbol&&("esriTS"===$.symbol.type?D($.symbol):"CIMSymbolReference"!==$.symbol.type||r.is11xService||v())})}):!r.is11xService&&null!=(P=S.layerDefinition)&&null!=(L=P.drawingInfo)&&L.renderer&&JSON.stringify(S.layerDefinition.drawingInfo.renderer).includes('"type":"CIMSymbolReference"')&&v()})}e.outSpatialReference&&(l.mapOptions.spatialReference=e.outSpatialReference.toJSON()),Object.assign(l,{exportOptions:i,layoutOptions:u||{}}),Object.assign(l.layoutOptions,{legendOptions:{operationalLayers:null!=s?s:r.legendLayers.slice()}}),r.legendLayers.length=0,ne.set(r.gpServerUrl,r);const f={Web_Map_as_JSON:JSON.stringify(l),Format:vt(t.format),Layout_Template:a};return e.extraParameters&&Object.assign(f,e.extraParameters),f})).apply(this,arguments)}function rr(e,r,t){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,b.Z)(function*(e,r,t){const n=e.view;let i=n.spatialReference;const a={operationalLayers:yield nr(n,r,t)};let o=t.ssExtent||e.extent||n.extent;if(i&&i.isWrappable&&(o=o.clone()._normalize(!0),i=o.spatialReference),a.mapOptions={extent:o&&o.toJSON(),spatialReference:i&&i.toJSON(),showAttribution:r.attributionVisible},t.ssExtent=null,n.background&&(a.background=n.background.toJSON()),n.rotation&&(a.mapOptions.rotation=-n.rotation),r.scalePreserved&&(a.mapOptions.scale=r.outScale||n.scale),(0,H.pC)(n.timeExtent)){const u=(0,H.pC)(n.timeExtent.start)?n.timeExtent.start.getTime():null,s=(0,H.pC)(n.timeExtent.end)?n.timeExtent.end.getTime():null;a.mapOptions.time=[u,s]}return a})).apply(this,arguments)}function Te(e){let r=e;const t=r.lastIndexOf("/GPServer/");return t>0&&(r=r.slice(0,t+9)),r}function nr(e,r,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,b.Z)(function*(e,r,t){const n=[],i={layerView:null,printTemplate:r,view:e};let a=0;r.scalePreserved&&(a=r.outScale||e.scale);const o=Gt(e,a);for(const u of o){const s=u.layer;if(!s.loaded||Jt(s))continue;let l;i.layerView=u,l=kt(u)?yield ue(s,i,t):Ct(s)?ir(s):Et(s)?yield ar(s,i,t):Vt(s)?yield sr(s,i,t):jt(s)?yield or(s,i,t):_t(s)?yield lr(s,i,t):Rt(s)?ur(s,t):Nt(s)?cr(s,t):Ut(s)?yield pr(s,i,t):At(s)?yr(s,i,t):Zt(s)?yield dr(i,t):$t(s)?{type:"OpenStreetMap"}:zt(s)?yield mr(s,i,t):Wt(s)?gr(s):Bt(s)?yield hr(s,i,t):Kt(s)?br(s):Xt(s)?vr(s):Qt(s)?Sr(s):yield ue(s,i,t),l&&(Array.isArray(l)?n.push(...l):(l.id=s.id,l.title=t.legendLayerNameMap[s.id]||s.title,l.opacity=s.opacity,l.minScale=s.minScale||0,l.maxScale=s.maxScale||0,rt(s)&&s.blendMode&&"normal"!==s.blendMode&&(l.blendMode=s.blendMode),n.push(l)))}if(a&&n.forEach(u=>{u.minScale=0,u.maxScale=0}),e.graphics&&e.graphics.length){const u=yield A(null,e.graphics,r,t);u&&n.push(u)}return n})).apply(this,arguments)}function ir(e){return{culture:e.culture,key:e.key,type:"BingMaps"+("aerial"===e.style?"Aerial":"hybrid"===e.style?"Hybrid":"Road")}}function ar(e,r,t){return Le.apply(this,arguments)}function Le(){return(Le=(0,b.Z)(function*(e,r,t){e.legendEnabled&&t.legendLayers.push({id:e.id});const n=r.layerView,i=r.printTemplate;let a;return!t.is11xService||n.filter?A(e,yield pe(n),i,t):(a={type:"CSV"},e.write(a,{origin:"web-map"}),delete a.popupInfo,delete a.layerType,a.showLabels=i.showLabels&&e.labelsVisible,a)})).apply(this,arguments)}function A(e,r,t,n){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,b.Z)(function*(e,r,t,n){let i;const a={layerDefinition:{name:"polygonLayer",geometryType:"esriGeometryPolygon",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPolygon",features:[]}},o={layerDefinition:{name:"polylineLayer",geometryType:"esriGeometryPolyline",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPolyline",features:[]}},u={layerDefinition:{name:"pointLayer",geometryType:"esriGeometryPoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPoint",features:[]}},s={layerDefinition:{name:"multipointLayer",geometryType:"esriGeometryMultipoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryMultipoint",features:[]}},l={layerDefinition:{name:"pointLayer",geometryType:"esriGeometryPoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPoint",features:[]}};if(l.layerDefinition.name="textLayer",delete l.layerDefinition.drawingInfo,e){if("esri.layers.FeatureLayer"===e.declaredClass||"esri.layers.StreamLayer"===e.declaredClass?a.layerDefinition.name=o.layerDefinition.name=u.layerDefinition.name=s.layerDefinition.name=n.legendLayerNameMap[e.id]||e.get("arcgisProps.title")||e.title:"esri.layers.GraphicsLayer"===e.declaredClass&&(r=e.graphics.items),e.renderer){const h=e.renderer.toJSON();a.layerDefinition.drawingInfo.renderer=h,o.layerDefinition.drawingInfo.renderer=h,u.layerDefinition.drawingInfo.renderer=h,s.layerDefinition.drawingInfo.renderer=h}if(t.showLabels&&e.labelsVisible&&"function"==typeof e.write){var f,m;const h=null==(f=e.write({},{origin:"web-map"}).layerDefinition)||null==(m=f.drawingInfo)?void 0:m.labelingInfo;h&&(i=!0,a.layerDefinition.drawingInfo.labelingInfo=h,o.layerDefinition.drawingInfo.labelingInfo=h,u.layerDefinition.drawingInfo.labelingInfo=h,s.layerDefinition.drawingInfo.labelingInfo=h)}}let g;null!=e&&e.renderer||i||(delete a.layerDefinition.drawingInfo,delete o.layerDefinition.drawingInfo,delete u.layerDefinition.drawingInfo,delete s.layerDefinition.drawingInfo);const D=null==e?void 0:e.fieldsIndex,v=null==e?void 0:e.renderer;if(D){const h=new Set;i&&(yield(0,pt.Mu)(h,e)),v&&"function"==typeof v.collectRequiredFields&&(yield v.collectRequiredFields(h,D)),g=Array.from(h);const x=D.fields.map(E=>E.toJSON());a.layerDefinition.fields=x,o.layerDefinition.fields=x,u.layerDefinition.fields=x,s.layerDefinition.fields=x}const S=r&&r.length;let y;for(let h=0;h<S;h++){var P;const x=r[h]||r.getItemAt(h);if(!1===x.visible||!x.geometry||(y=x.toJSON(),y.hasOwnProperty("popupTemplate")&&delete y.popupTemplate,y.geometry&&y.geometry.z&&delete y.geometry.z,y.symbol&&y.symbol.outline&&"esriCLS"===y.symbol.outline.type&&!n.is11xService))continue;!n.is11xService&&y.symbol&&y.symbol.outline&&y.symbol.outline.color&&y.symbol.outline.color[3]&&(y.symbol.outline.color[3]=255);const E=e&&e.renderer&&("valueExpression"in e.renderer&&e.renderer.valueExpression||"hasVisualVariables"in e.renderer&&e.renderer.hasVisualVariables());if(!y.symbol&&e&&e.renderer&&E&&!n.is11xService){const V=e.renderer,N=yield V.getSymbolAsync(x);if(!N)continue;y.symbol=N.toJSON(),"hasVisualVariables"in V&&V.hasVisualVariables()&&Mt(y.symbol,{renderer:V,graphic:x,symbol:N})}if(y.symbol&&(y.symbol.angle||delete y.symbol.angle,ye(y.symbol)?y.symbol=yield ce(y.symbol,n):y.symbol.text&&delete y.attributes),(!t||!t.forceFeatureAttributes)&&null!=(P=g)&&P.length){const V={};g.forEach(N=>{y.attributes&&y.attributes.hasOwnProperty(N)&&(V[N]=y.attributes[N])}),y.attributes=V}"polygon"===x.geometry.type?a.featureSet.features.push(y):"polyline"===x.geometry.type?o.featureSet.features.push(y):"point"===x.geometry.type?y.symbol&&y.symbol.text?l.featureSet.features.push(y):u.featureSet.features.push(y):"multipoint"===x.geometry.type?s.featureSet.features.push(y):"extent"===x.geometry.type&&(y.geometry=ct.Z.fromExtent(x.geometry).toJSON(),a.featureSet.features.push(y))}const L=[a,o,s,u,l].filter(h=>h.featureSet.features.length>0);for(const h of L){const x=h.featureSet.features.every(E=>E.symbol);!x||t&&t.forceFeatureAttributes||h.featureSet.features.forEach(E=>{delete E.attributes}),x&&delete h.layerDefinition.drawingInfo,h.layerDefinition.drawingInfo&&h.layerDefinition.drawingInfo.renderer&&(yield st(h.layerDefinition.drawingInfo.renderer,n))}return L.length?{featureCollection:{layers:L},showLabels:i}:null})).apply(this,arguments)}function sr(e,r,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,b.Z)(function*(e,r,t){var n,i;let a;const o=e.renderer,u=parseFloat(t.cimVersion);if(e.featureReduction&&(!t.is11xService||u<2.9)||"dot-density"===(null==o?void 0:o.type)&&(!t.is11xService||u<2.6))return ue(e,r,t);e.legendEnabled&&t.legendLayers.push({id:e.id});const s=r.layerView,{printTemplate:l,view:f}=r,m=o&&("valueExpression"in o&&o.valueExpression||"hasVisualVariables"in o&&o.hasVisualVariables()),g="feature-layer"!==(null==(n=e.source)?void 0:n.type)&&"ogc-feature"!==(null==(i=e.source)?void 0:i.type);if(!t.is11xService&&m||s.filter||g||!o||"field"in o&&null!=o.field&&("string"!=typeof o.field||!e.getField(o.field))){const y=yield pe(s);a=yield A(e,y,l,t)}else{var D,v;if(a={id:(S=e.write()).id,title:S.title,opacity:S.opacity,minScale:S.minScale,maxScale:S.maxScale,url:S.url,layerType:S.layerType,customParameters:S.customParameters,layerDefinition:S.layerDefinition},a.showLabels=l.showLabels&&e.labelsVisible,ie(a,e),null!=(D=a.layerDefinition)&&null!=(v=D.drawingInfo)&&v.renderer&&(delete a.layerDefinition.minScale,delete a.layerDefinition.maxScale,yield st(a.layerDefinition.drawingInfo.renderer,t),"visualVariables"in o&&o.visualVariables&&o.visualVariables[0])){const P=o.visualVariables[0];if("size"===P.type&&P.maxSize&&"number"!=typeof P.maxSize&&P.minSize&&"number"!=typeof P.minSize){const L=(0,q.getSizeRangeAtScale)(P,f.scale);a.layerDefinition.drawingInfo.renderer.visualVariables[0].minSize=L.minSize,a.layerDefinition.drawingInfo.renderer.visualVariables[0].maxSize=L.maxSize}}const y=(0,qt.cx)(s);y&&(a.layerDefinition||(a.layerDefinition={}),a.layerDefinition.definitionExpression=a.layerDefinition.definitionExpression?`(${a.layerDefinition.definitionExpression}) AND (${y})`:y)}var S;return a})).apply(this,arguments)}function or(e,r,t){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,b.Z)(function*(e,{layerView:r,printTemplate:t},n){return e.legendEnabled&&n.legendLayers.push({id:e.id}),A(e,yield pe(r),t,n)})).apply(this,arguments)}function lr(e,r,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,b.Z)(function*(e,{printTemplate:r},t){return A(e,null,r,t)})).apply(this,arguments)}function ur(e,r){e.legendEnabled&&r.legendLayers.push({id:e.id});const t={layerType:(n=e.write()).layerType,customParameters:n.customParameters};var n;if(t.bandIds=e.bandIds,t.compressionQuality=e.compressionQuality,t.format=e.format,t.interpolation=e.interpolation,(e.mosaicRule||e.definitionExpression)&&(t.mosaicRule=e.exportImageServiceParameters.mosaicRule.toJSON()),e.renderingRule||e.renderer)if(r.is11xService)e.renderingRule&&(t.renderingRule=e.renderingRule.toJSON()),e.renderer&&(t.layerDefinition=t.layerDefinition||{},t.layerDefinition.drawingInfo=t.layerDefinition.drawingInfo||{},t.layerDefinition.drawingInfo.renderer=e.renderer.toJSON());else{const i=e.exportImageServiceParameters.combineRendererWithRenderingRule();i&&(t.renderingRule=i.toJSON())}return ie(t,e),t}function cr(e,r){e.legendEnabled&&r.legendLayers.push({id:e.id});const t={bandIds:(n=e.write()||{}).bandIds,customParameters:n.customParameters,interpolation:n.interpolation,layerDefinition:n.layerDefinition};var n;return t.layerType="ArcGISImageServiceLayer",ie(t,e),t}function pr(e,r,t){return je.apply(this,arguments)}function je(){return(je=(0,b.Z)(function*(e,r,t){const n=r.printTemplate;if(t.is11xService){const i={type:"kml"};return e.write(i,{origin:"web-map"}),delete i.layerType,i.url=(0,B.Fv)(e.url),i}{const i=[],a=r.layerView;a.allVisibleMapImages.forEach((s,l)=>{const f={id:`${e.id}_image${l}`,type:"image",title:e.id,minScale:e.minScale||0,maxScale:e.maxScale||0,opacity:e.opacity,extent:s.extent};"data:image/png;base64,"===s.href.substr(0,22)?f.imageData=s.href.substr(22):f.url=s.href,i.push(f)});const o=[...a.allVisiblePoints.items,...a.allVisiblePolylines.items,...a.allVisiblePolygons.items],u=M({id:e.id},yield A(null,o,n,t));return i.push(u),i}})).apply(this,arguments)}function yr(e,{view:r},t){let n;const i={id:e.id,subLayerIds:[]};let a=[];const o=r.scale,u=l=>{if(l.visible&&(0===o||(0===l.minScale||o<=l.minScale)&&(0===l.maxScale||o>=l.maxScale)))if(l.sublayers)l.sublayers.forEach(u);else{const D=l.toExportImageJSON();a.unshift({id:l.id,name:l.title,layerDefinition:{drawingInfo:D.drawingInfo,definitionExpression:D.definitionExpression,source:D.source}}),i.subLayerIds.push(l.id)}};var s;return e.sublayers&&e.sublayers.forEach(u),a.length&&(a=a.map(({id:l,name:f,layerDefinition:m})=>({id:l,name:f,layerDefinition:m})),n={layerType:(s=e.write()).layerType,customParameters:s.customParameters},n.layers=a,n.visibleLayers=e.capabilities.exportMap.supportsDynamicLayers?void 0:i.subLayerIds,ie(n,e),e.legendEnabled&&t.legendLayers.push(i)),n}function dr(e,r){return _e.apply(this,arguments)}function _e(){return(_e=(0,b.Z)(function*({layerView:e,printTemplate:r},t){const n=[],i=e.layer;if((0,H.pC)(i.featureCollections))for(const a of i.featureCollections){const o=yield A(a,a.source,r,t);o&&n.push(...o.featureCollection.layers)}else if((0,H.pC)(i.sublayers))for(const a of i.sublayers){const o=yield A(null,a.graphics,r,t);o&&n.push(...o.featureCollection.layers)}return{featureCollection:{layers:n}}})).apply(this,arguments)}function ue(e,r,t){return Je.apply(this,arguments)}function Je(){return(Je=(0,b.Z)(function*(e,{printTemplate:r,view:t},n){const i={type:"image"},a={format:"png",ignoreBackground:!0,layers:[e],rotation:0},o=n.ssExtent||t.extent.clone();let u=96,s=!0,l=!0;if(r.exportOptions){const g=r.exportOptions;g.dpi>0&&(u=g.dpi),g.width>0&&(s=g.width%2==t.width%2),g.height>0&&(l=g.height%2==t.height%2)}if("map-only"===r.layout&&r.scalePreserved&&(!r.outScale||r.outScale===t.scale)&&96===u&&(!s||!l)&&(a.area={x:0,y:0,width:t.width,height:t.height},s||(a.area.width-=1),l||(a.area.height-=1),!n.ssExtent)){const g=t.toMap((0,J.vW)(a.area.width,a.area.height));o.ymin=g.y,o.xmax=g.x,n.ssExtent=o}i.extent=o.clone()._normalize(!0).toJSON();const f=yield t.takeScreenshot(a),{data:m}=(0,B.sJ)(f.dataUrl);return i.imageData=m,i})).apply(this,arguments)}function mr(e,r,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,b.Z)(function*(e,{layerView:r,printTemplate:t},n){return e.legendEnabled&&n.legendLayers.push({id:e.id}),A(e,yield pe(r),t,n)})).apply(this,arguments)}function gr(e){const r={layerType:(t=e.write()).layerType,customParameters:t.customParameters};var t;return ie(r,e),r}function hr(e,r,t){return Re.apply(this,arguments)}function Re(){return(Re=(0,b.Z)(function*(e,r,t){if(t.is11xService&&e.serviceUrl&&e.styleUrl){const n=Ne(e.styleUrl,e.apiKey),i=Ne(e.serviceUrl,e.apiKey);if(!n&&!i||"2.1.0"!==t.cimVersion){const a={type:"VectorTileLayer"};return a.styleUrl=(0,B.Fv)(e.styleUrl),a.token=n,i!==n&&(a.additionalTokens=[{url:e.serviceUrl,token:i}]),a}}return ue(e,r,t)})).apply(this,arguments)}function br(e){const r={type:"WebTiledLayer",urlTemplate:e.urlTemplate.replace(/\${/g,"{"),credits:e.copyright};return e.subDomains&&e.subDomains.length>0&&(r.subDomains=e.subDomains),r}function vr(e){let r;const t=[],n=i=>{i.visible&&(i.sublayers?i.sublayers.forEach(n):i.name&&t.unshift(i.name))};return e.sublayers&&e.sublayers.forEach(n),t.length&&(r={type:"wms",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,transparentBackground:e.imageTransparency,visibleLayers:t,url:(0,B.Fv)(e.url),version:e.version}),r}function Sr(e){const r=e.activeLayer;return{type:"wmts",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,format:r.imageFormat,layer:r.id,style:r.styleId,tileMatrixSet:r.tileMatrixSetId,url:(0,B.Fv)(e.url)}}function ie(e,r){r.url&&(e.url=(0,B.Fv)(e.url||r.url),e.token=Ne(e.url,r.apiKey))}function Ne(e,r){var t,n;return(0,Ht.r)(e)&&(r||Y.Z.apiKey)?r||Y.Z.apiKey:null==(t=z.id)||null==(n=t.findCredential(e))?void 0:n.token}function ce(e,r){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,b.Z)(function*(e,r){r.canvas||(r.canvas=document.createElement("canvas"));const t=1024;r.canvas.width=t,r.canvas.height=t;const n=r.canvas.getContext("2d");let i,a;if(e.path){var o;const u=new Path2D(e.path);u.closePath(),n.fillStyle=Array.isArray(e.color)?`rgba(${e.color[0]},${e.color[1]},${e.color[2]},${e.color[3]/255})`:"rgb(0,0,0)",n.fill(u);const s=Lt(n);if(!s)return null;n.clearRect(0,0,t,t);const l=(0,J.F2)(e.size)/Math.max(s.width,s.height);n.scale(l,l);const f=t/l;if(n.translate(f/2-s.width/2-s.x,f/2-s.height/2-s.y),Array.isArray(e.color)&&n.fill(u),null!=(o=e.outline)&&o.width&&Array.isArray(e.outline.color)){const v=e.outline;n.lineWidth=(0,J.F2)(v.width)/l,n.lineJoin="round",n.strokeStyle=`rgba(${v.color[0]},${v.color[1]},${v.color[2]},${v.color[3]/255})`,n.stroke(u),s.width+=n.lineWidth,s.height+=n.lineWidth}s.width*=l,s.height*=l;const D=n.getImageData(512-s.width/2,512-s.height/2,Math.ceil(s.width),Math.ceil(s.height));i=D.width,a=D.height,n.canvas.width=i,n.canvas.height=a,n.putImageData(D,0,0)}else{const u="image/svg+xml"===e.contentType?"data:image/svg+xml;base64,"+e.imageData:e.url,s=(yield(0,U.default)(u,{responseType:"image"})).data;i=(0,J.F2)(e.width),a=(0,J.F2)(e.height),n.canvas.width=i,n.canvas.height=a,n.drawImage(s,0,0,n.canvas.width,n.canvas.height)}return{type:"esriPMS",imageData:n.canvas.toDataURL("image/png").substr(22),angle:e.angle,contentType:"image/png",height:(0,J.Wz)(a),width:(0,J.Wz)(i),xoffset:e.xoffset,yoffset:e.yoffset}})).apply(this,arguments)}function st(e,r){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,b.Z)(function*(e,r){const t=e.type;if("simple"===t&&ye(e.symbol))e.symbol=yield ce(e.symbol,r);else if("uniqueValue"===t||"classBreaks"===t){ye(e.defaultSymbol)&&(e.defaultSymbol=yield ce(e.defaultSymbol,r));const n=e["uniqueValue"===t?"uniqueValueInfos":"classBreakInfos"];if(n)for(const i of n)ye(i.symbol)&&(i.symbol=yield ce(i.symbol,r))}})).apply(this,arguments)}function pe(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,b.Z)(function*(e){return e.queryFeatures(e.createQuery()).then(r=>r.features)})).apply(this,arguments)}function ot(e){return e.gpMetadata&&e.gpMetadata.executionType?er.fromJSON(e.gpMetadata.executionType):"sync"}function ye(e){return e&&(e.path||"image/svg+xml"===e.contentType||e.url&&e.url.endsWith(".svg"))}var xr=c(79308);const Pr=new _.Xn({esriExecutionTypeSynchronous:"sync",esriExecutionTypeAsynchronous:"async"});let Q=class extends xr.Z{constructor(...e){super(...e),this._gpMetadata=null,this.updateDelay=1e3}get mode(){return this._gpMetadata&&this._gpMetadata.executionType?Pr.fromJSON(this._gpMetadata.executionType):"sync"}execute(e,r){return e&&(e.updateDelay=this.updateDelay),function tr(e,r,t){return De.apply(this,arguments)}(this.url,e,M(M({},this.requestOptions),r))}_getGpPrintParams(e){var r=this;return(0,b.Z)(function*(){const t=Te(r.url),n=ne.get(t);return at(e,n)})()}};(0,p._)([(0,d.Cb)()],Q.prototype,"_gpMetadata",void 0),(0,p._)([(0,d.Cb)({readOnly:!0})],Q.prototype,"mode",null),(0,p._)([(0,d.Cb)()],Q.prototype,"updateDelay",void 0),Q=(0,p._)([(0,O.j)("esri.tasks.PrintTask")],Q);const Dr=Q},79530:(j,w,c)=>{function b(T){var G;const I=T.layer;return"floorInfo"in I&&null!=(G=I.floorInfo)&&G.floorField&&"floors"in T.view?d(T.view.floors,I.floorInfo.floorField):null}function p(T,G){var I;return"floorInfo"in G&&null!=(I=G.floorInfo)&&I.floorField?d(T,G.floorInfo.floorField):null}function _(T,G){const{definitionExpression:I}=G;return T?I?`(${I}) AND (${T})`:T:I}function d(T,G){if(null==T||!T.length)return null;const I=T.filter(O=>""!==O).map(O=>`'${O}'`);return I.push("''"),`${G} IN (${I.join(",")}) OR ${G} IS NULL`}c.d(w,{Hp:()=>_,cx:()=>b,ff:()=>p})}}]);