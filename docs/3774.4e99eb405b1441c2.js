"use strict";var De=Object.defineProperty,je=Object.defineProperties,ke=Object.getOwnPropertyDescriptors,Ce=Object.getOwnPropertySymbols,Le=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,Ne=(P,w,y)=>w in P?De(P,w,{enumerable:!0,configurable:!0,writable:!0,value:y}):P[w]=y,D=(P,w)=>{for(var y in w||(w={}))Le.call(w,y)&&Ne(P,y,w[y]);if(Ce)for(var y of Ce(w))Ie.call(w,y)&&Ne(P,y,w[y]);return P},re=(P,w)=>je(P,ke(w));(self.webpackChunksite=self.webpackChunksite||[]).push([[3774],{58775:(P,w,y)=>{y.d(w,{lG:()=>le,q9:()=>T,my:()=>we,O3:()=>he});var S=y(26584),Q=y(66385),G=y(88071),g=y(36630);const b={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function T(n){return b[n]}function*W(n){switch(n.type){case"Feature":yield n;break;case"FeatureCollection":for(const i of n.features)i&&(yield i)}}function*$(n){if(!n)return null;switch(n.type){case"Point":yield n.coordinates;break;case"LineString":case"MultiPoint":yield*n.coordinates;break;case"MultiLineString":case"Polygon":for(const i of n.coordinates)yield*i;break;case"MultiPolygon":for(const i of n.coordinates)for(const u of i)yield*u}}function V(n){for(const i of n)if(i.length>2)return!0;return!1}function ie(n){let i=0;for(let u=0;u<n.length;u++){const p=n[u],m=n[(u+1)%n.length];i+=p[0]*m[1]-m[0]*p[1]}return i<=0}function se(n){const i=n[0],u=n[n.length-1];return i[0]===u[0]&&i[1]===u[1]&&i[2]===u[2]||n.push(i),n}function ye(n,i,u){switch(i.type){case"LineString":return function de(n,i,u){return H(n,i.coordinates,u),n}(n,i,u);case"MultiLineString":return function Z(n,i,u){for(const p of i.coordinates)H(n,p,u);return n}(n,i,u);case"MultiPoint":return function j(n,i,u){return H(n,i.coordinates,u),n}(n,i,u);case"MultiPolygon":return function ae(n,i,u){for(const p of i.coordinates){U(n,p[0],u);for(let m=1;m<p.length;m++)B(n,p[m],u)}return n}(n,i,u);case"Point":return function me(n,i,u){return J(n,i.coordinates,u),n}(n,i,u);case"Polygon":return function _(n,i,u){const p=i.coordinates;U(n,p[0],u);for(let m=1;m<p.length;m++)B(n,p[m],u);return n}(n,i,u)}}function U(n,i,u){const p=se(i);!function pe(n){return!ie(n)}(p)?H(n,p,u):ue(n,p,u)}function B(n,i,u){const p=se(i);!function fe(n){return ie(n)}(p)?H(n,p,u):ue(n,p,u)}function H(n,i,u){for(const p of i)J(n,p,u);n.lengths.push(i.length)}function ue(n,i,u){for(let p=i.length-1;p>=0;p--)J(n,i[p],u);n.lengths.push(i.length)}function J(n,i,u){const[p,m,k]=i;n.coords.push(p,m),u.hasZ&&n.coords.push(k||0)}function ge(n){switch(typeof n){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function he(n){if(!n)throw new S.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==n.type&&"FeatureCollection"!==n.type)throw new S.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:n});const{crs:i}=n;if(!i)return;const u="string"==typeof i?i:"name"===i.type?i.properties.name:"EPSG"===i.type?i.properties.code:null,p=new RegExp(".*(CRS84H?|4326)$","i");if(!u||!p.test(u))throw new S.Z("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:i})}function we(n,i={}){const u=[],p=new Set,m=new Set;let k,R=!1,x=null,O=!1,{geometryType:N=null}=i,X=!1;for(const z of W(n)){const{geometry:L,properties:A,id:M}=z;if((!L||(N||(N=T(L.type)),T(L.type)===N))&&(R||(R=V($(L))),O||(O=null!=M,O&&(k=typeof M,x=Object.keys(A).filter(I=>A[I]===M))),O&&null!=M&&(x.length>1?x=x.filter(I=>A[I]===M):1===x.length&&(x=A[x[0]]===M?x:[])),!X&&A)){let I=!0;for(const C in A){if(p.has(C))continue;const q=A[C];if(null==q){I=!1,m.add(C);continue}const ce=ge(q);"unknown"!==ce?(m.delete(C),p.add(C),u.push({name:C,alias:C,type:ce})):m.add(C)}X=I}}const Y=x&&1===x.length&&x[0]||null;if(Y)for(const z of u)if(z.name===Y&&(0,g.H7)(z)){z.type="esriFieldTypeOID";break}return{fields:u,geometryType:N,hasZ:R,objectIdFieldName:Y,objectIdFieldType:k,unknownFields:Array.from(m)}}function le(n,i){return Array.from(function*oe(n,i={}){const{geometryType:u,objectIdField:p}=i;for(const k of n){var m;const{geometry:R,properties:x,id:O}=k;if(R&&T(R.type)!==u)continue;const N=x||{};let X=null!=(m=N[p])?m:null;p&&null!=O&&!N[p]&&(N[p]=X=O),yield new Q.ZP(R?ye(new G.Z,R,i):null,N,null,X)}}(W(n),i))}},83774:(P,w,y)=>{y.d(w,{M8:()=>B,ft:()=>Y,FU:()=>p,Bm:()=>Ee,be:()=>z,eB:()=>q});var S=y(15861),G=(y(29132),y(84792)),g=y(26584),b=y(56354),T=y(62208),W=y(10699),$=y(21726),oe=y(56741),V=y(37053),pe=y(71774),fe=y(58775);function ie(o){var t;return null!=(t=function ye(o){var t,r,a,s;const l=de.exec(o);if(!l)return null;const c=l.groups,f=+c.year,d=+c.month-1,h=+c.day,F=+(null!=(t=c.hours)?t:"0"),v=+(null!=(r=c.minutes)?r:"0"),E=+(null!=(a=c.seconds)?a:"0");if(F>23||v>59||E>59)return null;const K=null!=(s=c.ms)?s:"0",te=K?+K.padEnd(3,"0").substring(0,3):0;let ne;return ne=c.isUTC?Date.UTC(f,d,h,F,v,E,te):c.offsetSign?6e4*("+"===c.offsetSign?-1:1)*(60*+c.offsetHours+ +c.offsetMinutes)+Date.UTC(f,d,h,F,v,E,te):new Date(f,d,h,F,v,E,te).getTime(),Number.isNaN(ne)?null:ne}(o))?t:function se(o){const t=new Date(o).getTime();return Number.isNaN(t)?null:t}(o)}const de=/^(?:(?<year>-?\d{4,})-(?<month>\d{2})-(?<day>\d{2}))(?:T(?<hours>\d{2}):(?<minutes>\d{2}):(?<seconds>\d{2})(?:\.(?<ms>\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\+|-)(?<offsetHours>\d{2}):(?<offsetMinutes>\d{2})))?$/;var Z=y(7255),j=y(36255),ae=y(65234),me=y(2004);const _="xlink:href",U="2.0.0",B="__esri_wfs_id__",H="wfs-layer:getWFSLayerTypeInfo-error",ue="wfs-layer:empty-service",J="wfs-layer:feature-type-not-found",we="wfs-layer:malformed-json",le="wfs-layer:unknown-geometry-type",i="wfs-layer:unsupported-spatial-reference";function p(o,t){return m.apply(this,arguments)}function m(){return(m=(0,S.Z)(function*(o,t){const r=k((yield(0,G.default)(o,{responseType:"text",query:D({SERVICE:"WFS",REQUEST:"GetCapabilities",VERSION:U},null==t?void 0:t.customParameters),signal:null==t?void 0:t.signal})).data);return O(o,r),r})).apply(this,arguments)}function k(o){const t=Fe(o);(function Ue(o){const t=o.firstElementChild.getAttribute("version");if(t&&t!==U)throw new g.Z("wfs-layer:unsupported-wfs-version",`Unsupported WFS version ${t}. Supported version: ${U}`)})(t),ve(t);const r=t.firstElementChild,a=(0,b.Fs)(function N(o){return(0,Z.H)(o,{FeatureTypeList:{FeatureType:t=>{const r={typeName:"undefined:undefined",name:"",title:"",description:"",extent:null,namespacePrefix:"",namespaceUri:"",supportedSpatialReferences:[]},a=new Set([4326]),s=l=>{var c,f;const d=parseInt(null==(c=l.textContent.match(/(?<wkid>\d+$)/i))||null==(f=c.groups)?void 0:f.wkid,10);Number.isNaN(d)||a.add(d)};return(0,Z.h)(t,{Name:l=>{const{name:c,prefix:f}=ee(l.textContent);r.typeName=`${f}:${c}`,r.name=c,r.namespacePrefix=f,r.namespaceUri=l.lookupNamespaceURI(f)},Abstract:l=>{r.description=l.textContent},Title:l=>{r.title=l.textContent},WGS84BoundingBox:l=>{r.extent=function X(o){let t,r,a,s;for(const l of o.children)switch(l.localName){case"LowerCorner":[t,r]=l.textContent.split(" ").map(c=>Number.parseFloat(c));break;case"UpperCorner":[a,s]=l.textContent.split(" ").map(c=>Number.parseFloat(c))}return{xmin:t,ymin:r,xmax:a,ymax:s,spatialReference:V.Zn}}(l)},DefaultSRS:s,DefaultCRS:s,OtherSRS:s,OtherCRS:s}),r.title||(r.title=r.name),r.supportedSpatialReferences.push(...a),r}}})}(r));return{operations:x(r),get featureTypes(){return Array.from(a())},readFeatureTypes:a}}const R=new Set(["json","application/json","geojson","application/json; subtype=geojson"]);function x(o){let t=!1;const r={GetCapabilities:{url:""},DescribeFeatureType:{url:""},GetFeature:{url:"",outputFormat:null,supportsPagination:!1}};if((0,Z.h)(o,{OperationsMetadata:{Operation:a=>{switch(a.getAttribute("name")){case"GetCapabilities":return{DCP:{HTTP:{Get:s=>{r.GetCapabilities.url=s.getAttribute(_)}}}};case"DescribeFeatureType":return{DCP:{HTTP:{Get:s=>{r.DescribeFeatureType.url=s.getAttribute(_)}}}};case"GetFeature":return{DCP:{HTTP:{Get:s=>{r.GetFeature.url=s.getAttribute(_)}}},Parameter:s=>{if("outputFormat"===s.getAttribute("name"))return{AllowedValues:{Value:l=>{const c=l.textContent;R.has(c.toLowerCase())&&(r.GetFeature.outputFormat=c)}}}}}}},Constraint:a=>{switch(a.getAttribute("name")){case"KVPEncoding":return{DefaultValue:s=>{t="true"===s.textContent.toLowerCase()}};case"ImplementsResultPaging":return{DefaultValue:s=>{r.GetFeature.supportsPagination="true"===s.textContent.toLowerCase()}}}}}}),!t)throw new g.Z("wfs-layer:kvp-encoding-not-supported","WFS service doesn't support key/value pair (KVP) encoding");if((0,T.Wi)(r.GetFeature.outputFormat))throw new g.Z("wfs-layer:geojson-not-supported","WFS service doesn't support GeoJSON output format");return r}function O(o,t){(0,$.$U)(o)&&((0,$.D6)(o,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=(0,$.hO)(t.operations.DescribeFeatureType.url)),(0,$.D6)(o,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=(0,$.hO)(t.operations.GetFeature.url)))}function Y(o,t,r){return(0,b.sE)(o,a=>r?a.name===t&&a.namespaceUri===r:a.typeName===t||a.name===t)}function z(o,t,r){return L.apply(this,arguments)}function L(){return(L=(0,S.Z)(function*(o,t,r,a={}){var s;const{featureType:l,extent:c}=yield A(o,t,r,a),{fields:f,geometryType:d,swapXY:h,objectIdField:F,geometryField:v}=yield I(o,l.typeName,a);return{url:o.operations.GetCapabilities.url,name:l.name,namespaceUri:l.namespaceUri,fields:f,geometryField:v,geometryType:d,objectIdField:F,spatialReference:null!=(s=a.spatialReference)?s:ae.Z.WGS84,extent:c,swapXY:h,wfsCapabilities:o,customParameters:a.customParameters}})).apply(this,arguments)}function A(o,t,r){return M.apply(this,arguments)}function M(){return(M=(0,S.Z)(function*(o,t,r,a={}){const{spatialReference:s=ae.Z.WGS84}=a,l=o.readFeatureTypes(),c=t?Y(l,t,r):l.next().value;if((0,T.Wi)(c))throw t?new g.Z(J,`The type '${t}' could not be found in the service`):new g.Z(ue,"The service is empty");let f=new me.Z(re(D({},c.extent),{spatialReference:s}));if(!(0,V.fS)(s,V.Zn))try{yield(0,oe.iQ)(V.Zn,s,void 0,a),f=(0,oe.iV)(f,V.Zn)}catch(d){throw new g.Z(i,"Projection not supported")}return{extent:f,spatialReference:s,featureType:c}})).apply(this,arguments)}function I(o,t){return C.apply(this,arguments)}function C(){return(C=(0,S.Z)(function*(o,t,r={}){const[a,s]=yield(0,W.as)([Ge(o.operations.DescribeFeatureType.url,t,r),ce(o,t,r)]);if(a.error||s.error)throw new g.Z(H,`An error occurred while getting info about the feature type '${t}'`,{error:a.error||s.error});const{fields:l,errors:c}=a.value,f=a.value.geometryType||s.value.geometryType,d=s.value.swapXY;if((0,T.Wi)(f))throw new g.Z(le,`The geometry type could not be determined for type '${t}`,{typeName:t,geometryType:f,fields:l,errors:c});return re(D({},q(l)),{geometryType:f,swapXY:d})})).apply(this,arguments)}function q(o){var t;const r=o.find(s=>"geometry"===s.type);let a=o.find(s=>"oid"===s.type);return o=o.filter(s=>"geometry"!==s.type),a||(a=new j.Z({name:B,type:"oid",alias:B}),o.unshift(a)),{geometryField:null!=(t=null==r?void 0:r.name)?t:null,objectIdField:a.name,fields:o}}function ce(o,t){return Te.apply(this,arguments)}function Te(){return(Te=(0,S.Z)(function*(o,t,r={}){var a;let s,l=!1;const[c,f]=yield Promise.all([Ee(o.operations.GetFeature.url,t,o.operations.GetFeature.outputFormat,re(D({},r),{count:1})),(0,G.default)(o.operations.GetFeature.url,{responseType:"text",query:Pe(t,void 0,re(D({},r),{count:1})),signal:null==r?void 0:r.signal})]),d="FeatureCollection"===c.type&&(null==(a=c.features[0])?void 0:a.geometry);if(d){let h;switch(s=pe.Mk.fromJSON((0,fe.q9)(d.type)),d.type){case"Point":h=d.coordinates;break;case"LineString":case"MultiPoint":h=d.coordinates[0];break;case"MultiLineString":case"Polygon":h=d.coordinates[0][0];break;case"MultiPolygon":h=d.coordinates[0][0][0]}const F=/<[^>]*pos[^>]*> *(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?)/.exec(f.data);if(F){const v=h[0].toFixed(3),E=h[1].toFixed(3),K=parseFloat(F[1]).toFixed(3);v===parseFloat(F[2]).toFixed(3)&&E===K&&(l=!0)}}return{geometryType:s,swapXY:l}})).apply(this,arguments)}function Ge(o,t,r){return be.apply(this,arguments)}function be(){return(be=(0,S.Z)(function*(o,t,r){return Ze(t,(yield(0,G.default)(o,{responseType:"text",query:D({SERVICE:"WFS",REQUEST:"DescribeFeatureType",VERSION:U,TYPENAME:t},null==r?void 0:r.customParameters),signal:null==r?void 0:r.signal})).data)})).apply(this,arguments)}function Ze(o,t){const{name:r}=ee(o),a=Fe(t);ve(a);const s=(0,b.sE)((0,Z.H)(a.firstElementChild,{element:l=>({name:l.getAttribute("name"),typeName:ee(l.getAttribute("type")).name})}),({name:l})=>l===r);if((0,T.pC)(s)){const l=(0,b.sE)((0,Z.H)(a.firstElementChild,{complexType:c=>c}),c=>c.getAttribute("name")===s.typeName);if((0,T.pC)(l))return function Me(o){var t,r;const a=[],s=[];let l;const c=(0,Z.H)(o,{complexContent:{extension:{sequence:{element:f=>f}}}});for(const f of c){const d=f.getAttribute("name");if(!d)continue;let h,F;if(f.hasAttribute("type")?h=ee(f.getAttribute("type")).name:(0,Z.h)(f,{simpleType:{restriction:K=>(h=ee(K.getAttribute("base")).name,{maxLength:te=>{F=+te.getAttribute("value")}})}}),!h)continue;const v="true"===f.getAttribute("nillable");let E=!1;switch(h.toLowerCase()){case"integer":case"nonpositiveinteger":case"negativeinteger":case"long":case"int":case"short":case"byte":case"nonnegativeinteger":case"unsignedlong":case"unsignedint":case"unsignedshort":case"unsignedbyte":case"positiveinteger":s.push(new j.Z({name:d,alias:d,type:"integer",nullable:v}));break;case"float":case"double":case"decimal":s.push(new j.Z({name:d,alias:d,type:"double",nullable:v}));break;case"boolean":case"string":case"gyearmonth":case"gyear":case"gmonthday":case"gday":case"gmonth":case"anyuri":case"qname":case"notation":case"normalizedstring":case"token":case"language":case"idrefs":case"entities":case"nmtoken":case"nmtokens":case"name":case"ncname":case"id":case"idref":case"entity":case"duration":case"time":s.push(new j.Z({name:d,alias:d,type:"string",nullable:v,length:null!=(t=F)?t:255}));break;case"datetime":case"date":s.push(new j.Z({name:d,alias:d,type:"date",nullable:v,length:null!=(r=F)?r:36}));break;case"pointpropertytype":l="point",E=!0;break;case"multipointpropertytype":l="multipoint",E=!0;break;case"curvepropertytype":case"multicurvepropertytype":case"multilinestringpropertytype":l="polyline",E=!0;break;case"surfacepropertytype":case"multisurfacepropertytype":case"multipolygonpropertytype":l="polygon",E=!0;break;case"geometrypropertytype":case"multigeometrypropertytype":E=!0,a.push(new g.Z(le,`geometry type '${h}' is not supported`,{type:(new XMLSerializer).serializeToString(o)}));break;default:a.push(new g.Z("wfs-layer:unknown-field-type",`Unknown field type '${h}'`,{type:(new XMLSerializer).serializeToString(o)}))}E&&s.push(new j.Z({name:d,alias:d,type:"geometry",nullable:v}))}for(const f of s)if("integer"===f.type&&!f.nullable&&Re.has(f.name.toLowerCase())){f.type="oid";break}return{geometryType:l,fields:s,errors:a}}(l)}throw new g.Z(J,`Type '${o}' not found in document`,{document:(new XMLSerializer).serializeToString(a)})}const Re=new Set(["objectid","fid"]);function Ee(o,t,r,a){return Se.apply(this,arguments)}function Se(){return(Se=(0,S.Z)(function*(o,t,r,a){let{data:s}=yield(0,G.default)(o,{responseType:"text",query:Pe(t,r,a),signal:null==a?void 0:a.signal});s=s.replace(/": +(-?\d+),(\d+)(,)?/g,'": $1.$2$3');try{var l;if(null!=a&&null!=(l=a.dateFields)&&l.length){const c=new Set(a.dateFields);return JSON.parse(s,(f,d)=>c.has(f)?ie(d):d)}return JSON.parse(s)}catch(c){throw new g.Z(we,"Error while parsing the\xa0response",{response:s,error:c})}})).apply(this,arguments)}function Pe(o,t,r){return D({SERVICE:"WFS",REQUEST:"GetFeature",VERSION:U,TYPENAMES:o,OUTPUTFORMAT:t,SRSNAME:"EPSG:4326",STARTINDEX:null==r?void 0:r.startIndex,COUNT:null==r?void 0:r.count},null==r?void 0:r.customParameters)}function Fe(o){return(new DOMParser).parseFromString(o.trim(),"text/xml")}function ee(o){const[t,r]=o.split(":");return{prefix:r?t:"",name:null!=r?r:t}}function ve(o){let t,r;if((0,Z.h)(o.firstElementChild,{Exception:a=>(t=a.getAttribute("exceptionCode"),{ExceptionText:s=>{r=s.textContent}})}),t)throw new g.Z(`wfs-layer:${t}`,r)}},7255:(P,w,y)=>{function S(G,g){for(const b of G.children)if(b.localName in g){const T=g[b.localName];if("function"==typeof T){const W=T(b);W&&S(b,W)}else S(b,T)}}function*Q(G,g){for(const b of G.children)if(b.localName in g){const T=g[b.localName];"function"==typeof T?yield T(b):yield*Q(b,T)}}y.d(w,{H:()=>Q,h:()=>S})}}]);