"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[853],{550:(_t,k,a)=>{function T(){return[1,0,0,0,1,0,0,0,1]}function v(A,D){return new Float64Array(A,D,9)}a.d(k,{a:()=>v,c:()=>T}),Object.freeze({__proto__:null,create:T,clone:function j(A){return[A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8]]},fromValues:function F(A,D,p,P,c,C,u,g,I){return[A,D,p,P,c,C,u,g,I]},createView:v})},43703:(_t,k,a)=>{function T(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function j(D){return[D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],D[8],D[9],D[10],D[11],D[12],D[13],D[14],D[15]]}function v(D,p){return new Float64Array(D,p,16)}a.d(k,{I:()=>L,a:()=>v,b:()=>j,c:()=>T});const L=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze({__proto__:null,create:T,clone:j,fromValues:function F(D,p,P,c,C,u,g,I,S,z,Z,N,$,J,l,U){return[D,p,P,c,C,u,g,I,S,z,Z,N,$,J,l,U]},createView:v,IDENTITY:L})},48977:(_t,k,a)=>{a.d(k,{c:()=>N,g:()=>P,j:()=>X,k:()=>J,m:()=>c,s:()=>p});var T=a(550),j=a(78451),F=a(28093),v=a(39863),L=a(84161),A=a(993);function p(t,r,M){M*=.5;const s=Math.sin(M);return t[0]=s*r[0],t[1]=s*r[1],t[2]=s*r[2],t[3]=Math.cos(M),t}function P(t,r){const M=2*Math.acos(r[3]),s=Math.sin(M/2);return s>v.E?(t[0]=r[0]/s,t[1]=r[1]/s,t[2]=r[2]/s):(t[0]=1,t[1]=0,t[2]=0),M}function c(t,r,M){const s=r[0],E=r[1],R=r[2],V=r[3],b=M[0],w=M[1],rt=M[2],et=M[3];return t[0]=s*et+V*b+E*rt-R*w,t[1]=E*et+V*w+R*b-s*rt,t[2]=R*et+V*rt+s*w-E*b,t[3]=V*et-s*b-E*w-R*rt,t}function S(t,r,M,s){const E=r[0],R=r[1],V=r[2],b=r[3];let w,rt,et,ct,it,ut=M[0],ft=M[1],lt=M[2],Et=M[3];return rt=E*ut+R*ft+V*lt+b*Et,rt<0&&(rt=-rt,ut=-ut,ft=-ft,lt=-lt,Et=-Et),1-rt>v.E?(w=Math.acos(rt),et=Math.sin(w),ct=Math.sin((1-s)*w)/et,it=Math.sin(s*w)/et):(ct=1-s,it=s),t[0]=ct*E+it*ut,t[1]=ct*R+it*ft,t[2]=ct*V+it*lt,t[3]=ct*b+it*Et,t}function N(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t}function $(t,r){const M=r[0]+r[4]+r[8];let s;if(M>0)s=Math.sqrt(M+1),t[3]=.5*s,s=.5/s,t[0]=(r[5]-r[7])*s,t[1]=(r[6]-r[2])*s,t[2]=(r[1]-r[3])*s;else{let E=0;r[4]>r[0]&&(E=1),r[8]>r[3*E+E]&&(E=2);const R=(E+1)%3,V=(E+2)%3;s=Math.sqrt(r[3*E+E]-r[3*R+R]-r[3*V+V]+1),t[E]=.5*s,s=.5/s,t[3]=(r[3*R+V]-r[3*V+R])*s,t[R]=(r[3*R+E]+r[3*E+R])*s,t[V]=(r[3*V+E]+r[3*E+V])*s}return t}function J(t,r,M,s){const E=.5*Math.PI/180;r*=E,M*=E,s*=E;const R=Math.sin(r),V=Math.cos(r),b=Math.sin(M),w=Math.cos(M),rt=Math.sin(s),et=Math.cos(s);return t[0]=R*w*et-V*b*rt,t[1]=V*b*et+R*w*rt,t[2]=V*w*rt-R*b*et,t[3]=V*w*et+R*b*rt,t}const U=A.c,h=A.s,Y=A.a,K=c,q=A.b,ot=A.d,tt=A.l,G=A.e,H=G,W=A.f,m=W,B=A.n,X=A.g,_=A.h,o=(0,F.c)(),d=(0,F.f)(1,0,0),O=(0,F.f)(0,1,0),x=(0,j.a)(),Q=(0,j.a)(),st=(0,T.c)();Object.freeze({__proto__:null,identity:function D(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},setAxisAngle:p,getAxisAngle:P,multiply:c,rotateX:function C(t,r,M){M*=.5;const s=r[0],E=r[1],R=r[2],V=r[3],b=Math.sin(M),w=Math.cos(M);return t[0]=s*w+V*b,t[1]=E*w+R*b,t[2]=R*w-E*b,t[3]=V*w-s*b,t},rotateY:function u(t,r,M){M*=.5;const s=r[0],E=r[1],R=r[2],V=r[3],b=Math.sin(M),w=Math.cos(M);return t[0]=s*w-R*b,t[1]=E*w+V*b,t[2]=R*w+s*b,t[3]=V*w-E*b,t},rotateZ:function g(t,r,M){M*=.5;const s=r[0],E=r[1],R=r[2],V=r[3],b=Math.sin(M),w=Math.cos(M);return t[0]=s*w+E*b,t[1]=E*w-s*b,t[2]=R*w+V*b,t[3]=V*w-R*b,t},calculateW:function I(t,r){const M=r[0],s=r[1],E=r[2];return t[0]=M,t[1]=s,t[2]=E,t[3]=Math.sqrt(Math.abs(1-M*M-s*s-E*E)),t},slerp:S,random:function z(t){const r=(0,v.R)(),M=(0,v.R)(),s=(0,v.R)(),E=Math.sqrt(1-r),R=Math.sqrt(r);return t[0]=E*Math.sin(2*Math.PI*M),t[1]=E*Math.cos(2*Math.PI*M),t[2]=R*Math.sin(2*Math.PI*s),t[3]=R*Math.cos(2*Math.PI*s),t},invert:function Z(t,r){const M=r[0],s=r[1],E=r[2],R=r[3],V=M*M+s*s+E*E+R*R,b=V?1/V:0;return t[0]=-M*b,t[1]=-s*b,t[2]=-E*b,t[3]=R*b,t},conjugate:N,fromMat3:$,fromEuler:J,str:function l(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},copy:U,set:h,add:Y,mul:K,scale:q,dot:ot,lerp:tt,length:G,len:H,squaredLength:W,sqrLen:m,normalize:B,exactEquals:X,equals:_,rotationTo:function n(t,r,M){const s=(0,L.d)(r,M);return s<-.999999?((0,L.c)(o,d,r),(0,L.u)(o)<1e-6&&(0,L.c)(o,O,r),(0,L.n)(o,o),p(t,o,Math.PI),t):s>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,L.c)(o,r,M),t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=1+s,B(t,t))},sqlerp:function y(t,r,M,s,E,R){return S(x,r,E,R),S(Q,M,s,R),S(t,x,Q,2*R*(1-R)),t},setAxes:function at(t,r,M,s){const E=st;return E[0]=M[0],E[3]=M[1],E[6]=M[2],E[1]=s[0],E[4]=s[1],E[7]=s[2],E[2]=-r[0],E[5]=-r[1],E[8]=-r[2],B(t,$(t,E))}})},78451:(_t,k,a)=>{function T(){return[0,0,0,1]}function j(D){return[D[0],D[1],D[2],D[3]]}function v(D,p){return new Float64Array(D,p,4)}a.d(k,{I:()=>L,a:()=>T,b:()=>j,c:()=>v});const L=[0,0,0,1];Object.freeze({__proto__:null,create:T,clone:j,fromValues:function F(D,p,P,c){return[D,p,P,c]},createView:v,IDENTITY:L})},79800:(_t,k,a)=>{a.d(k,{a:()=>F,b:()=>A,n:()=>L,s:()=>v,t:()=>j});var T=a(96286);function j(p,P,c){if(p.count!==P.count)return void T.k.error("source and destination buffers need to have the same number of elements");const C=p.count,u=c[0],g=c[1],I=c[2],S=c[4],z=c[5],Z=c[6],N=c[8],$=c[9],J=c[10],l=c[12],U=c[13],h=c[14],Y=p.typedBuffer,K=p.typedBufferStride,q=P.typedBuffer,ot=P.typedBufferStride;for(let tt=0;tt<C;tt++){const G=tt*K,H=tt*ot,W=q[H],m=q[H+1],B=q[H+2];Y[G]=u*W+S*m+N*B+l,Y[G+1]=g*W+z*m+$*B+U,Y[G+2]=I*W+Z*m+J*B+h}}function F(p,P,c){if(p.count!==P.count)return void T.k.error("source and destination buffers need to have the same number of elements");const C=p.count,u=c[0],g=c[1],I=c[2],S=c[3],z=c[4],Z=c[5],N=c[6],$=c[7],J=c[8],l=p.typedBuffer,U=p.typedBufferStride,h=P.typedBuffer,Y=P.typedBufferStride;for(let K=0;K<C;K++){const q=K*U,ot=K*Y,tt=h[ot],G=h[ot+1],H=h[ot+2];l[q]=u*tt+S*G+N*H,l[q+1]=g*tt+z*G+$*H,l[q+2]=I*tt+Z*G+J*H}}function v(p,P,c){const C=Math.min(p.count,P.count),u=p.typedBuffer,g=p.typedBufferStride,I=P.typedBuffer,S=P.typedBufferStride;for(let z=0;z<C;z++){const Z=z*g,N=z*S;u[Z]=c*I[N],u[Z+1]=c*I[N+1],u[Z+2]=c*I[N+2]}}function L(p,P){const c=Math.min(p.count,P.count),C=p.typedBuffer,u=p.typedBufferStride,g=P.typedBuffer,I=P.typedBufferStride;for(let S=0;S<c;S++){const z=S*u,Z=S*I,N=g[Z],$=g[Z+1],J=g[Z+2],l=Math.sqrt(N*N+$*$+J*J);if(l>0){const U=1/l;C[z]=U*N,C[z+1]=U*$,C[z+2]=U*J}}}function A(p,P,c){const C=Math.min(p.count,P.count),u=p.typedBuffer,g=p.typedBufferStride,I=P.typedBuffer,S=P.typedBufferStride;for(let z=0;z<C;z++){const Z=z*g,N=z*S;u[Z]=I[N]>>c,u[Z+1]=I[N+1]>>c,u[Z+2]=I[N+2]>>c}}Object.freeze({__proto__:null,transformMat4:j,transformMat3:F,scale:v,normalize:L,shiftRight:A})},9554:(_t,k,a)=>{function T(v,L,A){const D=v.typedBuffer,p=v.typedBufferStride,P=L.typedBuffer,c=L.typedBufferStride,C=A?A.count:L.count;let u=(A&&A.dstIndex?A.dstIndex:0)*p,g=(A&&A.srcIndex?A.srcIndex:0)*c;for(let I=0;I<C;++I)D[u]=P[g],D[u+1]=P[g+1],D[u+2]=P[g+2],u+=p,g+=c}function j(v,L,A,D,p){var P,c;const C=v.typedBuffer,u=v.typedBufferStride,g=null!=(P=null==p?void 0:p.count)?P:v.count;let I=(null!=(c=null==p?void 0:p.dstIndex)?c:0)*u;for(let S=0;S<g;++S)C[I]=L,C[I+1]=A,C[I+2]=D,I+=u}a.d(k,{c:()=>T,f:()=>j}),Object.freeze({__proto__:null,copy:T,fill:j})},99746:(_t,k,a)=>{a.d(k,{Z:()=>U});var J,T=a(17626),j=a(86162),F=a(62208),v=a(77712),p=(a(85931),a(8314),a(90912),a(76898)),P=a(28347),c=a(43703),C=a(84161),u=a(28093),g=a(49672),I=a(56741),S=a(12080),z=a(89586),Z=a(60479),N=a(79800),$=a(9554);let l=J=class extends j.wq{constructor(h){super(h),this.origin=(0,u.c)(),this.translation=(0,u.c)(),this.rotation=(0,z.Ue)(),this.scale=(0,u.f)(1,1,1),this.geographic=!0}get localMatrix(){const h=(0,c.c)();return(0,P.f)(h,h,this.scale),(0,P.e)(h,h,(0,z.WH)(this.rotation),(0,z.ZZ)(this.rotation)),(0,P.a)(h,h,this.translation),h}get localMatrixInverse(){return(0,P.b)((0,c.c)(),this.localMatrix)}applyLocal(h,Y){return(0,C.m)(Y,h,this.localMatrix)}applyLocalInverse(h,Y){return(0,C.m)(Y,h,this.localMatrixInverse)}project(h,Y){const K=new Float64Array(h.length),q=Z.fP.fromTypedArray(K),ot=Z.fP.fromTypedArray(h);if(this.geographic){const H=(0,S.N_)((0,S.Iu)(Y)),W=(0,c.c)();return(0,I.Bm)(Y,this.origin,W,H),(0,P.m)(W,W,this.localMatrix),(0,N.t)(q,ot,W),(0,I.CM)(K,H,0,K,Y,0,K.length/3),K}const{localMatrix:tt,origin:G}=this;(0,P.n)(tt,c.I)?(0,$.c)(q,ot):(0,N.t)(q,ot,tt);for(let H=0;H<K.length;H+=3)K[H+0]+=G[0],K[H+1]+=G[1],K[H+2]+=G[2];return K}getOriginPoint(h){const[Y,K,q]=this.origin;return new g.Z({x:Y,y:K,z:q,spatialReference:h})}equals(h){return(0,F.pC)(h)&&this.geographic===h.geographic&&(0,C.k)(this.origin,h.origin)&&(0,P.p)(this.localMatrix,h.localMatrix)}clone(){const h={origin:(0,u.a)(this.origin),translation:(0,u.a)(this.translation),rotation:(0,z.Ue)(this.rotation),scale:(0,u.a)(this.scale),geographic:this.geographic};return new J(h)}};(0,T._)([(0,v.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],l.prototype,"origin",void 0),(0,T._)([(0,v.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],l.prototype,"translation",void 0),(0,T._)([(0,v.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],l.prototype,"rotation",void 0),(0,T._)([(0,v.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],l.prototype,"scale",void 0),(0,T._)([(0,v.Cb)({type:Boolean,nonNullable:!0,json:{write:!0}})],l.prototype,"geographic",void 0),(0,T._)([(0,v.Cb)()],l.prototype,"localMatrix",null),(0,T._)([(0,v.Cb)()],l.prototype,"localMatrixInverse",null),l=J=(0,T._)([(0,p.j)("esri.geometry.support.MeshTransform")],l);const U=l},89586:(_t,k,a)=>{a.d(k,{WH:()=>S,ZZ:()=>g,qC:()=>u,Ue:()=>L,uT:()=>c});var T=a(21286),j=a(48977),F=a(78451),v=a(84161);function L(l=Z){return[l[0],l[1],l[2],l[3]]}function c(l,U,h=L()){return(0,v.g)(h,l),h[3]=U,h}function u(l,U,h=L()){return(0,j.s)(N,l,S(l)),(0,j.s)($,U,S(U)),(0,j.m)(N,$,N),function z(l,U){return l[3]=U,l}(h,(0,T.BV)((0,j.g)(h,N)))}function g(l){return l}function S(l){return(0,T.Vl)(l[3])}const Z=[0,0,1,0],N=(0,F.a)(),$=(0,F.a)();L()},96286:(_t,k,a)=>{a.d(k,{k:()=>j});const j=a(63290).Z.getLogger("esri.views.3d.support.buffer.math")},92545:(_t,k,a)=>{function T(j,F){var v;return j.isGeographic||j.isWebMercator&&(null==(v=null==F?void 0:F.geographic)||v)}a.d(k,{h:()=>T})},60853:(_t,k,a)=>{a.d(k,{iv:()=>I,I5:()=>S,w1:()=>z,FF:()=>Z,Yq:()=>N});var T=a(62208),j=a(16730),F=a(550),v=a(28347),L=a(43703),A=a(30217),D=a(56741),p=a(12080),P=a(99746),c=a(60479),C=a(79800),u=a(92545),g=a(65231);function I(_,n,o){return(0,u.h)(n.spatialReference,o)?function J(_,n,o){const d=n.spatialReference,O=q(n,o,W),y=new Float64Array(_.position.length),x=function l(_,n,o,d){(0,C.t)(c.fP.fromTypedArray(d),c.fP.fromTypedArray(_),n);const O=new Float64Array(_.length);return(0,g.To)(d,O,o)}(_.position,O,d,y),Q=(0,A.a)(B,O);return{position:x,normal:U(x,y,_.normal,Q,d),tangent:h(x,y,_.tangent,Q,d)}}(_,n,o):function $(_,n,o){const d=new Float64Array(_.position.length),O=_.position,y=n.x,x=n.y,Q=n.z||0,{horizontal:at,vertical:st}=H(o?o.unit:null,n.spatialReference);for(let nt=0;nt<O.length;nt+=3)d[nt+0]=O[nt+0]*at+y,d[nt+1]=O[nt+1]*at+x,d[nt+2]=O[nt+2]*st+Q;return{position:d,normal:_.normal,tangent:_.tangent}}(_,n,o)}function S(_,n,o){const{position:d,normal:O,tangent:y}=_;if((0,T.Wi)(n))return{position:d,normal:O,tangent:y};const x=n.localMatrix;return I({position:(0,g.zZ)(d,new Float64Array(d.length),x),normal:(0,T.pC)(O)?(0,g.w9)(O,new Float32Array(O.length),x):null,tangent:(0,T.pC)(y)?(0,g.VS)(y,new Float32Array(y.length),x):null},n.getOriginPoint(o),{geographic:n.geographic})}function z(_,n,o){if(null!=o&&o.useTransform){var d;const{position:O,normal:y,tangent:x}=_;return{vertexAttributes:{position:O,normal:y,tangent:x},transform:new P.Z({origin:[n.x,n.y,null!=(d=n.z)?d:0],geographic:(0,u.h)(n.spatialReference,o)})}}return{vertexAttributes:I(_,n,o),transform:null}}function Z(_,n,o){return(0,u.h)(n.spatialReference,o)?K(_,n,o):Y(_,n,o)}function N(_,n,o,d){if((0,T.Wi)(n))return Z(_,o,d);const O=S(_,n,o.spatialReference);return o.equals(n.getOriginPoint(o.spatialReference))?Y(O,o,d):(0,u.h)(o.spatialReference,d)?K(O,o,d):Y(O,o,d)}function U(_,n,o,d,O){if((0,T.Wi)(o))return null;const y=new Float32Array(o.length);return(0,C.a)(c.ct.fromTypedArray(y),c.ct.fromTypedArray(o),d),(0,g.Yk)(y,_,n,O,y),y}function h(_,n,o,d,O){if((0,T.Wi)(o))return null;const y=new Float32Array(o.length);(0,C.a)(c.ct.fromTypedArray(y,4*Float32Array.BYTES_PER_ELEMENT),c.ct.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT),d);for(let x=3;x<y.length;x+=4)y[x]=o[x];return(0,g.M2)(y,_,n,O,y),y}function Y(_,n,o){const d=new Float64Array(_.position.length),O=_.position,y=n.x,x=n.y,Q=n.z||0,{horizontal:at,vertical:st}=H(o?o.unit:null,n.spatialReference);for(let nt=0;nt<O.length;nt+=3)d[nt+0]=(O[nt+0]-y)/at,d[nt+1]=(O[nt+1]-x)/at,d[nt+2]=(O[nt+2]-Q)/st;return{position:d,normal:_.normal,tangent:_.tangent}}function K(_,n,o){const d=n.spatialReference;q(n,o,W);const O=(0,v.b)(m,W),y=new Float64Array(_.position.length),x=function ot(_,n,o,d){const O=(0,g.XO)(_,n,d),y=c.fP.fromTypedArray(O),x=new Float64Array(O.length),Q=c.fP.fromTypedArray(x);return(0,C.t)(Q,y,o),x}(_.position,d,O,y),Q=(0,A.a)(B,O);return{position:x,normal:tt(_.normal,_.position,y,d,Q),tangent:G(_.tangent,_.position,y,d,Q)}}function q(_,n,o){(0,D.Bm)(_.spatialReference,[_.x,_.y,_.z||0],o,(0,p.rS)(_.spatialReference));const{horizontal:d,vertical:O}=H(n?n.unit:null,_.spatialReference);return(0,v.f)(o,o,[d,d,O]),o}function tt(_,n,o,d,O){if((0,T.Wi)(_))return null;const y=(0,g.Iz)(_,n,o,d,new Float32Array(_.length)),x=c.ct.fromTypedArray(y);return(0,C.a)(x,x,O),y}function G(_,n,o,d,O){if((0,T.Wi)(_))return null;const y=(0,g.wi)(_,n,o,d,new Float32Array(_.length)),x=c.ct.fromTypedArray(y,4*Float32Array.BYTES_PER_ELEMENT);return(0,C.a)(x,x,O),y}function H(_,n){if((0,T.Wi)(_))return X;const o=n.isGeographic?1:(0,j.Z7)(n),d=n.isGeographic?1:(0,j._R)(n),O=(0,j.En)(1,_,"meters");return{horizontal:O*o,vertical:O*d}}const W=(0,L.c)(),m=(0,L.c)(),B=(0,F.c)(),X={horizontal:1,vertical:1}},65231:(_t,k,a)=>{a.d(k,{To:()=>N,Yk:()=>z,Iz:()=>S,M2:()=>h,wi:()=>U,XO:()=>Z,w9:()=>J,zZ:()=>$,VS:()=>l});var T=a(63290),j=a(62208),F=a(30217),v=a(550),L=a(43703),A=a(84161),D=a(28093),p=a(56741),P=a(12080),c=a(37053),C=a(46367),u=a(60479),g=a(79800);const I=T.Z.getLogger("esri.geometry.support.meshUtils.normalProjection");function S(m,B,X,_,n){return K(_)?(Y(0,u.ct.fromTypedArray(m),u.fP.fromTypedArray(B),u.fP.fromTypedArray(X),_,u.ct.fromTypedArray(n)),n):(I.error("Cannot convert spatial reference to PCPF"),n)}function z(m,B,X,_,n){return K(_)?(Y(1,u.ct.fromTypedArray(m),u.fP.fromTypedArray(B),u.fP.fromTypedArray(X),_,u.ct.fromTypedArray(n)),n):(I.error("Cannot convert to spatial reference from PCPF"),n)}function Z(m,B,X){return(0,p.CM)(m,B,0,X,(0,P.rS)(B),0,m.length/3),X}function N(m,B,X){return(0,p.CM)(m,(0,P.rS)(X),0,B,X,0,m.length/3),B}function $(m,B,X){if((0,j.Wi)(m))return B;const _=u.fP.fromTypedArray(m),n=u.fP.fromTypedArray(B);return(0,g.t)(n,_,X),B}function J(m,B,X){if((0,j.Wi)(m))return B;(0,F.a)(W,X);const _=u.ct.fromTypedArray(m),n=u.ct.fromTypedArray(B);return(0,g.a)(n,_,W),(0,F.i)(W)||(0,g.n)(n,n),B}function l(m,B,X){if((0,j.Wi)(m))return B;(0,F.a)(W,X);const _=u.ct.fromTypedArray(m,4*Float32Array.BYTES_PER_ELEMENT),n=u.ct.fromTypedArray(B,4*Float32Array.BYTES_PER_ELEMENT);if((0,g.a)(n,_,W),(0,F.i)(W)||(0,g.n)(n,n),m!==B)for(let o=3;o<m.length;o+=4)B[o]=m[o];return B}function U(m,B,X,_,n){if(!K(_))return I.error("Cannot convert spatial reference to PCPF"),n;Y(0,u.ct.fromTypedArray(m,4*Float32Array.BYTES_PER_ELEMENT),u.fP.fromTypedArray(B),u.fP.fromTypedArray(X),_,u.ct.fromTypedArray(n,4*Float32Array.BYTES_PER_ELEMENT));for(let o=3;o<m.length;o+=4)n[o]=m[o];return n}function h(m,B,X,_,n){if(!K(_))return I.error("Cannot convert to spatial reference from PCPF"),n;Y(1,u.ct.fromTypedArray(m,16),u.fP.fromTypedArray(B),u.fP.fromTypedArray(X),_,u.ct.fromTypedArray(n,16));for(let o=3;o<m.length;o+=4)n[o]=m[o];return n}function Y(m,B,X,_,n,o){if(!B)return;const d=X.count,O=(0,P.rS)(n);if(q(n))for(let y=0;y<d;y++)_.getVec(y,tt),B.getVec(y,G),(0,p.Bm)(O,tt,H,O),(0,F.f)(W,H),1===m&&(0,F.t)(W,W),(0,A.t)(G,G,W),o.setVec(y,G);else for(let y=0;y<d;y++){_.getVec(y,tt),B.getVec(y,G),(0,p.Bm)(O,tt,H,O),(0,F.f)(W,H);const x=(0,C.mZ)(X.get(y,1));let Q=Math.cos(x);0===m&&(Q=1/Q),W[0]*=Q,W[1]*=Q,W[2]*=Q,W[3]*=Q,W[4]*=Q,W[5]*=Q,1===m&&(0,F.t)(W,W),(0,A.t)(G,G,W),(0,A.n)(G,G),o.setVec(y,G)}return o}function K(m){return q(m)||function ot(m){return m.isWebMercator}(m)}function q(m){return m.isWGS84||(0,c.yW)(m)||(0,c.BZ)(m)||(0,c.V2)(m)}const tt=(0,D.c)(),G=(0,D.c)(),H=(0,L.c)(),W=(0,v.c)()}}]);