"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[3222],{36592:(k,J,N)=>{N.d(J,{QB:()=>S});var L=N(85931),w=N(62208),W=N(77029),A=N(14259);class S{constructor(s=9,r){this.compareMinX=X,this.compareMinY=m,this.toBBox=function(a){return a},this._maxEntries=Math.max(4,s||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),r&&("function"==typeof r?this.toBBox=r:this._initFormat(r)),this.clear()}destroy(){this.clear(),M.prune(),p.prune(),l.prune(),I.prune()}all(s){this._all(this.data,s)}search(s,r){let a=this.data;const c=this.toBBox;if(h(s,a))for(M.clear();a;){for(let d=0,y=a.children.length;d<y;d++){const v=a.children[d],T=a.leaf?c(v):v;h(s,T)&&(a.leaf?r(v):o(s,T)?this._all(v,r):M.push(v))}a=M.pop()}}collides(s){let r=this.data;const a=this.toBBox;if(!h(s,r))return!1;for(M.clear();r;){for(let c=0,d=r.children.length;c<d;c++){const y=r.children[c],v=r.leaf?a(y):y;if(h(s,v)){if(r.leaf||o(s,v))return!0;M.push(y)}}r=M.pop()}return!1}load(s){if(!s.length)return this;if(s.length<this._minEntries){for(let a=0,c=s.length;a<c;a++)this.insert(s[a]);return this}let r=this._build(s.slice(0,s.length),0,s.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){const a=this.data;this.data=r,r=a}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this}insert(s){return s&&this._insert(s,this.data.height-1),this}clear(){return this.data=new j([]),this}remove(s){if(!s)return this;let r,a=this.data,c=null,d=0,y=!1;const v=this.toBBox(s);for(l.clear(),I.clear();a||l.length>0;){var T;if(a||(a=(0,w.j0)(l.pop()),c=l.data[l.length-1],d=null!=(T=I.pop())?T:0,y=!0),a.leaf&&(r=(0,L.cq)(a.children,s,a.children.length,a.indexHint),-1!==r))return a.children.splice(r,1),l.push(a),this._condense(l),this;y||a.leaf||!o(a,v)?c?(d++,a=c.children[d],y=!1):a=null:(l.push(a),I.push(d),d=0,c=a,a=a.children[0])}return this}toJSON(){return this.data}fromJSON(s){return this.data=s,this}_all(s,r){let a=s;for(p.clear();a;){var c;if(!0===a.leaf)for(const d of a.children)r(d);else p.pushArray(a.children);a=null!=(c=p.pop())?c:null}}_build(s,r,a,c){const d=a-r+1;let y=this._maxEntries;if(d<=y){const Z=new j(s.slice(r,a+1));return C(Z,this.toBBox),Z}c||(c=Math.ceil(Math.log(d)/Math.log(y)),y=Math.ceil(d/y**(c-1)));const v=new z([]);v.height=c;const T=Math.ceil(d/y),G=T*Math.ceil(Math.sqrt(y));_(s,r,a,G,this.compareMinX);for(let Z=r;Z<=a;Z+=G){const V=Math.min(Z+G-1,a);_(s,Z,V,T,this.compareMinY);for(let Q=Z;Q<=V;Q+=T){const $=Math.min(Q+T-1,V);v.children.push(this._build(s,Q,$,c-1))}}return C(v,this.toBBox),v}_chooseSubtree(s,r,a,c){for(;c.push(r),!0!==r.leaf&&c.length-1!==a;){let d,y=1/0,v=1/0;for(let T=0,G=r.children.length;T<G;T++){const Z=r.children[T],V=E(Z),Q=f(s,Z)-V;Q<v?(v=Q,y=V<y?V:y,d=Z):Q===v&&V<y&&(y=V,d=Z)}r=d||r.children[0]}return r}_insert(s,r,a){const d=a?s:(0,this.toBBox)(s);l.clear();const y=this._chooseSubtree(d,this.data,r,l);for(y.children.push(s),b(y,d);r>=0&&l.data[r].children.length>this._maxEntries;)this._split(l,r),r--;this._adjustParentBBoxes(d,l,r)}_split(s,r){const a=s.data[r],c=a.children.length,d=this._minEntries;this._chooseSplitAxis(a,d,c);const y=this._chooseSplitIndex(a,d,c);if(!y)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const v=a.children.splice(y,a.children.length-y),T=a.leaf?new j(v):new z(v);T.height=a.height,C(a,this.toBBox),C(T,this.toBBox),r?s.data[r-1].children.push(T):this._splitRoot(a,T)}_splitRoot(s,r){this.data=new z([s,r]),this.data.height=s.height+1,C(this.data,this.toBBox)}_chooseSplitIndex(s,r,a){let c,d,y;c=d=1/0;for(let v=r;v<=a-r;v++){const T=U(s,0,v,this.toBBox),G=U(s,v,a,this.toBBox),Z=u(T,G),V=E(T)+E(G);Z<c?(c=Z,y=v,d=V<d?V:d):Z===c&&V<d&&(d=V,y=v)}return y}_chooseSplitAxis(s,r,a){const c=s.leaf?this.compareMinX:X,d=s.leaf?this.compareMinY:m;this._allDistMargin(s,r,a,c)<this._allDistMargin(s,r,a,d)&&s.children.sort(c)}_allDistMargin(s,r,a,c){s.children.sort(c);const d=this.toBBox,y=U(s,0,r,d),v=U(s,a-r,a,d);let T=P(y)+P(v);for(let G=r;G<a-r;G++){const Z=s.children[G];b(y,s.leaf?d(Z):Z),T+=P(y)}for(let G=a-r-1;G>=r;G--){const Z=s.children[G];b(v,s.leaf?d(Z):Z),T+=P(v)}return T}_adjustParentBBoxes(s,r,a){for(let c=a;c>=0;c--)b(r.data[c],s)}_condense(s){for(let r=s.length-1;r>=0;r--){const a=s.data[r];if(0===a.children.length)if(r>0){const c=s.data[r-1],d=c.children;d.splice((0,L.cq)(d,a,d.length,c.indexHint),1)}else this.clear();else C(a,this.toBBox)}}_initFormat(s){const r=["return a"," - b",";"];this.compareMinX=new Function("a","b",r.join(s[0])),this.compareMinY=new Function("a","b",r.join(s[1])),this.toBBox=new Function("a","return {minX: a"+s[0]+", minY: a"+s[1]+", maxX: a"+s[2]+", maxY: a"+s[3]+"};")}}function C(x,s){U(x,0,x.children.length,s,x)}function U(x,s,r,a,c){c||(c=new j([])),c.minX=1/0,c.minY=1/0,c.maxX=-1/0,c.maxY=-1/0;for(let d,y=s;y<r;y++)d=x.children[y],b(c,x.leaf?a(d):d);return c}function b(x,s){x.minX=Math.min(x.minX,s.minX),x.minY=Math.min(x.minY,s.minY),x.maxX=Math.max(x.maxX,s.maxX),x.maxY=Math.max(x.maxY,s.maxY)}function X(x,s){return x.minX-s.minX}function m(x,s){return x.minY-s.minY}function E(x){return(x.maxX-x.minX)*(x.maxY-x.minY)}function P(x){return x.maxX-x.minX+(x.maxY-x.minY)}function f(x,s){return(Math.max(s.maxX,x.maxX)-Math.min(s.minX,x.minX))*(Math.max(s.maxY,x.maxY)-Math.min(s.minY,x.minY))}function u(x,s){const r=Math.max(x.minX,s.minX),a=Math.max(x.minY,s.minY),c=Math.min(x.maxX,s.maxX),d=Math.min(x.maxY,s.maxY);return Math.max(0,c-r)*Math.max(0,d-a)}function o(x,s){return x.minX<=s.minX&&x.minY<=s.minY&&s.maxX<=x.maxX&&s.maxY<=x.maxY}function h(x,s){return s.minX<=x.maxX&&s.minY<=x.maxY&&s.maxX>=x.minX&&s.maxY>=x.minY}function _(x,s,r,a,c){const d=[s,r];for(;d.length;){const y=(0,w.j0)(d.pop()),v=(0,w.j0)(d.pop());if(y-v<=a)continue;const T=v+Math.ceil((y-v)/a/2)*a;(0,A.q)(x,T,v,y,c),d.push(v,T,T,y)}}const M=new W.Z,p=new W.Z,l=new W.Z,I=new W.Z({deallocator:void 0});class Y extends class O{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}{constructor(){super(...arguments),this.height=1,this.indexHint=new L.SO}}class j extends Y{constructor(s){super(),this.children=s,this.leaf=!0}}class z extends Y{constructor(s){super(),this.children=s,this.leaf=!1}}},15994:(k,J,N)=>{N.d(J,{N:()=>L});const L={convertToGEGeometry:function w(f,u){return null==u?null:f.convertJSONToGeometry(u)},exportPoint:function A(f,u,o){const h=new W(f.getPointX(u),f.getPointY(u),o),_=f.hasZ(u),M=f.hasM(u);return _&&(h.z=f.getPointZ(u)),M&&(h.m=f.getPointM(u)),h},exportPolygon:function C(f,u,o){return new S(f.exportPaths(u),o,f.hasZ(u),f.hasM(u))},exportPolyline:function b(f,u,o){return new U(f.exportPaths(u),o,f.hasZ(u),f.hasM(u))},exportMultipoint:function m(f,u,o){return new X(f.exportPoints(u),o,f.hasZ(u),f.hasM(u))},exportExtent:function P(f,u,o){const h=f.hasZ(u),_=f.hasM(u),M=new E(f.getXMin(u),f.getYMin(u),f.getXMax(u),f.getYMax(u),o);if(h){const p=f.getZExtent(u);M.zmin=p.vmin,M.zmax=p.vmax}if(_){const p=f.getMExtent(u);M.mmin=p.vmin,M.mmax=p.vmax}return M}};class W{constructor(u,o,h){this.x=u,this.y=o,this.spatialReference=h,this.z=void 0,this.m=void 0}}class S{constructor(u,o,h,_){this.rings=u,this.spatialReference=o,this.hasZ=void 0,this.hasM=void 0,h&&(this.hasZ=h),_&&(this.hasM=_)}}class U{constructor(u,o,h,_){this.paths=u,this.spatialReference=o,this.hasZ=void 0,this.hasM=void 0,h&&(this.hasZ=h),_&&(this.hasM=_)}}class X{constructor(u,o,h,_){this.points=u,this.spatialReference=o,this.hasZ=void 0,this.hasM=void 0,h&&(this.hasZ=h),_&&(this.hasM=_)}}class E{constructor(u,o,h,_,M){this.xmin=u,this.ymin=o,this.xmax=h,this.ymax=_,this.spatialReference=M,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}},7848:(k,J,N)=>{N.d(J,{ym:()=>T,RF:()=>d,vY:()=>U,J9:()=>Z,U1:()=>V,Ie:()=>Q,G6:()=>$});var L=N(62208),w=N(91179);const A=(e,t,i)=>[t,i],S=(e,t,i)=>[t,i,e[2]],C=(e,t,i)=>[t,i,e[2],e[3]];function U(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance]:[1,1],translate:(0,L.pC)(e.extent)?[e.extent.xmin,e.extent.ymax]:[0,0]}:null}function X({scale:e,translate:t},i){return Math.round((i-t[0])/e[0])}function m({scale:e,translate:t},i){return Math.round((t[1]-i)/e[1])}function E(e,t,i){const g=[];let B,R,D,F;for(let H=0;H<i.length;H++){const K=i[H];H>0?(D=X(e,K[0]),F=m(e,K[1]),D===B&&F===R||(g.push(t(K,D-B,F-R)),B=D,R=F)):(B=X(e,K[0]),R=m(e,K[1]),g.push(t(K,B,R)))}return g.length>0?g:null}function h({scale:e,translate:t},i){return i*e[0]+t[0]}function _({scale:e,translate:t},i){return t[1]-i*e[1]}function M(e,t,i){const g=new Array(i.length);if(!i.length)return g;const[B,R]=e.scale;let D=h(e,i[0][0]),F=_(e,i[0][1]);g[0]=t(i[0],D,F);for(let H=1;H<i.length;H++){const K=i[H];D+=K[0]*B,F-=K[1]*R,g[H]=t(K,D,F)}return g}function p(e,t,i){const g=new Array(i.length);for(let B=0;B<i.length;B++)g[B]=M(e,t,i[B]);return g}function d(e,t,i,g,B){return t.x=X(e,i.x),t.y=m(e,i.y),t!==i&&(g&&(t.z=i.z),B&&(t.m=i.m)),t}function T(e,t){return e&&t?(0,w.wp)(t)?d(e,{},t,!1,!1):(0,w.l9)(t)?function v(e,t,i,g,B){const R=function o(e,t,i,g){const B=[],R=i?g?C:S:g?S:A;for(let D=0;D<t.length;D++){const F=E(e,R,t[D]);F&&F.length>=2&&B.push(F)}return B.length?B:null}(e,i.paths,g,B);return R?(t.paths=R,t):null}(e,{},t,!1,!1):(0,w.oU)(t)?function y(e,t,i,g,B){const R=function u(e,t,i,g){const B=[],R=i?g?C:S:g?S:A;for(let D=0;D<t.length;D++){const F=E(e,R,t[D]);F&&F.length>=3&&B.push(F)}return B.length?B:null}(e,i.rings,g,B);return R?(t.rings=R,t):null}(e,{},t,!1,!1):(0,w.aW)(t)?function c(e,t,i,g,B){return t.points=function f(e,t,i,g){return E(e,i?g?C:S:g?S:A,t)}(e,i.points,g,B),t}(e,{},t,!1,!1):(0,w.YX)(t)?function a(e,t,i,g,B){return t.xmin=X(e,i.xmin),t.ymin=m(e,i.ymin),t.xmax=X(e,i.xmax),t.ymax=m(e,i.ymax),t!==i&&(g&&(t.zmin=i.zmin,t.zmax=i.zmax),B&&(t.mmin=i.mmin,t.mmax=i.mmax)),t}(e,{},t,!1,!1):null:null}function Z(e,t,i,g,B){return(0,L.pC)(i)&&(t.points=function I(e,t,i,g){return M(e,i?g?C:S:g?S:A,t)}(e,i.points,g,B)),t}function V(e,t,i,g,B){return(0,L.Wi)(i)||(t.x=h(e,i.x),t.y=_(e,i.y),t!==i&&(g&&(t.z=i.z),B&&(t.m=i.m))),t}function Q(e,t,i,g,B){return(0,L.pC)(i)&&(t.rings=function Y(e,t,i,g){return p(e,i?g?C:S:g?S:A,t)}(e,i.rings,g,B)),t}function $(e,t,i,g,B){return(0,L.pC)(i)&&(t.paths=function O(e,t,i,g){return p(e,i?g?C:S:g?S:A,t)}(e,i.paths,g,B)),t}},77044:(k,J,N)=>{N.d(J,{Y:()=>W});var L=N(62208);function w(m,E){return m?E?4:3:E?3:2}function W(m,E,P,f,u){if((0,L.Wi)(E)||!E.lengths.length)return null;const o="upperLeft"===(null==u?void 0:u.originPosition)?-1:1;m.lengths.length&&(m.lengths.length=0),m.coords.length&&(m.coords.length=0);const h=m.coords,_=[],M=P?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:p,coords:l}=E,I=w(P,f);let O=0;for(const Y of p){const j=A(M,l,O,Y,P,f,o);j&&_.push(j),O+=Y*I}if(_.sort((Y,j)=>{let z=o*Y[2]-o*j[2];return 0===z&&P&&(z=Y[4]-j[4]),z}),_.length){let Y=6*_[0][2];h[0]=_[0][0]/Y,h[1]=_[0][1]/Y,P&&(Y=6*_[0][4],h[2]=0!==Y?_[0][3]/Y:0),(h[0]<M[0]||h[0]>M[1]||h[1]<M[2]||h[1]>M[3]||P&&(h[2]<M[4]||h[2]>M[5]))&&(h.length=0)}if(!h.length){const Y=E.lengths[0]?function S(m,E,P,f,u){const o=w(f,u);let h=E,_=E+o,M=0,p=0,l=0,I=0;for(let O=0,Y=P-1;O<Y;O++,h+=o,_+=o){const j=m[h],z=m[h+1],x=m[h+2],s=m[_],r=m[_+1],a=m[_+2],c=f?U(j,z,x,s,r,a):C(j,z,s,r);if(c)if(M+=c,f){const d=X(j,z,x,s,r,a);p+=c*d[0],l+=c*d[1],I+=c*d[2]}else{const d=b(j,z,s,r);p+=c*d[0],l+=c*d[1]}}return M>0?f?[p/M,l/M,I/M]:[p/M,l/M]:P>0?f?[m[E],m[E+1],m[E+2]]:[m[E],m[E+1]]:null}(l,0,p[0],P,f):null;if(!Y)return null;h[0]=Y[0],h[1]=Y[1],P&&Y.length>2&&(h[2]=Y[2])}return m}function A(m,E,P,f,u,o,h=1){const _=w(u,o);let M=P,p=P+_,l=0,I=0,O=0,Y=0,j=0;for(let x=0,s=f-1;x<s;x++,M+=_,p+=_){const r=E[M],a=E[M+1],c=E[M+2],d=E[p],y=E[p+1],v=E[p+2];let T=r*y-d*a;Y+=T,l+=(r+d)*T,I+=(a+y)*T,u&&(T=r*v-d*c,O+=(c+v)*T,j+=T),r<m[0]&&(m[0]=r),r>m[1]&&(m[1]=r),a<m[2]&&(m[2]=a),a>m[3]&&(m[3]=a),u&&(c<m[4]&&(m[4]=c),c>m[5]&&(m[5]=c))}if(Y*h>0&&(Y*=-1),j*h>0&&(j*=-1),!Y)return null;const z=[l,I,.5*Y];return u&&(z[3]=O,z[4]=.5*j),z}function C(m,E,P,f){const u=P-m,o=f-E;return Math.sqrt(u*u+o*o)}function U(m,E,P,f,u,o){const h=f-m,_=u-E,M=o-P;return Math.sqrt(h*h+_*_+M*M)}function b(m,E,P,f){return[m+.5*(P-m),E+.5*(f-E)]}function X(m,E,P,f,u,o){return[m+.5*(f-m),E+.5*(u-E),P+.5*(o-P)]}},61256:(k,J,N)=>{N.d(J,{H:()=>C});var L=N(8314),w=N(36592);const A={minX:0,minY:0,maxX:0,maxY:0};class C{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new w.QB(9,(0,L.Z)("esri-csp-restrictions")?b=>({minX:b[0],minY:b[1],maxX:b[2],maxY:b[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const b=new Array(this._idByBounds.size);let X=0;this._idByBounds.forEach((m,E)=>{b[X++]=E}),this._indexInvalid=!1,this._index.clear(),this._index.load(b)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter(b=>this._idByBounds.has(b))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(b){const X=this._boundsById.get(b);this._boundsById.delete(b),X&&(this._idByBounds.delete(X),this._indexInvalid||this._index.remove(X))}forEachInBounds(b,X){this._loadIndex(),function S(U,b,X){A.minX=b[0],A.minY=b[1],A.maxX=b[2],A.maxY=b[3],U.search(A,X)}(this._index,b,m=>X(this._idByBounds.get(m)))}get(b){return this._boundsById.get(b)}has(b){return this._boundsById.has(b)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(b,X){if(!this._indexInvalid){const m=this._boundsById.get(b);m&&(this._index.remove(m),this._idByBounds.delete(m))}this._boundsById.set(b,X),X&&(this._idByBounds.set(X,b),this._indexInvalid||(this._boundsToLoad.push(X),this._boundsToLoad.length>5e4&&this._loadIndex()))}}},82708:(k,J,N)=>{N.d(J,{Z:()=>f});var L=N(26584),w=N(61885),W=N(63290),A=N(62208),S=N(5548),C=N(65401),U=N(82054),b=N(61256),X=N(77044),m=N(66385),E=N(88071);const P={getObjectId:u=>u.objectId,getAttributes:u=>u.attributes,getAttribute:(u,o)=>u.attributes[o],cloneWithGeometry:(u,o)=>new m.ZP(o,u.attributes,null,u.objectId),getGeometry:u=>u.geometry,getCentroid:(u,o)=>(u.centroid||(u.centroid=(0,X.Y)(new E.Z,u.geometry,o.hasZ,o.hasM)),u.centroid)};class f{constructor(o){this.geometryInfo=o,this._boundsStore=new b.H,this._featuresById=new Map,this._markedIds=new Set,this.events=new w.Z,this.featureAdapter=P}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const o=(0,C.Ue)(C.Gv);return this._featuresById.forEach(h=>{const _=this._boundsStore.get(h.objectId);_&&(o[0]=Math.min(_[0],o[0]),o[1]=Math.min(_[1],o[1]),o[2]=Math.max(_[2],o[2]),o[3]=Math.max(_[3],o[3]))}),o}get storeStatistics(){let o=0;return this._featuresById.forEach(h=>{(0,A.pC)(h.geometry)&&h.geometry.coords&&(o+=h.geometry.coords.length)}),{featureCount:this._featuresById.size,vertexCount:o/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(o){this._add(o),this._emitChanged()}addMany(o){for(const h of o)this._add(h);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(o){const h=this._featuresById.get(o);return h?(this._remove(h),this._emitChanged(),h):null}removeManyById(o){this._boundsStore.invalidateIndex();for(const h of o){const _=this._featuresById.get(h);_&&this._remove(_)}this._emitChanged()}forEachBounds(o,h,_){for(const M of o){const p=this._boundsStore.get(M.objectId);p&&h((0,S.JR)(_,p))}}getFeature(o){return this._featuresById.get(o)}has(o){return this._featuresById.has(o)}forEach(o){this._featuresById.forEach(h=>o(h))}forEachInBounds(o,h){this._boundsStore.forEachInBounds(o,_=>{h(this._featuresById.get(_))})}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let o=!1;this._featuresById.forEach((h,_)=>{this._markedIds.has(_)||(o=!0,this._remove(h))}),this._markedIds.clear(),o&&this._emitChanged()}_emitChanged(){this.events.emit("changed",void 0)}_add(o){if(!o)return;const h=o.objectId;if(null==h)return void W.Z.getLogger("esri.layers.graphics.data.FeatureStore").error(new L.Z("featurestore:invalid-feature","feature id is missing",{feature:o}));const _=this._featuresById.get(h);let M;if(this._markedIds.add(h),_?(o.displayId=_.displayId,M=this._boundsStore.get(h),this._boundsStore.delete(h)):(0,A.pC)(this.onFeatureAdd)&&this.onFeatureAdd(o),(0,A.Wi)(o.geometry)||!o.geometry.coords||!o.geometry.coords.length)return this._boundsStore.set(h,null),void this._featuresById.set(h,o);M=(0,U.$)((0,A.pC)(M)?M:(0,C.Ue)(),o.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),(0,A.pC)(M)&&this._boundsStore.set(h,M),this._featuresById.set(h,o)}_remove(o){return(0,A.pC)(this.onFeatureRemove)&&this.onFeatureRemove(o),this._markedIds.delete(o.objectId),this._boundsStore.delete(o.objectId),this._featuresById.delete(o.objectId),o}}},82959:(k,J,N)=>{N.d(J,{_W:()=>E,iV:()=>o,oj:()=>M});var L=N(15861),w=N(62208),W=N(56741),A=N(15994),S=N(37053),C=N(46367);const U=[0,0];function b(p,l){if(!l)return null;if("x"in l){const I={x:0,y:0};return[I.x,I.y]=p(l.x,l.y,U),null!=l.z&&(I.z=l.z),null!=l.m&&(I.m=l.m),I}if("xmin"in l){const I={xmin:0,ymin:0,xmax:0,ymax:0};return[I.xmin,I.ymin]=p(l.xmin,l.ymin,U),[I.xmax,I.ymax]=p(l.xmax,l.ymax,U),l.hasZ&&(I.zmin=l.zmin,I.zmax=l.zmax,I.hasZ=!0),l.hasM&&(I.mmin=l.mmin,I.mmax=l.mmax,I.hasM=!0),I}return"rings"in l?{rings:X(l.rings,p),hasM:l.hasM,hasZ:l.hasZ}:"paths"in l?{paths:X(l.paths,p),hasM:l.hasM,hasZ:l.hasZ}:"points"in l?{points:m(l.points,p),hasM:l.hasM,hasZ:l.hasZ}:void 0}function X(p,l){const I=[];for(const O of p)I.push(m(O,l));return I}function m(p,l){const I=[];for(const O of p){const Y=l(O[0],O[1],[0,0]);I.push(Y),O.length>2&&Y.push(O[2]),O.length>3&&Y.push(O[3])}return I}function E(p,l){return P.apply(this,arguments)}function P(){return(P=(0,L.Z)(function*(p,l){if(!l)return;const I=Array.isArray(p)?p.map(O=>(0,w.pC)(O.geometry)&&O.geometry.spatialReference):[p];yield(0,W.iQ)(I.map(O=>({source:O,dest:l})))})).apply(this,arguments)}const f=b.bind(null,C.hG),u=b.bind(null,C.R6);function o(p,l,I){return p&&(I||(I=l,l=p.spatialReference),(0,S.JY)(l)&&(0,S.JY)(I)&&!(0,S.fS)(l,I)?(0,C.Q8)(l,I)?(0,S.sS)(I)?f(p):u(p):(0,W.oj)(A.N,[p],l,I,null)[0]:p)}const _=new class h{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}push(l,I,O){var Y=this;return(0,L.Z)(function*(){if(!l||!l.length||!I||!O||(0,S.fS)(I,O))return l;const j={geometries:l,inSpatialReference:I,outSpatialReference:O,resolve:null};return Y._jobs.push(j),new Promise(z=>{j.resolve=z,null===Y._timer&&(Y._timer=setTimeout(Y._process,10))})})()}_process(){this._timer=null;const l=this._jobs.shift();if(!l)return;const{geometries:I,inSpatialReference:O,outSpatialReference:Y,resolve:j}=l;(0,C.Q8)(O,Y)?(0,S.sS)(Y)?j(I.map(f)):j(I.map(u)):j((0,W.oj)(A.N,I,O,Y,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}};function M(p,l,I){return _.push(p,l,I)}}}]);