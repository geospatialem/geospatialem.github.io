"use strict";var ae=Object.defineProperty,le=Object.defineProperties,ue=Object.getOwnPropertyDescriptors,oe=Object.getOwnPropertySymbols,ce=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,ie=(G,A,e)=>A in G?ae(G,A,{enumerable:!0,configurable:!0,writable:!0,value:e}):G[A]=e,V=(G,A)=>{for(var e in A||(A={}))ce.call(A,e)&&ie(G,e,A[e]);if(oe)for(var e of oe(A))de.call(A,e)&&ie(G,e,A[e]);return G},Q=(G,A)=>le(G,ue(A));(self.webpackChunksite=self.webpackChunksite||[]).push([[8592],{7006:(G,A,e)=>{e.d(A,{A:()=>K,B:()=>M,C:()=>B,D:()=>F,E:()=>w,F:()=>Z,G:()=>N,H:()=>U,I:()=>H,J:()=>J,K:()=>D,a:()=>E,b:()=>T,c:()=>y,d:()=>d,e:()=>g,f:()=>l,g:()=>W,h:()=>I,i:()=>_,j:()=>f,k:()=>i,l:()=>a,m:()=>u,n:()=>c,o:()=>n,p:()=>m,q:()=>O,r:()=>s,s:()=>h,t:()=>o,u:()=>L,v:()=>R,w:()=>p,x:()=>j,y:()=>P,z:()=>C});var t=e(4918),v=e(15994);function g(b){return t.G.extendedSpatialReferenceInfo(b)}function y(b,S,x){return t.G.clip(v.N,b,S,x)}function E(b,S,x){return t.G.cut(v.N,b,S,x)}function T(b,S,x){return t.G.contains(v.N,b,S,x)}function d(b,S,x){return t.G.crosses(v.N,b,S,x)}function l(b,S,x,z){return t.G.distance(v.N,b,S,x,z)}function I(b,S,x){return t.G.equals(v.N,b,S,x)}function _(b,S,x){return t.G.intersects(v.N,b,S,x)}function o(b,S,x){return t.G.touches(v.N,b,S,x)}function p(b,S,x){return t.G.within(v.N,b,S,x)}function f(b,S,x){return t.G.disjoint(v.N,b,S,x)}function n(b,S,x){return t.G.overlaps(v.N,b,S,x)}function s(b,S,x,z){return t.G.relate(v.N,b,S,x,z)}function i(b,S){return t.G.isSimple(v.N,b,S)}function h(b,S){return t.G.simplify(v.N,b,S)}function a(b,S,x=!1){return t.G.convexHull(v.N,b,S,x)}function u(b,S,x){return t.G.difference(v.N,b,S,x)}function c(b,S,x){return t.G.symmetricDifference(v.N,b,S,x)}function m(b,S,x){return t.G.intersect(v.N,b,S,x)}function L(b,S,x=null){return t.G.union(v.N,b,S,x)}function O(b,S,x,z,$,Y,q){return t.G.offset(v.N,b,S,x,z,$,Y,q)}function R(b,S,x,z,$=!1){return t.G.buffer(v.N,b,S,x,z,$)}function j(b,S,x,z,$,Y,q){return t.G.geodesicBuffer(v.N,b,S,x,z,$,Y,q)}function P(b,S,x,z=!0){return t.G.nearestCoordinate(v.N,b,S,x,z)}function C(b,S,x){return t.G.nearestVertex(v.N,b,S,x)}function K(b,S,x,z,$){return t.G.nearestVertices(v.N,b,S,x,z,$)}function M(b,S,x,z){if(null==S||null==z)throw new Error("Illegal Argument Exception");const $=t.G.rotate(S,x,z);return $.spatialReference=b,$}function B(b,S,x){if(null==S||null==x)throw new Error("Illegal Argument Exception");const z=t.G.flipHorizontal(S,x);return z.spatialReference=b,z}function F(b,S,x){if(null==S||null==x)throw new Error("Illegal Argument Exception");const z=t.G.flipVertical(S,x);return z.spatialReference=b,z}function w(b,S,x,z,$){return t.G.generalize(v.N,b,S,x,z,$)}function Z(b,S,x,z){return t.G.densify(v.N,b,S,x,z)}function N(b,S,x,z,$=0){return t.G.geodesicDensify(v.N,b,S,x,z,$)}function U(b,S,x){return t.G.planarArea(v.N,b,S,x)}function H(b,S,x){return t.G.planarLength(v.N,b,S,x)}function J(b,S,x,z){return t.G.geodesicArea(v.N,b,S,x,z)}function D(b,S,x,z){return t.G.geodesicLength(v.N,b,S,x,z)}const W=Object.freeze({__proto__:null,extendedSpatialReferenceInfo:g,clip:y,cut:E,contains:T,crosses:d,distance:l,equals:I,intersects:_,touches:o,within:p,disjoint:f,overlaps:n,relate:s,isSimple:i,simplify:h,convexHull:a,difference:u,symmetricDifference:c,intersect:m,union:L,offset:O,buffer:R,geodesicBuffer:j,nearestCoordinate:P,nearestVertex:C,nearestVertices:K,rotate:M,flipHorizontal:B,flipVertical:F,generalize:w,densify:Z,geodesicDensify:N,planarArea:U,planarLength:H,geodesicArea:J,geodesicLength:D})},65389:(G,A,e)=>{e.d(A,{Z:()=>v});var t=e(62208);class v{constructor(y){this.size=0,this._start=0,this.maxSize=y,this._buffer=new Array(y)}get entries(){return this._buffer}enqueue(y){if(this.size===this.maxSize){const E=this._buffer[this._start];return this._buffer[this._start]=y,this._start=(this._start+1)%this.maxSize,E}return this._buffer[(this._start+this.size++)%this.maxSize]=y,null}dequeue(){if(0===this.size)return null;const y=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,y}peek(){return 0===this.size?null:this._buffer[this._start]}find(y){if(0===this.size)return null;for(const E of this._buffer)if((0,t.pC)(E)&&y(E))return E;return null}clear(y){let E=this.dequeue();for(;(0,t.pC)(E);)y&&y(E),E=this.dequeue()}}},77777:(G,A,e)=>{e.r(A),e.d(A,{hydratedAdapter:()=>T});var t=e(2004),v=e(72854),g=e(49672),y=e(37118),E=e(55214);const T={convertToGEGeometry:function d(f,n){if(null==n)return null;let s="cache"in n?n.cache._geVersion:void 0;return null==s&&(s=f.convertJSONToGeometry(n),"cache"in n&&(n.cache._geVersion=s)),s},exportPoint:function l(f,n,s){const i=f.hasZ(n),h=f.hasM(n),a=new g.Z({x:f.getPointX(n),y:f.getPointY(n),spatialReference:s});return i&&(a.z=f.getPointZ(n)),h&&(a.m=f.getPointM(n)),a.cache._geVersion=n,a},exportPolygon:function I(f,n,s){const i=new y.Z({rings:f.exportPaths(n),hasZ:f.hasZ(n),hasM:f.hasM(n),spatialReference:s});return i.cache._geVersion=n,i},exportPolyline:function _(f,n,s){const i=new E.Z({paths:f.exportPaths(n),hasZ:f.hasZ(n),hasM:f.hasM(n),spatialReference:s});return i.cache._geVersion=n,i},exportMultipoint:function o(f,n,s){const i=new v.Z({hasZ:f.hasZ(n),hasM:f.hasM(n),points:f.exportPoints(n),spatialReference:s});return i.cache._geVersion=n,i},exportExtent:function p(f,n,s){const i=f.hasZ(n),h=f.hasM(n),a=new t.Z({xmin:f.getXMin(n),ymin:f.getYMin(n),xmax:f.getXMax(n),ymax:f.getYMax(n),spatialReference:s});if(i){const u=f.getZExtent(n);a.zmin=u.vmin,a.zmax=u.vmax}if(h){const u=f.getMExtent(n);a.mmin=u.vmin,a.mmax=u.vmax}return a.cache._geVersion=n,a}}},13757:(G,A,e)=>{e.d(A,{d:()=>v});var t=e(21286);function v(d,l,I){var _;const o=d.byteLength/(4*l),p=new Uint32Array(d,0,o*l);let f=new Uint32Array(o);const n=null!=(_=null==I?void 0:I.minReduction)?_:0,s=(null==I?void 0:I.originalIndices)||null,i=s?s.length:0,h=(null==I?void 0:I.componentOffsets)||null;let a=0;if(h)for(let M=0;M<h.length-1;M++){const B=h[M+1]-h[M];B>a&&(a=B)}else a=o;const u=Math.floor(1.1*a)+1;(null==T||T.length<2*u)&&(T=new Uint32Array((0,t.Sf)(2*u)));for(let M=0;M<2*u;M++)T[M]=0;let c=0;const m=!!h&&!!s,L=m?i:o,O=m?new Uint32Array(i):null,R=1.96;let j=0!==n?Math.ceil(4*R*R/(n*n)*n*(1-n)):L,P=1,C=h?h[1]:L;for(let M=0;M<L;M++){if(M===j){const U=1-c/M;if(U+R*Math.sqrt(U*(1-U)/M)<n)return null;j*=2}if(M===C){for(let U=0;U<2*u;U++)T[U]=0;if(s)for(let U=h[P-1];U<h[P];U++)O[U]=f[s[U]];C=h[++P]}const B=m?s[M]:M,F=B*l,w=E(p,F,l);let Z=w%u,N=c;for(;0!==T[2*Z+1];){if(T[2*Z]===w){const U=T[2*Z+1]-1;if(g(p,F,U*l,l)){N=f[U];break}}Z++,Z>=u&&(Z-=u)}N===c&&(T[2*Z]=w,T[2*Z+1]=B+1,c++),f[B]=N}if(0!==n&&1-c/o<n)return null;if(m){for(let M=h[P-1];M<O.length;M++)O[M]=f[s[M]];f=O}const K=new Uint32Array(l*c);c=0;for(let M=0;M<L;M++)f[M]===c&&(y(p,(m?s[M]:M)*l,K,c*l,l),c++);if(s&&!m){const M=new Uint32Array(i);for(let B=0;B<M.length;B++)M[B]=f[s[B]];f=M}return{buffer:K.buffer,indices:f,uniqueCount:c}}function g(d,l,I,_){for(let o=0;o<_;o++)if(d[l+o]!==d[I+o])return!1;return!0}function y(d,l,I,_,o){for(let p=0;p<o;p++)I[_+p]=d[l+p]}function E(d,l,I){let _=0;for(let o=0;o<I;o++)_=d[l+o]+_|0,_=_+(_<<11)+(_>>>2)|0;return _>>>0}let T=null},48887:(G,A,e)=>{e.r(A),e.d(A,{default:()=>D});var t=e(15861),v=e(17626),g=e(84792),y=e(97478),E=e(26584),T=e(80542),d=e(47877),l=e(62208),I=e(99959),_=e(10699),o=e(77712),n=(e(85931),e(8314),e(90912)),s=e(68653),i=e(76898),h=e(99433),a=e(31283),u=e(2004),c=e(83137),m=e(63602),L=e(50085),O=e(19027),R=e(65088),j=e(552),P=e(50107),C=e(49286),K=e(6647),M=e(30346),B=e(99555),F=e(66120),w=e(97941),Z=e(55400),N=e(14772),U=e(39058),H=e(13410);let J=class extends((0,j.h)((0,w.n)((0,B.M)((0,F.x)((0,O.O)((0,R.Y)((0,C.q)((0,K.I)((0,I.R)((0,M.Q)((0,L.V)((0,P.N)((0,T.p)(m.Z)))))))))))))){constructor(...W){super(...W),this.datesInUnknownTimezone=!1,this.dpi=96,this.gdbVersion=null,this.imageFormat="png24",this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.isReference=null,this.labelsVisible=!1,this.operationalLayerType="ArcGISMapServiceLayer",this.sourceJSON=null,this.sublayers=null,this.type="map-image",this.url=null}normalizeCtorArgs(W,b){return"string"==typeof W?V({url:W},b):W}load(W){const b=(0,l.pC)(W)?W.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},W).catch(_.r9).then(()=>this._fetchService(b))),Promise.resolve(this)}readImageFormat(W,b){const S=b.supportedImageFormatTypes;return S&&S.indexOf("PNG32")>-1?"png32":"png24"}writeSublayers(W,b,S,x){if(!this.loaded||!W)return;const z=W.slice().reverse().flatten(({sublayers:X})=>X&&X.toArray().reverse()).toArray();let $=!1;if(this.capabilities&&this.capabilities.operations.supportsExportMap&&this.capabilities.exportMap.supportsDynamicLayers){const X=(0,a.M9)(x.origin);if(3===X){const ee=this.createSublayersForOrigin("service").sublayers;$=(0,H.QV)(z,ee,2)}else if(X>3){const ee=this.createSublayersForOrigin("portal-item");$=(0,H.QV)(z,ee.sublayers,(0,a.M9)(ee.origin))}}const Y=[],q=V({writeSublayerStructure:$},x);let k=$;z.forEach(X=>{const ee=X.write({},q);Y.push(ee),k=k||"user"===X.originOf("visible")}),Y.some(X=>Object.keys(X).length>1)&&(b.layers=Y),k&&(b.visibleLayers=z.filter(X=>X.visible).map(X=>X.id))}createExportImageParameters(W,b,S,x){const z=x&&x.pixelRatio||1;W&&this.version>=10&&(W=W.clone().shiftCentralMeridian());const $=new N.R({layer:this,floors:null==x?void 0:x.floors,scale:(0,c.yZ)({extent:W,width:b})*z}),Y=$.toJSON();$.destroy();const q=!x||!x.rotation||this.version<10.3?{}:{rotation:-x.rotation},k=W&&W.spatialReference,X=k.wkid||JSON.stringify(k.toJSON());Y.dpi*=z;const ee={};if(null!=x&&x.timeExtent){const{start:te,end:re}=x.timeExtent.toJSON();ee.time=te&&re&&te===re?""+te:`${null==te?"null":te},${null==re?"null":re}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(ee.time="null,null");return V(V(V({bbox:W&&W.xmin+","+W.ymin+","+W.xmax+","+W.ymax,bboxSR:X,imageSR:X,size:b+","+S},Y),q),ee)}fetchImage(W,b,S,x){var z=this;return(0,t.Z)(function*(){var $;const Y={responseType:"image",signal:null!=($=null==x?void 0:x.signal)?$:null,query:Q(V(V(Q(V(V({},z.parsedUrl.query),z.createExportImageParameters(W,b,S,x)),{f:"image"}),z.refreshParameters),z.customParameters),{token:z.apiKey})},q=z.parsedUrl.path+"/export";return null==Y.query.dynamicLayers||z.capabilities.exportMap.supportsDynamicLayers?(0,g.default)(q,Y).then(k=>k.data).catch(k=>{throw(0,_.D_)(k)?k:new E.Z("mapimagelayer:image-fetch-error",`Unable to load image: ${q}`,{error:k})}):Promise.reject(new E.Z("mapimagelayer:dynamiclayer-not-supported",`service ${z.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,{query:Y.query}))})()}fetchRecomputedExtents(W={}){var b=this;return(0,t.Z)(function*(){const S=Q(V({},W),{query:Q(V({returnUpdates:!0,f:"json"},b.customParameters),{token:b.apiKey})}),{data:x}=yield(0,g.default)(b.url,S),{extent:z,fullExtent:$,timeExtent:Y}=x,q=z||$;return{fullExtent:q&&u.Z.fromJSON(q),timeExtent:Y&&y.Z.fromJSON({start:Y[0],end:Y[1]})}})()}loadAll(){return(0,d.GZ)(this,W=>{W(this.allSublayers)})}_fetchService(W){var b=this;return(0,t.Z)(function*(){if(b.sourceJSON)return void b.read(b.sourceJSON,{origin:"service",url:b.parsedUrl});const{data:S,ssl:x}=yield(0,g.default)(b.parsedUrl.path,{query:Q(V(V({f:"json"},b.parsedUrl.query),b.customParameters),{token:b.apiKey}),signal:W});x&&(b.url=b.url.replace(/^http:/i,"https:")),b.sourceJSON=S,b.read(S,{origin:"service",url:b.parsedUrl})})()}};(0,v._)([(0,o.Cb)({type:Boolean})],J.prototype,"datesInUnknownTimezone",void 0),(0,v._)([(0,o.Cb)()],J.prototype,"dpi",void 0),(0,v._)([(0,o.Cb)()],J.prototype,"gdbVersion",void 0),(0,v._)([(0,o.Cb)()],J.prototype,"imageFormat",void 0),(0,v._)([(0,s.r)("imageFormat",["supportedImageFormatTypes"])],J.prototype,"readImageFormat",null),(0,v._)([(0,o.Cb)({json:{origins:{service:{read:{source:"maxImageHeight"}}}}})],J.prototype,"imageMaxHeight",void 0),(0,v._)([(0,o.Cb)({json:{origins:{service:{read:{source:"maxImageWidth"}}}}})],J.prototype,"imageMaxWidth",void 0),(0,v._)([(0,o.Cb)()],J.prototype,"imageTransparency",void 0),(0,v._)([(0,o.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],J.prototype,"isReference",void 0),(0,v._)([(0,o.Cb)({json:{read:!1,write:!1}})],J.prototype,"labelsVisible",void 0),(0,v._)([(0,o.Cb)({type:["ArcGISMapServiceLayer"]})],J.prototype,"operationalLayerType",void 0),(0,v._)([(0,o.Cb)({json:{read:!1,write:!1}})],J.prototype,"popupEnabled",void 0),(0,v._)([(0,o.Cb)()],J.prototype,"sourceJSON",void 0),(0,v._)([(0,o.Cb)({json:{write:{ignoreOrigin:!0}}})],J.prototype,"sublayers",void 0),(0,v._)([(0,h.c)("sublayers",{layers:{type:[U.Z]},visibleLayers:{type:[n.z8]}})],J.prototype,"writeSublayers",null),(0,v._)([(0,o.Cb)({type:["show","hide","hide-children"]})],J.prototype,"listMode",void 0),(0,v._)([(0,o.Cb)({json:{read:!1},readOnly:!0,value:"map-image"})],J.prototype,"type",void 0),(0,v._)([(0,o.Cb)(Z.HQ)],J.prototype,"url",void 0),J=(0,v._)([(0,i.j)("esri.layers.MapImageLayer")],J);const D=J},28678:(G,A,e)=>{e.r(A),e.d(A,{default:()=>K});var t=e(17626),g=(e(29132),e(84792)),y=e(26584),E=e(99959),T=e(77275),d=e(21726),l=e(77712),p=(e(85931),e(8314),e(90912),e(68653)),f=e(76898),n=e(99433),s=e(63602),i=e(552),h=e(49286),a=e(6647),u=e(30346),c=e(99555),m=e(72258),L=e(2584),O=e(91309),R=e(2004),j=e(65234),P=e(49672);let C=class extends((0,i.h)((0,u.Q)((0,c.M)((0,h.q)((0,a.I)((0,E.R)(s.Z))))))){constructor(...M){super(...M),this.copyright="",this.fullExtent=new R.Z(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,j.Z.WebMercator),this.legendEnabled=!1,this.isReference=null,this.popupEnabled=!1,this.spatialReference=j.Z.WebMercator,this.subDomains=null,this.tileInfo=new L.Z({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new P.Z({x:-20037508.342787,y:20037508.342787,spatialReference:j.Z.WebMercator}),spatialReference:j.Z.WebMercator,lods:[new m.Z({level:0,scale:591657527.591555,resolution:156543.033928}),new m.Z({level:1,scale:295828763.795777,resolution:78271.5169639999}),new m.Z({level:2,scale:147914381.897889,resolution:39135.7584820001}),new m.Z({level:3,scale:73957190.948944,resolution:19567.8792409999}),new m.Z({level:4,scale:36978595.474472,resolution:9783.93962049996}),new m.Z({level:5,scale:18489297.737236,resolution:4891.96981024998}),new m.Z({level:6,scale:9244648.868618,resolution:2445.98490512499}),new m.Z({level:7,scale:4622324.434309,resolution:1222.99245256249}),new m.Z({level:8,scale:2311162.217155,resolution:611.49622628138}),new m.Z({level:9,scale:1155581.108577,resolution:305.748113140558}),new m.Z({level:10,scale:577790.554289,resolution:152.874056570411}),new m.Z({level:11,scale:288895.277144,resolution:76.4370282850732}),new m.Z({level:12,scale:144447.638572,resolution:38.2185141425366}),new m.Z({level:13,scale:72223.819286,resolution:19.1092570712683}),new m.Z({level:14,scale:36111.909643,resolution:9.55462853563415}),new m.Z({level:15,scale:18055.954822,resolution:4.77731426794937}),new m.Z({level:16,scale:9027.977411,resolution:2.38865713397468}),new m.Z({level:17,scale:4513.988705,resolution:1.19432856685505}),new m.Z({level:18,scale:2256.994353,resolution:.597164283559817}),new m.Z({level:19,scale:1128.497176,resolution:.298582141647617}),new m.Z({level:20,scale:564.248588,resolution:.14929107082380833}),new m.Z({level:21,scale:282.124294,resolution:.07464553541190416}),new m.Z({level:22,scale:141.062147,resolution:.03732276770595208}),new m.Z({level:23,scale:70.5310735,resolution:.01866138385297604})]}),this.type="web-tile",this.urlTemplate=null,this.wmtsInfo=null}normalizeCtorArgs(M,B){return"string"==typeof M?V({urlTemplate:M},B):M}load(M){const B=this.loadFromPortal({supportedTypes:["WMTS"]},M).then(()=>{let F="";if(this.urlTemplate)if(this.spatialReference.equals(this.tileInfo.spatialReference)){const w=new d.R9(this.urlTemplate);this.subDomains&&this.subDomains.length>0||-1===w.authority.indexOf("{subDomain}")||(F="is missing 'subDomains' property")}else F="spatialReference must match tileInfo.spatialReference";else F="is missing the required 'urlTemplate' property value";if(F)throw new y.Z("web-tile-layer:load",`WebTileLayer (title: '${this.title}', id: '${this.id}') ${F}`)});return this.addResolvingPromise(B),Promise.resolve(this)}get levelValues(){const M=[];if(!this.tileInfo)return null;for(const B of this.tileInfo.lods)M[B.level]=B.levelValue||B.level;return M}readSpatialReference(M,B){return M||B.fullExtent&&B.fullExtent.spatialReference&&j.Z.fromJSON(B.fullExtent.spatialReference)}get tileServers(){if(!this.urlTemplate)return null;const M=[],{urlTemplate:B,subDomains:F}=this,w=new d.R9(B),Z=w.scheme?w.scheme+"://":"//",N=Z+w.authority+"/";if(-1===w.authority.indexOf("{subDomain}"))M.push(N);else if(F&&F.length>0&&w.authority.split(".").length>1)for(const U of F)M.push(Z+w.authority.replace(/\{subDomain\}/gi,U)+"/");return M.map(U=>("/"!==U.charAt(U.length-1)&&(U+="/"),U))}get urlPath(){if(!this.urlTemplate)return null;const M=this.urlTemplate,B=new d.R9(M);return M.substring(((B.scheme?B.scheme+"://":"//")+B.authority+"/").length)}readUrlTemplate(M,B){return M||B.templateUrl}writeUrlTemplate(M,B){M&&(0,d.oC)(M)&&(M="https:"+M),M&&(M=M.replace(/\{z\}/gi,"{level}").replace(/\{x\}/gi,"{col}").replace(/\{y\}/gi,"{row}"),M=(0,d.Fv)(M)),B.templateUrl=M}fetchTile(M,B,F,w={}){const{signal:Z}=w,N=this.getTileUrl(M,B,F),U={responseType:"image",signal:Z,query:V({},this.refreshParameters)};return(0,g.default)(N,U).then(H=>H.data)}getTileUrl(M,B,F){const w=this.levelValues[M];return this.tileServers[B%this.tileServers.length]+(0,T.gx)(this.urlPath,{level:w,z:w,col:F,x:F,row:B,y:B})}};(0,t._)([(0,l.Cb)({type:String,value:"",json:{write:!0}})],C.prototype,"copyright",void 0),(0,t._)([(0,l.Cb)({type:R.Z,json:{write:!0},nonNullable:!0})],C.prototype,"fullExtent",void 0),(0,t._)([(0,l.Cb)({readOnly:!0,json:{read:!1,write:!1}})],C.prototype,"legendEnabled",void 0),(0,t._)([(0,l.Cb)({type:["show","hide"]})],C.prototype,"listMode",void 0),(0,t._)([(0,l.Cb)()],C.prototype,"levelValues",null),(0,t._)([(0,l.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],C.prototype,"isReference",void 0),(0,t._)([(0,l.Cb)({type:["WebTiledLayer"],value:"WebTiledLayer"})],C.prototype,"operationalLayerType",void 0),(0,t._)([(0,l.Cb)({readOnly:!0,json:{read:!1,write:!1}})],C.prototype,"popupEnabled",void 0),(0,t._)([(0,l.Cb)({type:j.Z})],C.prototype,"spatialReference",void 0),(0,t._)([(0,p.r)("spatialReference",["spatialReference","fullExtent.spatialReference"])],C.prototype,"readSpatialReference",null),(0,t._)([(0,l.Cb)({type:[String],json:{write:!0}})],C.prototype,"subDomains",void 0),(0,t._)([(0,l.Cb)({type:L.Z,json:{write:!0}})],C.prototype,"tileInfo",void 0),(0,t._)([(0,l.Cb)({readOnly:!0})],C.prototype,"tileServers",null),(0,t._)([(0,l.Cb)({json:{read:!1}})],C.prototype,"type",void 0),(0,t._)([(0,l.Cb)()],C.prototype,"urlPath",null),(0,t._)([(0,l.Cb)({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],C.prototype,"urlTemplate",void 0),(0,t._)([(0,p.r)("urlTemplate",["urlTemplate","templateUrl"])],C.prototype,"readUrlTemplate",null),(0,t._)([(0,n.c)("urlTemplate",{templateUrl:{type:String}})],C.prototype,"writeUrlTemplate",null),(0,t._)([(0,l.Cb)({type:O.Z,json:{write:!0}})],C.prototype,"wmtsInfo",void 0),C=(0,t._)([(0,f.j)("esri.layers.WebTileLayer")],C);const K=C},1476:(G,A,e)=>{e.d(A,{S:()=>v,X:()=>t});const t=1;function v(g,y){let E=0;for(const d of y){var T;const l=null==(T=d.attributes)?void 0:T[g];"number"==typeof l&&isFinite(l)&&(E=Math.max(E,l))}return E}},35775:(G,A,e)=>{e.d(A,{av:()=>T,d1:()=>l,b:()=>i,O0:()=>_,og:()=>f});var t=e(15861),v=e(37053),g=e(36630);class y{constructor(){this.code=null,this.description=null}}class E{constructor(u){this.error=new y,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=u}}function T(a){return new E(a)}class d{constructor(u){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=u}}function l(a){return new d(a)}const I=new Set;function _(a,u,c,m=!1,L){I.clear();for(const O in c){const R=a.get(O);if(!R)continue;const j=c[O],P=o(R,j);if(P!==j&&L&&L.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:R,originalValue:j,sanitizedValue:P}}),I.add(R.name),R&&(m||R.editable)){const C=(0,g.Qc)(R,P);if(C)return T((0,g.vP)(C,R,P));u[R.name]=P}}for(const O of a.requiredFields)if(!I.has(O.name))return T(`missing required field "${O.name}"`);return null}function o(a,u){let c=u;return"string"==typeof u&&(0,g.H7)(a)?c=parseFloat(u):null!=u&&(0,g.qN)(a)&&"string"!=typeof u&&(c=String(u)),(0,g.Pz)(c)}let p;function f(a,u){if(!a||!(0,v.JY)(u))return a;if("rings"in a||"paths"in a){if(!p)throw new TypeError("geometry engine not loaded");return p.simplify(u,a)}return a}function n(){return s.apply(this,arguments)}function s(){return(s=(0,t.Z)(function*(){return p||(p=yield Promise.all([e.e(4918),e.e(8592),e.e(2825)]).then(e.bind(e,32825)),p)})).apply(this,arguments)}function i(a,u){return h.apply(this,arguments)}function h(){return(h=(0,t.Z)(function*(a,u){!(0,v.JY)(a)||"esriGeometryPolygon"!==u&&"esriGeometryPolyline"!==u||(yield n())})).apply(this,arguments)}},5143:(G,A,e)=>{e.d(A,{Z:()=>p});var t=e(17626),g=(e(29132),e(77712)),d=(e(85931),e(8314),e(90912),e(68653)),l=e(76898),I=e(51026),_=e(28930),o=e(65234);const p=f=>{let n=class extends f{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}readMinScale(s,i){return null!=i.minLOD&&null!=i.maxLOD?s:0}readMaxScale(s,i){return null!=i.minLOD&&null!=i.maxLOD?s:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(s,i){return i.capabilities&&i.capabilities.indexOf("Tilemap")>-1?new _.y({layer:this}):null}};return(0,t._)([(0,g.Cb)({json:{read:{source:"copyrightText"}}})],n.prototype,"copyright",void 0),(0,t._)([(0,g.Cb)()],n.prototype,"minScale",void 0),(0,t._)([(0,d.r)("service","minScale")],n.prototype,"readMinScale",null),(0,t._)([(0,g.Cb)()],n.prototype,"maxScale",void 0),(0,t._)([(0,d.r)("service","maxScale")],n.prototype,"readMaxScale",null),(0,t._)([(0,g.Cb)({type:o.Z})],n.prototype,"spatialReference",void 0),(0,t._)([(0,g.Cb)({readOnly:!0})],n.prototype,"supportsBlankTile",null),(0,t._)([(0,g.Cb)(I.h)],n.prototype,"tileInfo",void 0),(0,t._)([(0,g.Cb)()],n.prototype,"tilemapCache",void 0),(0,t._)([(0,d.r)("service","tilemapCache",["capabilities"])],n.prototype,"readTilemapCache",null),(0,t._)([(0,g.Cb)()],n.prototype,"version",void 0),n=(0,t._)([(0,l.j)("esri.layers.mixins.ArcGISCachedService")],n),n}},14772:(G,A,e)=>{e.d(A,{R:()=>n});var t=e(17626),v=e(14517),g=e(80542),y=e(62208),E=e(77712),I=(e(85931),e(8314),e(90912),e(76898)),_=e(55400),o=e(13410),p=e(79530);const f={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let n=class extends((0,g.p)(v.Z)){constructor(s){super(s),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const s=this.visibleSublayers.map(i=>{const h=(0,p.ff)(this.floors,i);return i.toExportImageJSON(h)});return s.length?JSON.stringify(s):null}get hasDynamicLayers(){return this.layer&&(0,o.FN)(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}set layer(s){this._get("layer")!==s&&(this._set("layer",s),this.handles.remove("layer"),s&&this.handles.add([s.allSublayers.on("change",()=>this.notifyChange("visibleSublayers")),s.on("sublayer-update",i=>this.notifyChange(f[i.propertyName]))],"layer"))}get layers(){const s=this.visibleSublayers;return s?s.length?"show:"+s.map(i=>i.id).join(","):"show:-1":null}get layerDefs(){var s;const i=!(null==(s=this.floors)||!s.length),h=this.visibleSublayers.filter(a=>null!=a.definitionExpression||i&&null!=a.floorInfo);return h.length?JSON.stringify(h.reduce((a,u)=>{const c=(0,p.ff)(this.floors,u),m=(0,y.pC)(c)?(0,p.Hp)(c,u):u.definitionExpression;return a[u.id]=m,a},{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers"),this.commitProperty("timeExtent");const s=this.layer;return s&&(s.commitProperty("dpi"),s.commitProperty("imageFormat"),s.commitProperty("imageTransparency"),s.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const s=[];if(!this.layer)return s;const i=this.layer.sublayers,h=u=>{const c=this.scale;u.visible&&(0===c||(0===u.minScale||c<=u.minScale)&&(0===u.maxScale||c>=u.maxScale))&&(u.sublayers?u.sublayers.forEach(h):s.unshift(u))};i&&i.forEach(h);const a=this._get("visibleSublayers");return!a||a.length!==s.length||a.some((u,c)=>s[c]!==u)?s:a}toJSON(){const s=this.layer;let i={dpi:s.dpi,format:s.imageFormat,transparent:s.imageTransparency,gdbVersion:s.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?i.dynamicLayers=this.dynamicLayers:i=Q(V({},i),{layers:this.layers,layerDefs:this.layerDefs}),i}};(0,t._)([(0,E.Cb)({readOnly:!0})],n.prototype,"dynamicLayers",null),(0,t._)([(0,E.Cb)()],n.prototype,"floors",void 0),(0,t._)([(0,E.Cb)({readOnly:!0})],n.prototype,"hasDynamicLayers",null),(0,t._)([(0,E.Cb)()],n.prototype,"layer",null),(0,t._)([(0,E.Cb)({readOnly:!0})],n.prototype,"layers",null),(0,t._)([(0,E.Cb)({readOnly:!0})],n.prototype,"layerDefs",null),(0,t._)([(0,E.Cb)({type:Number})],n.prototype,"scale",void 0),(0,t._)([(0,E.Cb)(_.qG)],n.prototype,"timeExtent",void 0),(0,t._)([(0,E.Cb)({readOnly:!0})],n.prototype,"version",null),(0,t._)([(0,E.Cb)({readOnly:!0})],n.prototype,"visibleSublayers",null),n=(0,t._)([(0,I.j)("esri.layers.mixins.ExportImageParameters")],n)},51920:(G,A,e)=>{e.d(A,{j:()=>_});var t=e(17626),v=e(14517),g=e(80542),y=e(77712),l=(e(85931),e(8314),e(90912),e(76898));const I={visible:"visibleSublayers"};let _=class extends((0,g.p)(v.Z)){constructor(o){super(o),this.scale=0}set layer(o){this._get("layer")!==o&&(this._set("layer",o),this.handles.remove("layer"),o&&this.handles.add([o.sublayers.on("change",()=>this.notifyChange("visibleSublayers")),o.on("wms-sublayer-update",p=>this.notifyChange(I[p.propertyName]))],"layer"))}get layers(){const{visibleSublayers:o}=this;return o.filter(p=>p.name).map(p=>p.name).join(",")}get version(){this.commitProperty("layers");const o=this.layer;return o&&o.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:o,scale:p}=this,f=null==o?void 0:o.sublayers,n=[],s=i=>{const{minScale:h,maxScale:a,sublayers:u,visible:c}=i;c&&(0===p||(0===h||p<=h)&&(0===a||p>=a))&&(u?u.forEach(s):n.unshift(i))};return null==f||f.forEach(s),n}toJSON(){const{layer:o,layers:p}=this,{imageFormat:f,imageTransparency:n,version:s}=o;return{format:f,request:"GetMap",service:"WMS",styles:"",transparent:n,version:s,layers:p}}};(0,t._)([(0,y.Cb)()],_.prototype,"layer",null),(0,t._)([(0,y.Cb)({readOnly:!0})],_.prototype,"layers",null),(0,t._)([(0,y.Cb)({type:Number})],_.prototype,"scale",void 0),(0,t._)([(0,y.Cb)({readOnly:!0})],_.prototype,"version",null),(0,t._)([(0,y.Cb)({readOnly:!0})],_.prototype,"visibleSublayers",null),_=(0,t._)([(0,l.j)("esri.layers.support.ExportWMSImageParameters")],_)},74711:(G,A,e)=>{e.d(A,{W:()=>I});var t=e(15861),v=e(24263),g=e(84792),y=e(62208),E=e(10699),T=e(15382),d=e(84687),l=e(55463);class I{constructor(o,p,f,n){this.parsedUrl=o,this.portalItem=p,this.apiKey=f,this.signal=n,this.rootDocument=null;const s=this.parsedUrl.path.match(/^(.*)\/SceneServer\/layers\/([\d]*)\/?$/i);s&&(this.urlParts={root:s[1],layerId:parseInt(s[2],10)})}fetch(){var o=this;return(0,t.Z)(function*(){var p;if(!o.urlParts)return null;const f=null!=(p=o.portalItem)?p:yield o.portalItemFromServiceItemId();if((0,y.Wi)(f))return o.loadFromUrl();const n=yield o.findAndLoadRelatedPortalItem(f);return(0,y.Wi)(n)?null:o.loadFeatureLayerFromPortalItem(n)})()}fetchPortalItem(){var o=this;return(0,t.Z)(function*(){var p;if(!o.urlParts)return null;const f=null!=(p=o.portalItem)?p:yield o.portalItemFromServiceItemId();return(0,y.Wi)(f)?null:o.findAndLoadRelatedPortalItem(f)})()}fetchRootDocument(){var o=this;return(0,t.Z)(function*(){if((0,y.pC)(o.rootDocument))return o.rootDocument;if((0,y.Wi)(o.urlParts))return o.rootDocument={},{};const p={query:{f:"json",token:o.apiKey},responseType:"json",signal:o.signal},f=`${o.urlParts.root}/SceneServer`;try{const n=yield(0,g.default)(f,p);o.rootDocument=n.data}catch(n){o.rootDocument={}}return o.rootDocument})()}fetchServiceOwningPortalUrl(){var o=this;return(0,t.Z)(function*(){var p;const f=null==(p=v.id)?void 0:p.findServerInfo(o.parsedUrl.path);if(null!=f&&f.owningSystemUrl)return f.owningSystemUrl;const n=o.parsedUrl.path.replace(/(.*\/rest)\/.*/i,"$1")+"/info";try{const s=(yield(0,g.default)(n,{query:{f:"json"},responseType:"json",signal:o.signal})).data.owningSystemUrl;if(s)return s}catch(s){(0,E.r9)(s)}return null})()}findAndLoadRelatedPortalItem(o){var p=this;return(0,t.Z)(function*(){try{return(yield o.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:p.signal})).find(f=>"Feature Service"===f.type)||null}catch(f){return(0,E.r9)(f),null}})()}loadFeatureLayerFromPortalItem(o){var p=this;return(0,t.Z)(function*(){yield o.load({signal:p.signal});const f=yield p.findMatchingAssociatedSublayerUrl(o.url);return new T.default({url:f,portalItem:o}).load({signal:p.signal})})()}loadFromUrl(){var o=this;return(0,t.Z)(function*(){const p=yield o.findMatchingAssociatedSublayerUrl(`${o.urlParts.root}/FeatureServer`);return new T.default({url:p}).load({signal:o.signal})})()}findMatchingAssociatedSublayerUrl(o){var p=this;return(0,t.Z)(function*(){const f=o.replace(/^(.*FeatureServer)(\/[\d]*\/?)?$/i,"$1"),n={query:{f:"json"},responseType:"json",authMode:"no-prompt",signal:p.signal},s=p.urlParts.layerId,i=p.fetchRootDocument(),h=(0,g.default)(f,n),[a,u]=yield Promise.all([h,i]),c=u&&u.layers,m=a.data&&a.data.layers;if(!Array.isArray(m))throw new Error("expected layers array");if(Array.isArray(c)){for(let L=0;L<Math.min(c.length,m.length);L++)if(c[L].id===s)return`${f}/${m[L].id}`}else if(s<m.length)return`${f}/${m[s].id}`;throw new Error("could not find matching associated sublayer")})()}portalItemFromServiceItemId(){var o=this;return(0,t.Z)(function*(){const p=(yield o.fetchRootDocument()).serviceItemId;if(!p)return null;const f=new l.default({id:p,apiKey:o.apiKey}),n=yield o.fetchServiceOwningPortalUrl();(0,y.pC)(n)&&(f.portal=new d.Z({url:n}));try{return f.load({signal:o.signal})}catch(s){return(0,E.r9)(s),null}})()}}},35031:(G,A,e)=>{e.d(A,{H3:()=>a,QI:()=>p,U4:()=>I,Yh:()=>n});var t=e(17626),v=e(86162),g=e(77712),d=(e(85931),e(8314),e(90912),e(55342)),l=e(76898);let I=class extends v.wq{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,t._)([(0,g.Cb)({type:Number})],I.prototype,"nodesPerPage",void 0),(0,t._)([(0,g.Cb)({type:Number})],I.prototype,"rootIndex",void 0),(0,t._)([(0,g.Cb)({type:String})],I.prototype,"lodSelectionMetricType",void 0),I=(0,t._)([(0,l.j)("esri.layer.support.I3SNodePageDefinition")],I);let _=class extends v.wq{constructor(){super(...arguments),this.factor=1}};(0,t._)([(0,g.Cb)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],_.prototype,"id",void 0),(0,t._)([(0,g.Cb)({type:Number})],_.prototype,"factor",void 0),_=(0,t._)([(0,l.j)("esri.layer.support.I3SMaterialTexture")],_);let o=class extends v.wq{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,t._)([(0,g.Cb)({type:[Number]})],o.prototype,"baseColorFactor",void 0),(0,t._)([(0,g.Cb)({type:_})],o.prototype,"baseColorTexture",void 0),(0,t._)([(0,g.Cb)({type:_})],o.prototype,"metallicRoughnessTexture",void 0),(0,t._)([(0,g.Cb)({type:Number})],o.prototype,"metallicFactor",void 0),(0,t._)([(0,g.Cb)({type:Number})],o.prototype,"roughnessFactor",void 0),o=(0,t._)([(0,l.j)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],o);let p=class extends v.wq{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,t._)([(0,d.J)({opaque:"opaque",mask:"mask",blend:"blend"})],p.prototype,"alphaMode",void 0),(0,t._)([(0,g.Cb)({type:Number})],p.prototype,"alphaCutoff",void 0),(0,t._)([(0,g.Cb)({type:Boolean})],p.prototype,"doubleSided",void 0),(0,t._)([(0,d.J)({none:"none",back:"back",front:"front"})],p.prototype,"cullFace",void 0),(0,t._)([(0,g.Cb)({type:_})],p.prototype,"normalTexture",void 0),(0,t._)([(0,g.Cb)({type:_})],p.prototype,"occlusionTexture",void 0),(0,t._)([(0,g.Cb)({type:_})],p.prototype,"emissiveTexture",void 0),(0,t._)([(0,g.Cb)({type:[Number]})],p.prototype,"emissiveFactor",void 0),(0,t._)([(0,g.Cb)({type:o})],p.prototype,"pbrMetallicRoughness",void 0),p=(0,t._)([(0,l.j)("esri.layer.support.I3SMaterialDefinition")],p);let f=class extends v.wq{};(0,t._)([(0,g.Cb)({type:String,json:{read:{source:["name","index"],reader:(u,c)=>null!=u?u:`${c.index}`}}})],f.prototype,"name",void 0),(0,t._)([(0,d.J)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],f.prototype,"format",void 0),f=(0,t._)([(0,l.j)("esri.layer.support.I3STextureFormat")],f);let n=class extends v.wq{constructor(){super(...arguments),this.atlas=!1}};(0,t._)([(0,g.Cb)({type:[f]})],n.prototype,"formats",void 0),(0,t._)([(0,g.Cb)({type:Boolean})],n.prototype,"atlas",void 0),n=(0,t._)([(0,l.j)("esri.layer.support.I3STextureSetDefinition")],n);let s=class extends v.wq{};(0,t._)([(0,d.J)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],s.prototype,"type",void 0),(0,t._)([(0,g.Cb)({type:Number})],s.prototype,"component",void 0),s=(0,t._)([(0,l.j)("esri.layer.support.I3SGeometryAttribute")],s);let i=class extends v.wq{};(0,t._)([(0,d.J)({draco:"draco"})],i.prototype,"encoding",void 0),(0,t._)([(0,g.Cb)({type:[String]})],i.prototype,"attributes",void 0),i=(0,t._)([(0,l.j)("esri.layer.support.I3SGeometryCompressedAttributes")],i);let h=class extends v.wq{constructor(){super(...arguments),this.offset=0}};(0,t._)([(0,g.Cb)({type:Number})],h.prototype,"offset",void 0),(0,t._)([(0,g.Cb)({type:s})],h.prototype,"position",void 0),(0,t._)([(0,g.Cb)({type:s})],h.prototype,"normal",void 0),(0,t._)([(0,g.Cb)({type:s})],h.prototype,"uv0",void 0),(0,t._)([(0,g.Cb)({type:s})],h.prototype,"color",void 0),(0,t._)([(0,g.Cb)({type:s})],h.prototype,"uvRegion",void 0),(0,t._)([(0,g.Cb)({type:s})],h.prototype,"featureId",void 0),(0,t._)([(0,g.Cb)({type:s})],h.prototype,"faceRange",void 0),(0,t._)([(0,g.Cb)({type:i})],h.prototype,"compressedAttributes",void 0),h=(0,t._)([(0,l.j)("esri.layer.support.I3SGeometryBuffer")],h);let a=class extends v.wq{};(0,t._)([(0,d.J)({triangle:"triangle"})],a.prototype,"topology",void 0),(0,t._)([(0,g.Cb)()],a.prototype,"geometryBuffers",void 0),a=(0,t._)([(0,l.j)("esri.layer.support.I3SGeometryDefinition")],a)},28930:(G,A,e)=>{e.d(A,{y:()=>j});var O,t=e(15861),v=e(17626),g=e(84792),y=e(14517),E=e(26584),T=e(80542),d=e(63290),l=e(93961),I=e(77029),_=e(10699),o=e(50618),p=e(21726),f=e(27e3),n=e(77712),s=e(85931),h=(e(8314),e(66656)),a=e(76898),u=e(58817);class c{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}getAvailability(C,K){if("unknown"!==this._allAvailability)return this._allAvailability;const M=(C-this.location.top)*this.location.width+(K-this.location.left),F=M>>3,w=this._tileAvailabilityBitSet;return F<0||F>w.length?"unknown":w[F]&1<<M%8?"available":"unavailable"}_updateFromData(C){let B=!0,F=!0;const w=Math.ceil(this.location.width*this.location.height/8),Z=new Uint8Array(w);let N=0;for(let U=0;U<C.length;U++){const H=U%8;C[U]?(F=!1,Z[N]|=1<<H):B=!1,7===H&&++N}F?this._allAvailability="unavailable":B?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=Z,this.byteSize+=Z.length)}static fromDefinition(C,K){const M=C.service.request||g.default,{row:B,col:F,width:w,height:Z}=C,N={query:{f:"json"}};return K=K?V(V({},N),K):N,M(function L(P){let C;if("vector-tile"===P.service.type)C=`${P.service.url}/tilemap/${P.level}/${P.row}/${P.col}/${P.width}/${P.height}`;else{const M=P.service.tileServers;C=`${M&&M.length?M[P.row%M.length]:P.service.url}/tilemap/${P.level}/${P.row}/${P.col}/${P.width}/${P.height}`}const K=P.service.query;return K&&(C=`${C}?${K}`),C}(C),K).then(U=>U.data).catch(U=>{if(U&&U.details&&422===U.details.httpStatus)return{location:{top:B,left:F,width:w,height:Z},valid:!0,data:(0,s.a9)(w*Z,0)};throw U}).then(U=>{if(U.location&&(U.location.top!==B||U.location.left!==F||U.location.width!==w||U.location.height!==Z))throw new E.Z("tilemap:location-mismatch","Tilemap response for different location than requested",{response:U,definition:{top:B,left:F,width:w,height:Z}});return c.fromJSON(U)})}static fromJSON(C){c.validateJSON(C);const K=new c;return K.location=Object.freeze((0,u.d9)(C.location)),K._updateFromData(C.data),Object.freeze(K)}static validateJSON(C){if(!C||!C.location)throw new E.Z("tilemap:missing-location","Location missing from tilemap response");if(!1===C.valid)throw new E.Z("tilemap:invalid","Tilemap response was marked as invalid");if(!C.data)throw new E.Z("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(C.data))throw new E.Z("tilemap:data-mismatch","Data must be an array of numbers");if(C.data.length!==C.location.width*C.location.height)throw new E.Z("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}function m(P){return`${P.level}/${P.row}/${P.col}/${P.width}/${P.height}`}const R=d.Z.getLogger("esri.layers.support.TilemapCache");let j=O=class extends((0,T.p)(y.Z)){constructor(P){super(P),this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2097152,this.request=g.default,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new l.Z(this.cacheByteSize),this.handles.add([this.watch(["layer.parsedUrl","layer.tileServers?","layer.apiKey?","layer.customParameters?"],()=>this._initializeTilemapDefinition()),(0,f.S1)(this,"layer.tileInfo.lods",P=>this._initializeAvailableLevels(P),!0)]),this._initializeTilemapDefinition()}castLevels(P){return P<=2?(R.error("Minimum levels for Tilemap is 3, but got ",P),3):P}get size(){return 1<<this.levels}fetchTilemap(P,C,K,M){if(!this._availableLevels[P])return Promise.reject(new E.Z("tilemap-cache:level-unavailable",`Level ${P} is unavailable in the service`));const B=this._tmpTilemapDefinition,F=this._tilemapFromCache(P,C,K,B);if(F)return Promise.resolve(F);const w=M&&M.signal;return M=Q(V({},M),{signal:null}),new Promise((Z,N)=>{(0,_.fu)(w,()=>N((0,_.zE)()));const U=m(B);let H=this._pendingTilemapRequests[U];if(!H){H=c.fromDefinition(B,M).then(D=>(this._tilemapCache.put(U,D,D.byteSize),D));const J=()=>delete this._pendingTilemapRequests[U];this._pendingTilemapRequests[U]=H,H.then(J,J)}H.then(Z,N)})}getAvailability(P,C,K){if(!this._availableLevels[P])return"unavailable";const M=this._tilemapFromCache(P,C,K,this._tmpTilemapDefinition);return M?M.getAvailability(C,K):"unknown"}fetchAvailability(P,C,K,M){return this._availableLevels[P]?this.fetchTilemap(P,C,K,M).catch(B=>B).then(B=>{if(B instanceof c){const F=B.getAvailability(C,K);return"unavailable"===F?Promise.reject(new E.Z("tile-map:tile-unavailable","Tile is not available",{level:P,row:C,col:K})):F}if((0,_.D_)(B))throw B;return"unknown"}):Promise.reject(new E.Z("tilemap-cache:level-unavailable",`Level ${P} is unavailable in the service`))}fetchAvailabilityUpsample(P,C,K,M,B){M.level=P,M.row=C,M.col=K;const F=this.layer.tileInfo;F.updateTileInfo(M);const w=this.fetchAvailability(P,C,K,B).catch(Z=>{if((0,_.D_)(Z))throw Z;if(F.upsampleTile(M))return this.fetchAvailabilityUpsample(M.level,M.row,M.col,M);throw Z});return this._fetchAvailabilityUpsamplePrefetch(M.id,P,C,K,B,w),w}_fetchAvailabilityUpsamplePrefetch(P,C,K,M,B,F){var w=this;return(0,t.Z)(function*(){if(!w._prefetchingEnabled)return;const Z=`prefetch-${P}`;if(w.handles.has(Z))return;const N=new AbortController;F.then(()=>N.abort(),()=>N.abort());let U=!1;if(w.handles.add({remove(){U||(U=!0,N.abort())}},Z),yield(0,o.MU)(10,N.signal).catch(()=>{}),U||(U=!0,w.handles.remove(Z)),(0,_.Hc)(N))return;const J={id:P,level:C,row:K,col:M},D=Q(V({},B),{signal:N.signal}),W=w.layer.tileInfo;for(let b=0;O._prefetches.length<O._maxPrefetch&&W.upsampleTile(J);++b){const S=w.fetchAvailability(J.level,J.row,J.col,D);O._prefetches.push(S);const x=()=>{O._prefetches.removeUnordered(S)};S.then(x,x)}})()}_initializeTilemapDefinition(){var P;if(!this.layer.parsedUrl)return;const{parsedUrl:C,apiKey:K,customParameters:M}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:C.path,query:(0,p.B7)(Q(V(V({},C.query),M),{token:null!=K?K:null==(P=C.query)?void 0:P.token})),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(P,C,K,M){M.level=P,M.row=C-C%this.size,M.col=K-K%this.size;const B=m(M);return this._tilemapCache.get(B)}_initializeAvailableLevels(P){this._availableLevels={},P&&P.forEach(C=>this._availableLevels[C.level]=!0)}get test(){const P=this;return{get prefetchingEnabled(){return P._prefetchingEnabled},set prefetchingEnabled(C){P._prefetchingEnabled=C},hasTilemap:(C,K,M)=>!!P._tilemapFromCache(C,K,M,P._tmpTilemapDefinition)}}};j._maxPrefetch=4,j._prefetches=new I.Z({initialSize:O._maxPrefetch}),(0,v._)([(0,n.Cb)({constructOnly:!0,type:Number})],j.prototype,"levels",void 0),(0,v._)([(0,h.p)("levels")],j.prototype,"castLevels",null),(0,v._)([(0,n.Cb)({readOnly:!0,type:Number})],j.prototype,"size",null),(0,v._)([(0,n.Cb)({constructOnly:!0,type:Number})],j.prototype,"cacheByteSize",void 0),(0,v._)([(0,n.Cb)({constructOnly:!0})],j.prototype,"layer",void 0),(0,v._)([(0,n.Cb)({constructOnly:!0})],j.prototype,"request",void 0),j=O=(0,v._)([(0,a.j)("esri.layers.support.TilemapCache")],j)},91309:(G,A,e)=>{e.d(A,{Z:()=>I});var d,t=e(17626),v=e(86162),g=e(58817),y=e(77712),T=(e(90912),e(76898));let l=d=class extends v.wq{constructor(_){super(_)}clone(){return new d({customLayerParameters:(0,g.d9)(this.customLayerParameters),customParameters:(0,g.d9)(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}};(0,t._)([(0,y.Cb)({json:{type:Object,write:!0}})],l.prototype,"customLayerParameters",void 0),(0,t._)([(0,y.Cb)({json:{type:Object,write:!0}})],l.prototype,"customParameters",void 0),(0,t._)([(0,y.Cb)({type:String,json:{write:!0}})],l.prototype,"layerIdentifier",void 0),(0,t._)([(0,y.Cb)({type:String,json:{write:!0}})],l.prototype,"tileMatrixSet",void 0),(0,t._)([(0,y.Cb)({type:String,json:{write:!0}})],l.prototype,"url",void 0),l=d=(0,t._)([(0,T.j)("esri.layer.support.WMTSLayerInfo")],l);const I=l},59787:(G,A,e)=>{e.d(A,{C:()=>t});const t={attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsStatistics:!1,tileMaxRecordCount:0}}},98686:(G,A,e)=>{e.d(A,{lm:()=>L,CS:()=>s,Yu:()=>c,Cw:()=>n,j5:()=>i});var t=e(15861),v=e(59318),g=e(24263),y=e(73281),E=e(84792),T=e(58817),d=e(21726),l=e(65234),I=e(5548),_=e(32442),o=e(33474),p=e(17253);const f={esriGeometryPoint:"points",esriGeometryPolyline:"polylines",esriGeometryPolygon:"polygons"};function n(O){const R=O.folders||[],j=R.slice(),P=new Map,C=new Map,K=new Map,M=new Map,B=new Map,F={esriGeometryPoint:C,esriGeometryPolyline:K,esriGeometryPolygon:M};(O.featureCollection&&O.featureCollection.layers||[]).forEach(Z=>{const N=(0,T.d9)(Z);N.featureSet.features=[];const U=Z.featureSet.geometryType;P.set(U,N);const H=Z.layerDefinition.objectIdField;"esriGeometryPoint"===U?h(C,H,Z.featureSet.features):"esriGeometryPolyline"===U?h(K,H,Z.featureSet.features):"esriGeometryPolygon"===U&&h(M,H,Z.featureSet.features)}),O.groundOverlays&&O.groundOverlays.forEach(Z=>{B.set(Z.id,Z)}),R.forEach(Z=>{Z.networkLinkIds.forEach(N=>{const U=function u(O,R,j){const P=function a(O,R){let j;return R.some(P=>P.id===O&&(j=P,!0)),j}(O,j);return P&&(P.parentFolderId=R,P.networkLink=P),P}(N,Z.id,O.networkLinks);U&&j.push(U)})}),j.forEach(Z=>{if(Z.featureInfos){Z.points=(0,T.d9)(P.get("esriGeometryPoint")),Z.polylines=(0,T.d9)(P.get("esriGeometryPolyline")),Z.polygons=(0,T.d9)(P.get("esriGeometryPolygon")),Z.mapImages=[];for(const N of Z.featureInfos)switch(N.type){case"esriGeometryPoint":case"esriGeometryPolyline":case"esriGeometryPolygon":{const U=F[N.type].get(N.id);U&&Z[f[N.type]].featureSet.features.push(U);break}case"GroundOverlay":{const U=B.get(N.id);U&&Z.mapImages.push(U);break}}Z.fullExtent=L([Z])}});const w=L(j);return{folders:R,sublayers:j,extent:w}}function s(O,R,j,P){const C=g.id&&g.id.findCredential(O);return O=(0,d.fl)(O,{token:C&&C.token}),(0,E.default)(v.Z.kmlServiceUrl,{query:{url:O,model:"simple",folders:"",refresh:0!==j||void 0,outSR:JSON.stringify(R)},responseType:"json",signal:P})}function i(O,R,j=null,P=[]){const C=[],K={},M=R.sublayers,B=R.folders.map(F=>F.id);return M.forEach(F=>{const w=new O;if(j?w.read(F,j):w.read(F),P.length&&B.indexOf(w.id)>-1&&(w.visible=-1!==P.indexOf(w.id)),K[F.id]=w,null!=F.parentFolderId&&-1!==F.parentFolderId){const Z=K[F.parentFolderId];Z.sublayers||(Z.sublayers=[]),Z.sublayers.unshift(w)}else C.unshift(w)}),C}function h(O,R,j){j.forEach(P=>{O.set(P.attributes[R],P)})}function c(O){return m.apply(this,arguments)}function m(){return(m=(0,t.Z)(function*(O){const R=p.default.fromJSON(O.featureSet).features,P=(0,o.i)(O.layerDefinition.drawingInfo.renderer),C=y.Z.fromJSON(O.popupInfo),K=[];for(const M of R){const B=yield P.getSymbolAsync(M);M.symbol=B,M.popupTemplate=C,M.visible=!0,K.push(M)}return K})).apply(this,arguments)}function L(O){const R=(0,I.Ue)(I.Gv),j=(0,I.Ue)(I.Gv);for(const P of O){if(P.polygons&&P.polygons.featureSet&&P.polygons.featureSet.features)for(const C of P.polygons.featureSet.features)(0,_.Yg)(R,C.geometry),(0,I.TC)(j,R);if(P.polylines&&P.polylines.featureSet&&P.polylines.featureSet.features)for(const C of P.polylines.featureSet.features)(0,_.Yg)(R,C.geometry),(0,I.TC)(j,R);if(P.points&&P.points.featureSet&&P.points.featureSet.features)for(const C of P.points.featureSet.features)(0,_.Yg)(R,C.geometry),(0,I.TC)(j,R);if(P.mapImages)for(const C of P.mapImages)(0,_.Yg)(R,C.extent),(0,I.TC)(j,R)}return(0,I.fS)(j,I.Gv)?null:{xmin:j[0],ymin:j[1],zmin:j[2],xmax:j[3],ymax:j[4],zmax:j[5],spatialReference:l.Z.WGS84}}},61068:(G,A,e)=>{e.d(A,{OE:()=>p,Gc:()=>s,Qg:()=>f,Rq:()=>l,gX:()=>n,z2:()=>I,ET:()=>_,Vx:()=>h}),e(29132);var v=e(62208),y=e(28594),E=e(49672);const T=new Map,d=new class g{constructor(u=15e3,c=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=u,this._interval=Math.min(u,c)}decreaseRefCount(u,c){const m=u+"/"+c,L=this._cachedBlocks;if(L.has(m)){const O=L.get(m);return O.refCount--,O.refCount<=0&&(L.delete(m),O.controller&&O.controller.abort()),O.refCount}return 0}getBlock(u,c){const m=u+"/"+c,L=this._cachedBlocks;if(L.has(m)){const O=L.get(m);return O.ts=Date.now(),O.refCount++,L.delete(m),L.set(m,O),O.block}return null}putBlock(u,c,m,L=null){const O=this._cachedBlocks,R=u+"/"+c;if(O.has(R)){const j=O.get(R);j.ts=Date.now(),j.refCount++}else O.set(R,{block:m,ts:Date.now(),refCount:1,controller:L});this.trim(),this.updateTimer()}deleteBlock(u,c){const m=this._cachedBlocks,L=u+"/"+c;m.has(L)&&m.delete(L)}updateMaxSize(u){this._size=u,this.trim()}empty(){this._cachedBlocks.clear(),this.clearTimer()}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const u=this._cachedBlocks;this._timer=setInterval(()=>{const c=Array.from(u),m=Date.now();for(let L=0;L<c.length&&c[L][1].ts<=m-this._duration;L++)u.delete(c[L][0]);0===u.size&&this.clearTimer()},this._interval)}trim(){const u=this._cachedBlocks;if(-1===this._size||this._size>=u.size)return;const c=Array.from(u);for(let m=0;m<c.length-this._size;m++)u.delete(c[m][0])}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}};function l(a,u){return null==u?a:`${a}?sliceId=${u}`}function I(a,u){const c={extent:null,rasterInfo:u,cache:new Map};if(T.has(a)){const m=T.get(a);return m.push(c),m.length-1}return T.set(a,[c]),0}function _(a,u){if(T.has(a)){const c=T.get(a);c[u]=null,c.some(m=>null!=m)||T.delete(a)}}function p(a,u,c){if(!T.has(a))return null==u?d.decreaseRefCount(a,c):0;const m=T.get(a);if(null==m[u])return d.decreaseRefCount(a,c);const L=m[u].cache;if(L.has(c)){const O=L.get(c);if(O.refCount--,0===O.refCount){L.delete(c);for(let R=0;R<m.length;R++)m[R]&&m[R].cache.has(c)&&m[R].cache.delete(c);O.controller&&O.controller.abort()}return O.refCount}return 0}function f(a,u,c){if(!T.has(a))return null==u?d.getBlock(a,c):null;const m=T.get(a);if(null==m[u]){for(let O=0;O<m.length;O++)if(m[O]&&m[O].cache.has(c)){const R=m[O].cache.get(c);return R.refCount++,R.block}return d.getBlock(a,c)}const L=m[u].cache;if(L.has(c)){const O=L.get(c);return O.refCount++,O.block}for(let O=0;O<m.length;O++)if(O!==u&&m[O]&&m[O]&&m[O].cache.has(c)){const R=m[O].cache.get(c);return R.refCount++,L.set(c,R),R.block}return null}function n(a,u,c,m,L=null){if(!T.has(a))return void(null==u&&d.putBlock(a,c,m,L));const O=T.get(a);if(null==O[u])return void d.putBlock(a,c,m,L);const R={refCount:1,block:m,isResolved:!1,isRejected:!1,controller:L};m.then(()=>R.isResolved=!0).catch(()=>R.isRejected=!0),O[u].cache.set(c,R)}function s(a,u,c){if(!T.has(a))return void(null==u&&d.deleteBlock(a,c));const m=T.get(a);null!=m[u]?m[u].cache.delete(c):d.deleteBlock(a,c)}function h(a,u,c,m,L,O,R=null){const j=function i(a,u){if(!T.has(a))return null;const c=T.get(a);return null==c[u]?null:c[u]}(a,u),P=j.extent,{cache:C,rasterInfo:K}=j;if(P&&P.xmin===c.xmin&&P.xmax===c.xmax&&P.ymin===c.ymin&&P.ymax===c.ymax)return;const M=c.clone().normalize(),{spatialReference:B,transform:F}=K,w=new Set;for(let Z=0;Z<M.length;Z++){const N=M[Z];if(N.xmax-N.xmin<=m||N.ymax-N.ymin<=m)continue;let U=(0,y.tB)(N,B,R);(0,v.pC)(F)&&(U=F.inverseTransform(U));const H=new E.Z({x:m,y:m,spatialReference:N.spatialReference});if(null==L&&!(L=(0,y.VO)(H,B,N,R)))return;const{pyramidLevel:J,pyramidResolution:D,excessiveReading:W}=(0,y.kr)(L,K,O||"closest");if(W)return;const{storageInfo:b}=K,{origin:S}=b,x={x:Math.max(0,Math.floor((U.xmin-S.x)/D.x)),y:Math.max(0,Math.floor((S.y-U.ymax)/D.y))},z=Math.ceil((U.xmax-U.xmin)/D.x-.1),$=Math.ceil((U.ymax-U.ymin)/D.y-.1),Y=J>0?b.pyramidBlockWidth:b.blockWidth,q=J>0?b.pyramidBlockHeight:b.blockHeight,k=1,X=Math.max(0,Math.floor(x.x/Y)-k),ee=Math.max(0,Math.floor(x.y/q)-k),te=Math.floor((x.x+z-1)/Y)+k,re=Math.floor((x.y+$-1)/q)+k;for(let se=ee;se<=re;se++)for(let ne=X;ne<=te;ne++)w.add(`${J}/${se}/${ne}`)}C.forEach((Z,N)=>{if(!w.has(N)){const U=C.get(N);(null==U||U.isResolved||U.isRejected)&&C.delete(N)}}),j.extent={xmin:c.xmin,ymin:c.ymin,xmax:c.xmax,ymax:c.ymax}}},51026:(G,A,e)=>{e.d(A,{d:()=>g,h:()=>v});var t=e(2584);const v={type:t.Z,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:g}}}}};function g(y,E,T,d){if(!y)return null;const{minScale:l,maxScale:I,minLOD:_,maxLOD:o}=E;if(null!=_&&null!=o)return t.Z.fromJSON(d&&d.ignoreMinMaxLOD?y:Q(V({},y),{lods:y.lods.filter(({level:p})=>null!=p&&p>=_&&p<=o)}));if(0!==l&&0!==I){const p=s=>Math.round(1e4*s)/1e4,f=l?p(l):1/0,n=I?p(I):-1/0;return t.Z.fromJSON(Q(V({},y),{lods:y.lods.filter(s=>{const i=p(s.scale);return i<=f&&i>=n})}))}return t.Z.fromJSON(y)}},53776:(G,A,e)=>{e.d(A,{Z:()=>i});var o,t=e(17626),v=e(58817),g=e(77712),y=e(90912),E=e(55342),T=e(76898),d=e(80573),l=e(10914),I=e(91558),_=e(86162);let p=o=class extends _.wq{constructor(){super(...arguments),this.description=null,this.label=null,this.minValue=0,this.maxValue=0,this.color=null}clone(){return new o({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:(0,v.d9)(this.color)})}};(0,t._)([(0,g.Cb)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,t._)([(0,g.Cb)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,t._)([(0,g.Cb)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],p.prototype,"minValue",void 0),(0,t._)([(0,g.Cb)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],p.prototype,"maxValue",void 0),(0,t._)([(0,g.Cb)({type:I.Z,json:{type:[y.z8],write:!0}})],p.prototype,"color",void 0),p=o=(0,t._)([(0,T.j)("esri.renderers.support.pointCloud.ColorClassBreakInfo")],p);const f=p;var n;let s=n=class extends d.Z{constructor(h){super(h),this.type="point-cloud-class-breaks",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.colorClassBreakInfos=null}clone(){return new n(Q(V({},this.cloneProperties()),{field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:(0,v.d9)(this.colorClassBreakInfos),legendOptions:(0,v.d9)(this.legendOptions)}))}};(0,t._)([(0,E.J)({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],s.prototype,"type",void 0),(0,t._)([(0,g.Cb)({json:{write:!0},type:String})],s.prototype,"field",void 0),(0,t._)([(0,g.Cb)({type:l.Z,json:{write:!0}})],s.prototype,"legendOptions",void 0),(0,t._)([(0,g.Cb)({type:d.Z.fieldTransformTypeKebabDict.apiValues,json:{type:d.Z.fieldTransformTypeKebabDict.jsonValues,read:d.Z.fieldTransformTypeKebabDict.read,write:d.Z.fieldTransformTypeKebabDict.write}})],s.prototype,"fieldTransformType",void 0),(0,t._)([(0,g.Cb)({type:[f],json:{write:!0}})],s.prototype,"colorClassBreakInfos",void 0),s=n=(0,t._)([(0,T.j)("esri.renderers.PointCloudClassBreaksRenderer")],s);const i=s},80573:(G,A,e)=>{e.d(A,{Z:()=>P});var _,t=e(17626),v=e(2076),g=e(86162),y=e(58817),E=e(77712),d=(e(90912),e(76898));e(85931),e(8314);let o=_=class extends g.wq{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new _({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};(0,t._)([(0,E.Cb)({type:String,json:{write:!0}})],o.prototype,"field",void 0),(0,t._)([(0,E.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],o.prototype,"minValue",void 0),(0,t._)([(0,E.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],o.prototype,"maxValue",void 0),o=_=(0,t._)([(0,d.j)("esri.renderers.support.pointCloud.ColorModulation")],o);const p=o,f=new v.Xn({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});let n=class extends g.wq{};(0,t._)([(0,E.Cb)({type:f.apiValues,readOnly:!0,nonNullable:!0,json:{type:f.jsonValues,read:!1,write:f.write}})],n.prototype,"type",void 0),n=(0,t._)([(0,d.j)("esri.renderers.support.pointCloud.PointSizeAlgorithm")],n);const s=n;var h,i=e(55342);let a=h=class extends s{constructor(){super(...arguments),this.type="fixed-size",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new h({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};(0,t._)([(0,i.J)({pointCloudFixedSizeAlgorithm:"fixed-size"})],a.prototype,"type",void 0),(0,t._)([(0,E.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],a.prototype,"size",void 0),(0,t._)([(0,E.Cb)({type:Boolean,json:{write:!0}})],a.prototype,"useRealWorldSymbolSizes",void 0),a=h=(0,t._)([(0,d.j)("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],a);const u=a;var c;let m=c=class extends s{constructor(){super(...arguments),this.type="splat",this.scaleFactor=1}clone(){return new c({scaleFactor:this.scaleFactor})}};(0,t._)([(0,i.J)({pointCloudSplatAlgorithm:"splat"})],m.prototype,"type",void 0),(0,t._)([(0,E.Cb)({type:Number,value:1,nonNullable:!0,json:{write:!0}})],m.prototype,"scaleFactor",void 0),m=c=(0,t._)([(0,d.j)("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],m);const O={key:"type",base:s,typeMap:{"fixed-size":u,splat:m}},R=(0,v.wY)()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});let j=class extends g.wq{constructor(C){super(C),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:(0,y.d9)(this.pointSizeAlgorithm),colorModulation:(0,y.d9)(this.colorModulation),pointsPerInch:(0,y.d9)(this.pointsPerInch)}}};(0,t._)([(0,E.Cb)({type:R.apiValues,readOnly:!0,nonNullable:!0,json:{type:R.jsonValues,read:!1,write:R.write}})],j.prototype,"type",void 0),(0,t._)([(0,E.Cb)({types:O,json:{write:!0}})],j.prototype,"pointSizeAlgorithm",void 0),(0,t._)([(0,E.Cb)({type:p,json:{write:!0}})],j.prototype,"colorModulation",void 0),(0,t._)([(0,E.Cb)({json:{write:!0},nonNullable:!0,type:Number})],j.prototype,"pointsPerInch",void 0),j=(0,t._)([(0,d.j)("esri.renderers.PointCloudRenderer")],j),(j||(j={})).fieldTransformTypeKebabDict=new v.Xn({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});const P=j},23899:(G,A,e)=>{e.d(A,{Z:()=>p});var _,t=e(17626),v=e(58817),g=e(77712),E=(e(90912),e(55342)),T=e(76898),d=e(80573),l=e(10914),I=e(8029);let o=_=class extends d.Z{constructor(f){super(f),this.type="point-cloud-stretch",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new _(Q(V({},this.cloneProperties()),{field:(0,v.d9)(this.field),fieldTransformType:(0,v.d9)(this.fieldTransformType),stops:(0,v.d9)(this.stops),legendOptions:(0,v.d9)(this.legendOptions)}))}};(0,t._)([(0,E.J)({pointCloudStretchRenderer:"point-cloud-stretch"})],o.prototype,"type",void 0),(0,t._)([(0,g.Cb)({json:{write:!0},type:String})],o.prototype,"field",void 0),(0,t._)([(0,g.Cb)({type:l.Z,json:{write:!0}})],o.prototype,"legendOptions",void 0),(0,t._)([(0,g.Cb)({type:d.Z.fieldTransformTypeKebabDict.apiValues,json:{type:d.Z.fieldTransformTypeKebabDict.jsonValues,read:d.Z.fieldTransformTypeKebabDict.read,write:d.Z.fieldTransformTypeKebabDict.write}})],o.prototype,"fieldTransformType",void 0),(0,t._)([(0,g.Cb)({type:[I.Z],json:{write:!0}})],o.prototype,"stops",void 0),o=_=(0,t._)([(0,T.j)("esri.renderers.PointCloudStretchRenderer")],o);const p=o},98610:(G,A,e)=>{e.d(A,{Z:()=>i});var o,t=e(17626),v=e(58817),g=e(77712),y=e(90912),E=e(55342),T=e(76898),d=e(80573),l=e(10914),I=e(91558),_=e(86162);let p=o=class extends _.wq{constructor(){super(...arguments),this.description=null,this.label=null,this.values=null,this.color=null}clone(){return new o({description:this.description,label:this.label,values:(0,v.d9)(this.values),color:(0,v.d9)(this.color)})}};(0,t._)([(0,g.Cb)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,t._)([(0,g.Cb)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,t._)([(0,g.Cb)({type:[String],json:{write:!0}})],p.prototype,"values",void 0),(0,t._)([(0,g.Cb)({type:I.Z,json:{type:[y.z8],write:!0}})],p.prototype,"color",void 0),p=o=(0,t._)([(0,T.j)("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],p);const f=p;var n;let s=n=class extends d.Z{constructor(h){super(h),this.type="point-cloud-unique-value",this.field=null,this.fieldTransformType=null,this.colorUniqueValueInfos=null,this.legendOptions=null}clone(){return new n(Q(V({},this.cloneProperties()),{field:(0,v.d9)(this.field),fieldTransformType:(0,v.d9)(this.fieldTransformType),colorUniqueValueInfos:(0,v.d9)(this.colorUniqueValueInfos),legendOptions:(0,v.d9)(this.legendOptions)}))}};(0,t._)([(0,E.J)({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],s.prototype,"type",void 0),(0,t._)([(0,g.Cb)({json:{write:!0},type:String})],s.prototype,"field",void 0),(0,t._)([(0,g.Cb)({type:d.Z.fieldTransformTypeKebabDict.apiValues,json:{type:d.Z.fieldTransformTypeKebabDict.jsonValues,read:d.Z.fieldTransformTypeKebabDict.read,write:d.Z.fieldTransformTypeKebabDict.write}})],s.prototype,"fieldTransformType",void 0),(0,t._)([(0,g.Cb)({type:[f],json:{write:!0}})],s.prototype,"colorUniqueValueInfos",void 0),(0,t._)([(0,g.Cb)({type:l.Z,json:{write:!0}})],s.prototype,"legendOptions",void 0),s=n=(0,t._)([(0,T.j)("esri.renderers.PointCloudUniqueValueRenderer")],s);const i=s},36859:(G,A,e)=>{e.d(A,{QM:()=>y,hy:()=>E,uI:()=>v});var t=e(21286);const v=(()=>{if(!("document"in globalThis))return()=>null;const _=document.createElement("canvas"),o=_.getContext("2d");return _.height=512,_.width=1,f=>{o.clearRect(0,0,1,_.height);const n=o.createLinearGradient(0,0,0,_.height);for(const{ratio:s,color:i}of f.colorStops)n.addColorStop(Math.max(s,.001),`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]})`);return o.fillStyle=n,o.fillRect(0,0,1,_.height),o.getImageData(0,0,1,_.height).data}})();function y(_,o,p,f){const{blurRadius:n,fieldOffset:s,field:i}=o,h=new Float64Array(p*f),a=function d(_){const o=Math.round(3*_),p=2*_*_,f=new Float64Array(2*o+1);for(let n=0;n<=f.length;n++)f[n]=Math.exp(-((n-o)**2)/p)/Math.sqrt(2*Math.PI)*(_/2);return f}(n),u=Math.round(3*n);let c,m=Number.NEGATIVE_INFINITY;const L=function I(_,o){return null!=_?"string"==typeof o?p=>-1*+p.readAttribute(_):p=>+p.readAttribute(_)+o:p=>1}(i,s),O=new Set;for(const R of _){const j=R.getCursor();for(;j.next();){const P=j.getObjectId();if(O.has(P))continue;O.add(P);const C=j.readLegacyPointGeometry(),K=128;if(C.x<-K||C.x>=p+K||C.y<-K||C.y>f+K)continue;const M=+L(j),B=Math.round(C.x)-u,F=Math.round(C.y)-u,w=Math.max(0,B),Z=Math.max(0,F),N=Math.min(f,Math.round(C.y)+u),U=Math.min(p,Math.round(C.x)+u);for(let H=Z;H<N;H++){const J=a[H-F];for(let D=w;D<U;D++)c=h[H*p+D]+=J*a[D-B]*M,c>m&&(m=c)}}}return{matrix:h.buffer,max:m}}function E(_,o,p,f,n,s){_.canvas.width=_.canvas.height=o,_.clearRect(0,0,o,o);const i=_.getImageData(0,0,o,o);p&&f&&i.data.set(new Uint8ClampedArray(function T(_,o,p,f,n){const s=new Uint32Array(_*_),i="buffer"in o?o:new Float64Array(o),h="buffer"in p?new Uint32Array(p.buffer):new Uint32Array(new Uint8Array(p).buffer),a=h.length/(n-f);for(let u=0;u<i.length;u++){const m=Math.floor((i[u]-f)*a);s[u]=h[(0,t.uZ)(m,0,h.length-1)]}return s.buffer}(o,p,f,n,s))),_.putImageData(i,0,0)}},39636:(G,A,e)=>{e.d(A,{i:()=>I});var t=e(15861),v=e(84792),g=e(90912),y=e(91179),E=e(2618),T=e(10920),d=e(77294);const l=(0,g.se)(d.Z);function I(o,p,f){return _.apply(this,arguments)}function _(){return(_=(0,t.Z)(function*(o,p,f){p=l(p);const n=(0,E.en)(o),s=V(Q(V({},n.query),{f:"json"}),p.toJSON()),i=p.outSpatialReference,h=(0,y.Ji)(p.geometries[0]),a=(0,E.lA)(s,f);return(0,v.default)(n.path+"/project",a).then(({data:{geometries:u}})=>(0,T.o)(u,h,i))})).apply(this,arguments)}},10920:(G,A,e)=>{e.d(A,{o:()=>g,F:()=>v});var t=e(91179);function v(y){return{geometryType:(0,t.Ji)(y[0]),geometries:y.map(E=>E.toJSON())}}function g(y,E,T){const d=(0,t.q9)(E);return y.map(l=>{const I=d.fromJSON(l);return I.spatialReference=T,I})}},77294:(G,A,e)=>{e.d(A,{Z:()=>_});var t=e(17626),v=e(86162),g=e(77712),d=(e(85931),e(8314),e(90912),e(76898)),l=e(91179);let I=class extends v.wq{constructor(o){super(o),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const o=this.geometries.map(function(n){return n.toJSON()}),p=this.geometries[0],f={};return f.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),f.inSR=p.spatialReference.wkid||JSON.stringify(p.spatialReference.toJSON()),f.geometries=JSON.stringify({geometryType:(0,l.Ji)(p),geometries:o}),this.transformation&&(f.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(f.transformForward=this.transformForward),f}};(0,t._)([(0,g.Cb)()],I.prototype,"geometries",void 0),(0,t._)([(0,g.Cb)({json:{read:{source:"outSR"}}})],I.prototype,"outSpatialReference",void 0),(0,t._)([(0,g.Cb)()],I.prototype,"transformation",void 0),(0,t._)([(0,g.Cb)()],I.prototype,"transformForward",void 0),I=(0,t._)([(0,d.j)("esri.rest.support.ProjectParameters")],I);const _=I},70026:(G,A,e)=>{e.d(A,{t:()=>g});var t=e(15861),v=e(84792);function g(E,T){return y.apply(this,arguments)}function y(){return(y=(0,t.Z)(function*(E,T){const{data:d}=yield(0,v.default)(E,V({responseType:"image"},T));return d})).apply(this,arguments)}},32837:(G,A,e)=>{e.d(A,{Z:()=>T});var t=e(35909),v=e(31375),g=e(47139),y=e(80991);class T{constructor(l){this._resourceManager=l}dispose(){this._rasterizationCanvas=null}rasterizeJSONResource(l,I,_){if(this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas")),"simple-fill"===l.type||"esriSFS"===l.type){const[u,c,m]=t.fN.rasterizeSimpleFill(this._rasterizationCanvas,l.style,I);return{size:[c,m],image:new Uint32Array(u.buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0}}if("simple-line"===l.type||"esriSLS"===l.type||"line"===l.type&&l.dashTemplate){let u,c;if("simple-line"===l.type||"esriSLS"===l.type)switch(u=(0,t.U1)(l.style,l.cap),l.cap){case"butt":c="Butt";break;case"square":c="Square";break;default:c="Round"}else u=l.dashTemplate,c=l.cim.capStyle;const[m,L,O]=t.fN.rasterizeSimpleLine(u,c);return{size:[L,O],image:new Uint32Array(m.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}}let o,p,f;if("simple-marker"===l.type||"esriSMS"===l.type||"line-marker"===l.type?(o=t.B$.fromSimpleMarker(l),f=(0,g.Fp)(o)):l.cim&&"CIMHatchFill"===l.cim.type?(o=t.B$.fromCIMHatchFill(l.cim),p=new v.Z(o.frame.xmin,-o.frame.ymax,o.frame.xmax-o.frame.xmin,o.frame.ymax-o.frame.ymin)):l.cim.markerPlacement&&"CIMMarkerPlacementInsidePolygon"===l.cim.markerPlacement.type?(o=t.B$.fromCIMInsidePolygon(l.cim),p=new v.Z(o.frame.xmin,-o.frame.ymax,o.frame.xmax-o.frame.xmin,o.frame.ymax-o.frame.ymin)):(o=l.cim,f=(0,g.Fp)(o)),f&&!_){const[u,c,m]=(0,g.RL)(f);return u?{size:[c,m],image:new Uint32Array(u.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}:null}const[n,s,i,h,a]=t.B$.rasterize(this._rasterizationCanvas,o,p,this._resourceManager,!_);return n?{size:[s,i],image:new Uint32Array(n.buffer),sdf:!1,simplePattern:!1,anchorX:h,anchorY:a}:null}rasterizeImageResource(l,I,_,o){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas")),this._rasterizationCanvas.width=l,this._rasterizationCanvas.height=I;const p=this._rasterizationCanvas.getContext("2d");_ instanceof ImageData?p.putImageData(_,0,0):(_.setAttribute("width",`${l}px`),_.setAttribute("height",`${I}px`),p.drawImage(_,0,0,l,I));const f=p.getImageData(0,0,l,I),n=new Uint8Array(f.data);if(o)for(const c of o)if(c&&c.oldColor&&4===c.oldColor.length&&c.newColor&&4===c.newColor.length){const[m,L,O,R]=c.oldColor,[j,P,C,K]=c.newColor;if(m===j&&L===P&&O===C&&R===K)continue;for(let M=0;M<n.length;M+=4)m===n[M]&&L===n[M+1]&&O===n[M+2]&&R===n[M+3]&&(n[M]=j,n[M+1]=P,n[M+2]=C,n[M+3]=K)}let s;for(let c=0;c<n.length;c+=4)s=n[c+3]/255,n[c]=n[c]*s,n[c+1]=n[c+1]*s,n[c+2]=n[c+2]*s;let i=n,h=l,a=I;const u=512;if(h>=u||a>=u){const c=h/a;c>1?(h=u,a=Math.round(u/c)):(a=u,h=Math.round(u*c)),i=new Uint8Array(4*h*a);const m=new Uint8ClampedArray(i.buffer);(0,y.TT)(n,l,I,m,h,a,!1)}return{size:[h,a],image:new Uint32Array(i.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}}},71131:(G,A,e)=>{e.d(A,{dc:()=>f,uH:()=>p,TE:()=>l,Pc:()=>T,EB:()=>d,XX:()=>_,EV:()=>y,DY:()=>I,eb:()=>g,tp:()=>o,ht:()=>E,JZ:()=>v});var t=e(91558);const v={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function g(n,s,i){let a=22,u=22;n<1?a*=.75:n>1&&(u*=1.25);let L=22,O=22;return s&&i&&(a=u=L=O=0),[{type:"path",path:[{command:"M",values:[L,0]},{command:"L",values:[i?L:.875*L,0]},{command:"L",values:[i?a-.5*L:0,u-.5*O]},{command:"L",values:[a-.5*L,u-.5*O]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[L,0]},{command:"L",values:[L,s?0:.125*O]},{command:"L",values:[a-.5*L,s?u-.5*O:O]},{command:"L",values:[a-.5*L,u-.5*O]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[a-.5*L,u-.5*O]},{command:"L",values:[i?a-.5*L:0,u-.5*O]},{command:"L",values:[i?a-.5*L:0,s?u-.5*O:O]},{command:"L",values:[a-.5*L,s?u-.5*O:O]},{command:"Z",values:[]}]}]}function y(n){const i=.5*n;return[{type:"path",path:[{command:"M",values:[0,.7*22*.5]},{command:"L",values:[6.6,.7*22]},{command:"L",values:[6.6,.7*22+i]},{command:"L",values:[0,.7*22+i-.7*22*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,.7*22]},{command:"L",values:[6.6,.7*22+i]},{command:"L",values:[22,i]},{command:"L",values:[22,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,0]},{command:"L",values:[22,0]},{command:"L",values:[6.6,.7*22]},{command:"L",values:[0,.7*22*.5]},{command:"Z",values:[]}]}]}function E(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function T(n,s){let i=s?20:n;const h=s?4:6;i-=i<=22?.5*h:h;const c=s?.35*i:.5*i;return[{type:"path",path:[{command:"M",values:[.5*i,0]},{command:"L",values:[i,.5*c]},{command:"L",values:[.5*i,c]},{command:"L",values:[0,.5*c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*c]},{command:"L",values:[.5*i,c]},{command:"L",values:[.5*i,n]},{command:"L",values:[0,n-.5*c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*i,c]},{command:"L",values:[.5*i,n]},{command:"L",values:[i,n-.5*c]},{command:"L",values:[i,.5*c]},{command:"Z",values:[]}]}]}function d(n,s){let i=s?20:n;const h=s?4:6;i-=i<=22?.5*h:h;const a=.5*i,u=.15*i,m=n-u;return[{type:"ellipse",cx:.5*i,cy:m,rx:a,ry:u},{type:"path",path:[{command:"M",values:[0,u]},{command:"L",values:[0,m]},{command:"L",values:[i,m]},{command:"L",values:[i,u]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*i,cy:u,rx:a,ry:u}]}function l(n,s){let i=s?20:n;const h=s?4:6;i-=i<=22?.5*h:h;const a=.15*i,u=n-a;return[{type:"ellipse",cx:.5*i,cy:u,rx:.5*i,ry:a},{type:"path",path:[{command:"M",values:[.5*i,0]},{command:"L",values:[i,u]},{command:"L",values:[0,u]},{command:"Z",values:[]}]}]}function I(n){let s=n;s-=s<22?3:6;const h=.15*s;return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[s,0]},{command:"L",values:[.5*s,n-h]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*s,cy:0,rx:.5*s,ry:h}]}function _(n){let s=n;const i=n;s-=s<22?2:4;const c=s,m=i,L=Math.floor(n/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*c,0]},{command:"L",values:[c,.5*m-L]},{command:"L",values:[.45*c-L,.5*m+L]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*c,0]},{command:"L",values:[.45*c-L,.5*m+L]},{command:"L",values:[0,.5*m-L]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*m-L]},{command:"L",values:[.45*c-L,.5*m+L]},{command:"L",values:[.45*c,i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*c,i]},{command:"L",values:[c,.5*m-L]},{command:"L",values:[.45*c-L,.5*m+L]},{command:"Z",values:[]}]}]}function o(n){let i=n;return i-=i<22?1:2,[{type:"path",path:[{command:"M",values:[.45*n,0]},{command:"L",values:[n,i]},{command:"L",values:[.45*n,.6*i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*n,0]},{command:"L",values:[.45*n,.6*i]},{command:"L",values:[0,i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,i]},{command:"L",values:[.45*n,.6*i]},{command:"L",values:[n,i]},{command:"Z",values:[]}]}]}function p(n,s){return Math.round(Math.min(Math.max(n+255*s*.75,0),255))}function f(n,s){if("type"in n&&("linear"===n.type||"pattern"===n.type))return n;const i=new t.Z(n);return new t.Z([p(i.r,s),p(i.g,s),p(i.b,s),i.a])}},50998:(G,A,e)=>{e.r(A),e.d(A,{fetchSymbolFromStyle:()=>p,resolveWebStyleSymbol:()=>o});var t=e(65787),v=e(83100),g=e(26584),y=e(21726),E=e(84687),T=e(29840),d=e(65270),l=e(77345),I=e(78241),_=e(96296);function o(n,s,i,h){return n.name?n.styleName&&"Esri2DPointSymbolsStyle"===n.styleName?function f(n,s,i){const h=I.wm.replace(/\{SymbolName\}/gi,n.name);return(0,I.EJ)(h,i).then(a=>{const u=(0,I.KV)(a.data);return(0,d.i)(u,{portal:s.portal,url:(0,y.mN)((0,y.Yd)(h)),origin:"portal-item"})})}(n,s,h):(0,I.n2)(n,s,h).then(a=>p(a,n.name,s,i,h)):Promise.reject(new g.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function p(n,s,i,h,a){const u=n.data,c={portal:i&&i.portal||E.Z.getDefault(),url:(0,y.mN)(n.baseUrl),origin:"portal-item"},m=u.items.find(P=>P.name===s);if(!m)return Promise.reject(new g.Z("symbolstyleutils:symbol-name-not-found",`The symbol name '${s}' could not be found`,{symbolName:s}));let L=(0,T.f)((0,I.v9)(m,h),c),O=m.thumbnail&&m.thumbnail.href;const R=m.thumbnail&&m.thumbnail.imageData;(0,v.XO)()&&(L=(0,v.pJ)(L),O=(0,v.pJ)(O));const j={portal:i.portal,url:(0,y.mN)((0,y.Yd)(L)),origin:"portal-item"};return(0,I.EJ)(L,a).then(P=>{const C="cimRef"===h?(0,I.KV)(P.data):P.data,K=(0,d.i)(C,j);if(K&&(0,t.dU)(K)){if(O){const M=(0,T.f)(O,c);K.thumbnail=new _.Z({url:M})}else R&&(K.thumbnail=new _.Z({url:`data:image/png;base64,${R}`}));n.styleUrl?K.styleOrigin=new l.Z({portal:i.portal,styleUrl:n.styleUrl,name:s}):n.styleName&&(K.styleOrigin=new l.Z({portal:i.portal,styleName:n.styleName,name:s}))}return K})}},55746:(G,A,e)=>{e.d(A,{p:()=>f,k:()=>p});var t=e(65389),v=e(61885),y=(e(8314),e(62208)),E=e(76279),T=e(5548),d=e(16669),l=e(52397);function I(n,s){return n<<16|s}function _(n){return(4294901760&n)>>>16}function o(n){return 65535&n}const p={getObjectId:n=>n.getObjectId(),getAttributes:n=>n.readAttributes(),getAttribute:(n,s)=>n.readAttribute(s),cloneWithGeometry:(n,s)=>n,getGeometry:n=>n.readHydratedGeometry(),getCentroid:(n,s)=>n.readCentroid()};class f extends d.J{constructor(s,i,h){super(s,i),this.featureAdapter=p,this.events=new v.Z,this._featureSetsByInstance=new Map,this._objectIdToDisplayId=new Map,this._spatialIndexInvalid=!0,this._indexSearchCache=new t.Z(50),this._index=(0,E.r)(9,a=>({minX:this._storage.getXMin(a),minY:this._storage.getYMin(a),maxX:this._storage.getXMax(a),maxY:this._storage.getYMax(a)})),this._storage=i,this.mode=h}get storage(){return this._storage}get storeStatistics(){let s=0,i=0,h=0;return this.forEach(a=>{const u=a.readGeometry();u&&(i+=u.isPoint?1:u.lengths.reduce((c,m)=>c+m,0),h+=u.isPoint?1:u.lengths.length,s+=1)}),{featureCount:s,vertexCount:i,ringCount:h}}hasInstance(s){return this._featureSetsByInstance.has(s)}onTileData(s,i){if((0,y.Wi)(i.addOrUpdate))return i;if(i.addOrUpdate.attachStorage(this._storage),"snapshot"===this.mode){const a=i.addOrUpdate.getCursor();for(;a.next();){const u=a.getDisplayId();this.setComputedAttributes(this._storage,a,u,s.scale)}return i}this._featureSetsByInstance.set(i.addOrUpdate.instance,i.addOrUpdate);const h=i.addOrUpdate.getCursor();for(;h.next();)this._insertFeature(h,s.scale);return this._spatialIndexInvalid=!0,this.events.emit("changed"),i}search(s){this._rebuildIndex();const i=s.id,h=this._indexSearchCache.find(m=>m.tileId===i);if((0,y.pC)(h))return h.readers;const a=new Map,u=this._searchIndex(s.bounds),c=[];for(const m of u){const L=this._storage.getInstanceId(m),O=_(L),R=o(L);a.has(O)||a.set(O,[]),a.get(O).push(R)}return a.forEach((m,L)=>{const O=this._featureSetsByInstance.get(L);c.push(l.t.from(O,m))}),this._indexSearchCache.enqueue({tileId:i,readers:c}),c}insert(s){const i=s.getCursor(),h=this._storage;for(;i.next();){var a;const u=I(i.instance,i.getIndex()),c=i.getObjectId(),m=null!=(a=this._objectIdToDisplayId.get(c))?a:this._storage.createDisplayId();i.setDisplayId(m),h.setInstanceId(m,u),this._objectIdToDisplayId.set(c,m)}this._featureSetsByInstance.set(s.instance,s),this._spatialIndexInvalid=!0}remove(s){const i=this._objectIdToDisplayId.get(s);if(!i)return;const h=this._storage.getInstanceId(i),a=o(h),u=_(h),c=this._featureSetsByInstance.get(u);this._objectIdToDisplayId.delete(s),this._storage.releaseDisplayId(i),c.removeAtIndex(a),c.isEmpty&&this._featureSetsByInstance.delete(u),this._spatialIndexInvalid=!0}forEach(s){this._objectIdToDisplayId.forEach(i=>{const h=this._storage.getInstanceId(i),a=this._lookupFeature(h);s(a)})}forEachUnsafe(s){this._objectIdToDisplayId.forEach(i=>{const h=this._storage.getInstanceId(i),a=_(h),u=o(h),c=this._getFeatureSet(a);c.setIndex(u),s(c)})}forEachInBounds(s,i){const h=this._searchIndex(s);for(const a of h){const u=this.lookupFeatureByDisplayId(a,this._storage);i((0,y.Wg)(u))}}forEachBounds(s,i,h){this._rebuildIndex();const a=[0,0,0,0];for(const u of s){if(!u.readGeometry())continue;const c=u.getDisplayId();a[0]=this._storage.getXMin(c),a[1]=this._storage.getYMin(c),a[2]=this._storage.getXMax(c),a[3]=this._storage.getYMax(c),i((0,T.JR)(h,a))}}sweepFeatures(s,i,h){this._spatialIndexInvalid=!0,this._objectIdToDisplayId.forEach((a,u)=>{s.has(a)||(i.releaseDisplayId(a),h&&h.unsetAttributeData(a),this._objectIdToDisplayId.delete(u))}),this.events.emit("changed")}sweepFeatureSets(s){this._spatialIndexInvalid=!0,this._featureSetsByInstance.forEach((i,h)=>{s.has(h)||this._featureSetsByInstance.delete(h)})}lookupObjectId(s,i){const h=this.lookupFeatureByDisplayId(s,i);return(0,y.Wi)(h)?null:h.getObjectId()}lookupDisplayId(s){return this._objectIdToDisplayId.get(s)}lookupFeatureByDisplayId(s,i){const h=i.getInstanceId(s);return this._lookupFeature(h)}lookupByDisplayIdUnsafe(s){const i=this._storage.getInstanceId(s),h=_(i),a=o(i),u=this._getFeatureSet(h);return u?(u.setIndex(a),u):null}_insertFeature(s,i){const h=this._storage,a=s.getObjectId(),u=I(s.instance,s.getIndex());h.getInstanceId(s.getDisplayId());let c=this._objectIdToDisplayId.get(a);c||(c=h.createDisplayId(),this._objectIdToDisplayId.set(a,c),this._spatialIndexInvalid=!0),s.setDisplayId(c),h.setInstanceId(c,u),this.setComputedAttributes(h,s,c,i)}_searchIndex(s){return this._rebuildIndex(),this._index.search({minX:s[0],minY:s[1],maxX:s[2],maxY:s[3]})}_rebuildIndex(){if(!this._spatialIndexInvalid)return;const s=[];"snapshot"===this.mode?this._featureSetsByInstance.forEach(i=>{const h=i.getCursor();for(;h.next();){const a=h.getDisplayId();this._storage.setBounds(a,h)&&s.push(a)}}):this._objectIdToDisplayId.forEach(i=>{const h=this._storage.getInstanceId(i);this._storage.setBounds(i,this._lookupFeature(h))&&s.push(i)}),this._index.clear(),this._index.load(s),this._indexSearchCache.clear(),this._spatialIndexInvalid=!1}_lookupFeature(s){const i=_(s),h=o(s),a=this._getFeatureSet(i);if(!a)return null;const u=a.getCursor();return u.setIndex(h),u}_getFeatureSet(s){return this._featureSetsByInstance.get(s)}}},16669:(G,A,e)=>{e.d(A,{J:()=>I});var t=e(15861),v=e(8314),g=e(62208),y=e(84682),E=e(46679),T=e(63290);const l=e.e(2445).then(e.bind(e,22445));class I{constructor(o,p){this._canCacheExpressionValue=!1,this._sourceInfo=o,this._bitsets={computed:p.getBitset(p.createBitset())}}invalidate(){this._bitsets.computed.clear()}updateSchema(o,p){var f=this;return(0,t.Z)(function*(){const n=(0,y.Hg)(f._schema,p);if(f._schema=p,!p||(0,g.Wi)(n)||!(0,y.uD)(n,"attributes"))return;(0,v.Z)("esri-2d-update-debug")&&console.debug("Applying Update - Store:",n),f._bitsets.computed.clear(),o.targets[p.name]=!0;const s=p.attributes,i=[],h=[];for(const a in s){const u=s[a];switch(u.type){case"field":break;case"expression":i.push(f._createArcadeComputedField(u));break;case"label-expression":i.push(f._createLabelArcadeComputedField(u));break;case"statistic":h.push(u)}}f._computedFields=yield Promise.all(i),f._canCacheExpressionValue=!f._computedFields.some(a=>"expression"===a.type&&a.expression.referencesScale()),f._statisticFields=h})()}setComputedAttributes(o,p,f,n){const s=this._bitsets.computed;if(!this._canCacheExpressionValue||!s.has(f)){s.set(f);for(const i of this._computedFields){const h=this._evaluateField(p,i,n);switch(i.resultType){case"numeric":o.setComputedNumericAtIndex(f,i.fieldIndex,h);break;case"string":o.setComputedStringAtIndex(f,i.fieldIndex,h)}}}}_createArcadeComputedField(o){var p=this;return(0,t.Z)(function*(){const f=p._sourceInfo.spatialReference,n=p._sourceInfo.fieldsIndex;return Q(V({},o),{expression:yield(0,E.Yi)(o.valueExpression,f,n)})})()}_createLabelArcadeComputedField(o){var p=this;return(0,t.Z)(function*(){const f=p._sourceInfo.spatialReference,n=p._sourceInfo.fieldsIndex,{createLabelFunction:s}=yield l,i=yield s(o.label,n,f);return Q(V({},o),{builder:i})})()}_evaluateField(o,p,f){switch(p.type){case"label-expression":{const n=o.readArcadeFeature();return p.builder.evaluate(n)||""}case"expression":{const{expression:n}=p;return function d(_,o,p){_.referencesGeometry();const f=o.readArcadeFeature();try{return _.evaluate(Q(V({},p),{$feature:f}))}catch(n){return T.Z.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",n),null}}(n,o,{$view:{scale:f}})}}}}},13112:(G,A,e)=>{e.d(A,{Z:()=>I});var t=e(17626),v=e(80542),g=e(77712),d=(e(85931),e(8314),e(90912),e(76898));let l=class extends v.r{initialize(){}destroy(){}get supportsTileUpdates(){return!1}get spatialReference(){const _=this.get("tileStore.tileScheme.spatialReference");return _&&_.toJSON()||null}};(0,t._)([(0,g.Cb)({readOnly:!0})],l.prototype,"supportsTileUpdates",null),(0,t._)([(0,g.Cb)({constructOnly:!0})],l.prototype,"remoteClient",void 0),(0,t._)([(0,g.Cb)({constructOnly:!0})],l.prototype,"service",void 0),(0,t._)([(0,g.Cb)()],l.prototype,"spatialReference",null),(0,t._)([(0,g.Cb)({constructOnly:!0})],l.prototype,"tileInfo",void 0),(0,t._)([(0,g.Cb)({constructOnly:!0})],l.prototype,"tileStore",void 0),l=(0,t._)([(0,d.j)("esri.views.2d.layers.features.processors.BaseProcessor")],l);const I=l},52397:(G,A,e)=>{e.d(A,{t:()=>v});var t=e(25208);class v extends t.s{constructor(y,E){super(t.s.createInstance()),this._currentIndex=-1,this._reader=y,this._indices=E}static from(y,E){return new v(y.copy(),E)}get hasNext(){return this._currentIndex+1<this._indices.length}getSize(){return this._indices.length}getCursor(){return this.copy()}copy(){const y=new v(this._reader.copy(),this._indices);return y._currentIndex=this._currentIndex,y}next(){for(;this._nextIndex()&&!this._reader._getExists(););return this._currentIndex<this._indices.length}_nextIndex(){return++this._currentIndex<this._indices.length&&(this._reader.setIndex(this._indices[this._currentIndex]),!0)}setArcadeSpatialReference(y){this._reader.setArcadeSpatialReference(y)}attachStorage(y){this._reader.attachStorage(y)}get geometryType(){return this._reader.geometryType}get hasFeatures(){return this._reader.hasFeatures}get exceededTransferLimit(){return this._reader.exceededTransferLimit}get hasZ(){return this._reader.hasZ}get hasM(){return this._reader.hasM}getStorage(){return this._reader.getStorage()}getComputedNumeric(y){return this._reader.getComputedNumericAtIndex(0)}setComputedNumeric(y,E){return this._reader.setComputedNumericAtIndex(E,0)}getComputedString(y){return this._reader.getComputedStringAtIndex(0)}setComputedString(y,E){return this._reader.setComputedStringAtIndex(0,E)}getComputedNumericAtIndex(y){return this._reader.getComputedNumericAtIndex(y)}setComputedNumericAtIndex(y,E){this._reader.setComputedNumericAtIndex(y,E)}getComputedStringAtIndex(y){return this._reader.getComputedStringAtIndex(y)}setComputedStringAtIndex(y,E){return this._reader.setComputedStringAtIndex(y,E)}transform(y,E,T,d){const l=this.copy();return l._reader=this._reader.transform(y,E,T,d),l}readAttribute(y,E=!1){return this._reader.readAttribute(y,E)}readAttributes(){return this._reader.readAttributes()}joinAttributes(y){return this._reader.joinAttributes(y)}readArcadeFeature(){return this._reader.readArcadeFeature()}geometry(){return this._reader.geometry()}field(y){return this.readAttribute(y,!0)}hasField(y){return this._reader.hasField(y)}setField(y,E){return this._reader.setField(y,E)}keys(){return this._reader.keys()}castToText(){return this._reader.castToText()}getQuantizationTransform(){return this._reader.getQuantizationTransform()}getAttributeHash(){return this._reader.getAttributeHash()}getObjectId(){return this._reader.getObjectId()}getDisplayId(){return this._reader.getDisplayId()}setDisplayId(y){return this._reader.setDisplayId(y)}getGroupId(){return this._reader.getGroupId()}setGroupId(y){return this._reader.setGroupId(y)}getXHydrated(){return this._reader.getXHydrated()}getYHydrated(){return this._reader.getYHydrated()}getX(){return this._reader.getX()}getY(){return this._reader.getY()}setIndex(y){return this._reader.setIndex(y)}getIndex(){return this._reader.getIndex()}readLegacyFeature(){return this._reader.readLegacyFeature()}readOptimizedFeature(){return this._reader.readOptimizedFeature()}readLegacyPointGeometry(){return this._reader.readLegacyPointGeometry()}readLegacyGeometry(){return this._reader.readLegacyGeometry()}readLegacyCentroid(){return this._reader.readLegacyCentroid()}readGeometryArea(){return this._reader.readGeometryArea()}readUnquantizedGeometry(){return this._reader.readUnquantizedGeometry()}readHydratedGeometry(){return this._reader.readHydratedGeometry()}readGeometry(){return this._reader.readGeometry()}readCentroid(){return this._reader.readCentroid()}_readAttribute(y,E){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}_readAttributes(){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}}},84225:(G,A,e)=>{e.d(A,{Z:()=>I});var t=e(17626),v=e(80542),g=e(77712),d=(e(85931),e(8314),e(90912),e(76898));let l=class extends v.r{constructor(_){super(_),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(_){const o=this.createTile(_);return o.once("isReady",()=>this.notifyChange("updating")),this.tiles.set(_.id,o),o}forceAttributeTextureUpload(){}forEachTile(_){this.tiles.forEach(_)}releaseTile(_){this.tiles.delete(_.key.id),this.disposeTile(_)}isUpdating(){let _=!0;return this.tiles.forEach(o=>{_=_&&o.isReady}),!_}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};(0,t._)([(0,g.Cb)()],l.prototype,"layer",void 0),(0,t._)([(0,g.Cb)()],l.prototype,"layerView",void 0),(0,t._)([(0,g.Cb)()],l.prototype,"tileInfoView",void 0),(0,t._)([(0,g.Cb)()],l.prototype,"updating",null),l=(0,t._)([(0,d.j)("esri.views.2d.layers.features.tileRenderers.BaseTileRenderer")],l);const I=l},36275:(G,A,e)=>{e.d(A,{Z:()=>g});var t=e(39406),v=e(55051);class g extends v.Z{renderChildren(E){this.attributeView.bindTextures(E.context,!1),this.children.some(T=>T.hasData)&&(super.renderChildren(E),E.drawPhase===t.jx.MAP&&this._renderChildren(E),this.hasHighlight()&&E.drawPhase===t.jx.HIGHLIGHT&&this._renderHighlight(E),this._boundsRenderer&&this._boundsRenderer.doRender(E))}_renderHighlight(E){const{painter:T}=E,d=T.effects.highlight;d.bind(E),this._renderChildren(E,d.defines),d.draw(E),d.unbind()}}},19625:(G,A,e)=>{e.d(A,{U$:()=>E});var t=e(60479),v=e(67866);class g{constructor(d,l){this.layout=d,this.buffer="number"==typeof l?new ArrayBuffer(l*d.stride):l;for(const I of d.fieldNames){const _=d.fields.get(I);this[I]=new _.constructor(this.buffer,_.offset,this.stride)}}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(d,l){const I=this[d];return I&&I.elementCount===l.ElementCount&&I.elementType===l.ElementType?I:null}slice(d,l){return new g(this.layout,this.buffer.slice(d*this.stride,l*this.stride))}copyFrom(d,l,I,_){const o=this.stride;if(o%4==0){const p=new Uint32Array(d.buffer,l*o,_*o/4);new Uint32Array(this.buffer,I*o,_*o/4).set(p)}else{const p=new Uint8Array(d.buffer,l*o,_*o);new Uint8Array(this.buffer,I*o,_*o).set(p)}}}class y{constructor(){this.stride=0,this.fields=new Map,this.fieldNames=[]}vec2f(d,l){return this.appendField(d,t.Eu,l),this}vec2f64(d,l){return this.appendField(d,t.q6,l),this}vec3f(d,l){return this.appendField(d,t.ct,l),this}vec3f64(d,l){return this.appendField(d,t.fP,l),this}vec4f(d,l){return this.appendField(d,t.ek,l),this}vec4f64(d,l){return this.appendField(d,t.Cd,l),this}mat3f(d,l){return this.appendField(d,t.gK,l),this}mat3f64(d,l){return this.appendField(d,t.ey,l),this}mat4f(d,l){return this.appendField(d,t.bj,l),this}mat4f64(d,l){return this.appendField(d,t.O1,l),this}vec4u8(d,l){return this.appendField(d,t.mc,l),this}f32(d,l){return this.appendField(d,t.ly,l),this}f64(d,l){return this.appendField(d,t.oS,l),this}u8(d,l){return this.appendField(d,t.D_,l),this}u16(d,l){return this.appendField(d,t.av,l),this}i8(d,l){return this.appendField(d,t.Hz,l),this}vec2i8(d,l){return this.appendField(d,t.Vs,l),this}vec2i16(d,l){return this.appendField(d,t.or,l),this}vec2u8(d,l){return this.appendField(d,t.xA,l),this}vec4u16(d,l){return this.appendField(d,t.v6,l),this}u32(d,l){return this.appendField(d,t.Nu,l),this}appendField(d,l,I){const _=l.ElementCount*(0,v.n1)(l.ElementType);this.fields.set(d,{size:_,constructor:l,offset:this.stride,optional:I}),this.stride+=_,this.fieldNames.push(d)}alignTo(d){return this.stride=Math.floor((this.stride+d-1)/d)*d,this}hasField(d){return this.fieldNames.indexOf(d)>=0}createBuffer(d){return new g(this,d)}createView(d){return new g(this,d)}clone(){const d=new y;return d.stride=this.stride,d.fields=new Map,this.fields.forEach((l,I)=>d.fields.set(I,l)),d.fieldNames=this.fieldNames.slice(),d.BufferType=this.BufferType,d}}function E(){return new y}},88569:(G,A,e)=>{e.d(A,{$L:()=>E,$x:()=>_,ve:()=>d,IB:()=>y,wu:()=>v,je:()=>I});var t=e(2078);const v=(0,t.wK)(770,1,771,771),g=(0,t.if)(1,1),y=(0,t.if)(0,771);function E(o){return 2===o?null:1===o?y:g}const d=5e5,l={factor:-1,units:-2};function I(o){return o?l:null}function _(o){return 3===o||2===o?513:515}},51881:(G,A,e)=>{e.d(A,{Z:()=>v});var t=e(80322);class v{constructor(y){this._programCacheByTemplate=new Map,this._rctx=y}dispose(){this._programCacheByTemplate.forEach(y=>y.programs.forEach(E=>E.dispose())),this._programCacheByTemplate=null}getProgram(y,E){return this._programCacheByTemplate.has(y)||this.addProgramTemplate(y,T=>(0,t.H)(this._rctx,y,T)),this.getProgramTemplateInstance(y,E)}addProgramTemplate(y,E){this._programCacheByTemplate.set(y,{constructor:E,programs:new Map})}getProgramTemplateInstance(y,E){const T=this._programCacheByTemplate.get(y);if(T){const d=E?JSON.stringify(E):"default";if(!T.programs.has(d)){const l=T.constructor(E);T.programs.set(d,l)}return T.programs.get(d)}return null}}},2757:(G,A,e)=>{function v(d,l,I){for(let _=0;_<I;++_)l[2*_]=d[_],l[2*_+1]=d[_]-l[2*_]}function y(d,l,I,_){for(let o=0;o<_;++o)E[0]=d[o],v(E,T,1),l[o]=T[0],I[o]=T[1]}e.d(A,{LF:()=>v,po:()=>y});const E=new Float64Array(1),T=new Float32Array(2)},2078:(G,A,e)=>{function t(D,W,b=32774,S=[0,0,0,0]){return{srcRgb:D,srcAlpha:D,dstRgb:W,dstAlpha:W,opRgb:b,opAlpha:b,color:{r:S[0],g:S[1],b:S[2],a:S[3]}}}function v(D,W,b,S,x=32774,z=32774,$=[0,0,0,0]){return{srcRgb:D,srcAlpha:W,dstRgb:b,dstAlpha:S,opRgb:x,opAlpha:z,color:{r:$[0],g:$[1],b:$[2],a:$[3]}}}e.d(A,{jp:()=>J,zp:()=>E,BK:()=>d,LZ:()=>T,sm:()=>i,wK:()=>v,if:()=>t});const g={face:1029,mode:2305},y={face:1028,mode:2305},E=D=>2===D?g:1===D?y:null,T={zNear:0,zFar:1},d={r:!0,g:!0,b:!0,a:!0};function l(D){return u.intern(D)}function I(D){return m.intern(D)}function _(D){return O.intern(D)}function o(D){return j.intern(D)}function p(D){return C.intern(D)}function f(D){return M.intern(D)}function n(D){return F.intern(D)}function s(D){return Z.intern(D)}function i(D){return U.intern(D)}class h{constructor(W,b){this.makeKey=W,this.makeRef=b,this.interns=new Map}intern(W){if(!W)return null;const b=this.makeKey(W),S=this.interns;return S.has(b)||S.set(b,this.makeRef(W)),S.get(b)}}function a(D){return"["+D.join(",")+"]"}const u=new h(c,D=>V({__tag:"Blending"},D));function c(D){return D?a([D.srcRgb,D.srcAlpha,D.dstRgb,D.dstAlpha,D.opRgb,D.opAlpha,D.color.r,D.color.g,D.color.b,D.color.a]):null}const m=new h(L,D=>V({__tag:"Culling"},D));function L(D){return D?a([D.face,D.mode]):null}const O=new h(R,D=>V({__tag:"PolygonOffset"},D));function R(D){return D?a([D.factor,D.units]):null}const j=new h(P,D=>V({__tag:"DepthTest"},D));function P(D){return D?a([D.func]):null}const C=new h(K,D=>V({__tag:"StencilTest"},D));function K(D){return D?a([D.function.func,D.function.ref,D.function.mask,D.operation.fail,D.operation.zFail,D.operation.zPass]):null}const M=new h(B,D=>V({__tag:"DepthWrite"},D));function B(D){return D?a([D.zNear,D.zFar]):null}const F=new h(w,D=>V({__tag:"ColorWrite"},D));function w(D){return D?a([D.r,D.g,D.b,D.a]):null}const Z=new h(N,D=>V({__tag:"StencilWrite"},D));function N(D){return D?a([D.mask]):null}const U=new h(function H(D){return D?a([c(D.blending),L(D.culling),R(D.polygonOffset),P(D.depthTest),K(D.stencilTest),B(D.depthWrite),w(D.colorWrite),N(D.stencilWrite)]):null},D=>({blending:l(D.blending),culling:I(D.culling),polygonOffset:_(D.polygonOffset),depthTest:o(D.depthTest),stencilTest:p(D.stencilTest),depthWrite:f(D.depthWrite),colorWrite:n(D.colorWrite),stencilWrite:s(D.stencilWrite)}));class J{constructor(W){this._pipelineInvalid=!0,this._blendingInvalid=!0,this._cullingInvalid=!0,this._polygonOffsetInvalid=!0,this._depthTestInvalid=!0,this._stencilTestInvalid=!0,this._depthWriteInvalid=!0,this._colorWriteInvalid=!0,this._stencilWriteInvalid=!0,this._stateSetters=W}setPipeline(W){(this._pipelineInvalid||W!==this._pipeline)&&(this.setBlending(W.blending),this.setCulling(W.culling),this.setPolygonOffset(W.polygonOffset),this.setDepthTest(W.depthTest),this.setStencilTest(W.stencilTest),this.setDepthWrite(W.depthWrite),this.setColorWrite(W.colorWrite),this.setStencilWrite(W.stencilWrite),this._pipeline=W),this._pipelineInvalid=!1}invalidateBlending(){this._blendingInvalid=!0,this._pipelineInvalid=!0}invalidateCulling(){this._cullingInvalid=!0,this._pipelineInvalid=!0}invalidatePolygonOffset(){this._polygonOffsetInvalid=!0,this._pipelineInvalid=!0}invalidateDepthTest(){this._depthTestInvalid=!0,this._pipelineInvalid=!0}invalidateStencilTest(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}invalidateDepthWrite(){this._depthWriteInvalid=!0,this._pipelineInvalid=!0}invalidateColorWrite(){this._colorWriteInvalid=!0,this._pipelineInvalid=!0}invalidateStencilWrite(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}setBlending(W){this._blending=this.setSubState(W,this._blending,this._blendingInvalid,this._stateSetters.setBlending),this._blendingInvalid=!1}setCulling(W){this._culling=this.setSubState(W,this._culling,this._cullingInvalid,this._stateSetters.setCulling),this._cullingInvalid=!1}setPolygonOffset(W){this._polygonOffset=this.setSubState(W,this._polygonOffset,this._polygonOffsetInvalid,this._stateSetters.setPolygonOffset),this._polygonOffsetInvalid=!1}setDepthTest(W){this._depthTest=this.setSubState(W,this._depthTest,this._depthTestInvalid,this._stateSetters.setDepthTest),this._depthTestInvalid=!1}setStencilTest(W){this._stencilTest=this.setSubState(W,this._stencilTest,this._stencilTestInvalid,this._stateSetters.setStencilTest),this._stencilTestInvalid=!1}setDepthWrite(W){this._depthWrite=this.setSubState(W,this._depthWrite,this._depthWriteInvalid,this._stateSetters.setDepthWrite),this._depthWriteInvalid=!1}setColorWrite(W){this._colorWrite=this.setSubState(W,this._colorWrite,this._colorWriteInvalid,this._stateSetters.setColorWrite),this._colorWriteInvalid=!1}setStencilWrite(W){this._stencilWrite=this.setSubState(W,this._stencilWrite,this._stencilWriteInvalid,this._stateSetters.setStencilWrite),this._stencilTestInvalid=!1}setSubState(W,b,S,x){return(S||W!==b)&&(x(W),this._pipelineInvalid=!0),W}}}}]);