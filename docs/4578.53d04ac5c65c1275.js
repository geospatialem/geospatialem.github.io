"use strict";var k=Object.defineProperty,q=Object.defineProperties,_=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,nn=Object.prototype.hasOwnProperty,tn=Object.prototype.propertyIsEnumerable,A=(m,f,n)=>f in m?k(m,f,{enumerable:!0,configurable:!0,writable:!0,value:n}):m[f]=n,S=(m,f)=>{for(var n in f||(f={}))nn.call(f,n)&&A(m,n,f[n]);if(J)for(var n of J(f))tn.call(f,n)&&A(m,n,f[n]);return m},x=(m,f)=>q(m,_(f));(self.webpackChunksite=self.webpackChunksite||[]).push([[4578],{24578:(m,f,n)=>{n.r(f),n.d(f,{fromUrl:()=>z});var e=n(15861),I=n(84792),t=n(26584),u=n(62208),U=n(21726),D=n(38305),K=n(30164);function z(r){return P.apply(this,arguments)}function P(){return(P=(0,e.Z)(function*(r){var o;const i=null==(o=r.properties)?void 0:o.customParameters,a=yield X(r.url,i),l=x(S({},r.properties),{url:r.url});if(!a.sublayerIds)return null!=a.layerOrTableId&&(l.layerId=a.layerOrTableId,l.sourceJSON=a.sourceJSON),new a.Constructor(l);const s=new((yield n.e(5964).then(n.bind(n,25964))).default)({title:a.parsedUrl.title});return Q(s,a,l),s})).apply(this,arguments)}function W(r,o){return r?r.find(i=>i.id===o):null}function Q(r,o,i){function a(l,s){const d=x(S({},i),{layerId:l,sublayerTitleMode:"service-name"});return(0,u.pC)(s)&&(d.sourceJSON=s),new o.Constructor(d)}o.sublayerIds.forEach(l=>{const s=a(l,W(o.sublayerInfos,l));r.add(s)}),o.tableIds.forEach(l=>{const s=a(l,W(o.tableInfos,l));r.tables.add(s)})}function X(r,o){return O.apply(this,arguments)}function O(){return(O=(0,e.Z)(function*(r,o){let i=(0,D.Qc)(r);if((0,u.Wi)(i)&&(i=yield $(r,o)),(0,u.Wi)(i))throw new t.Z("arcgis-layers:url-mismatch","The url '${url}' is not a valid arcgis resource",{url:r});const{serverType:a,sublayer:l}=i;let s;const d={FeatureServer:"FeatureLayer",StreamServer:"StreamLayer",VectorTileServer:"VectorTileLayer"};switch(a){case"MapServer":s=null!=l?"FeatureLayer":w(r,o).then(y=>y?"TileLayer":"MapImageLayer");break;case"ImageServer":s=v(r,o).then(y=>{const c=y.tileInfo&&y.tileInfo.format;return y.tileInfo?!c||"LERC"!==c.toUpperCase()||y.cacheType&&"elevation"!==y.cacheType.toLowerCase()?"ImageryTileLayer":"ElevationLayer":"ImageryLayer"});break;case"SceneServer":s=v(i.url.path,o).then(y=>{if(y){if("Voxel"===(null==y?void 0:y.layerType))return"VoxelLayer";if(null!=y&&y.layers&&Array.isArray(y.layers)&&y.layers.length>0){var c;const j={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"},G=null==(c=y.layers[0])?void 0:c.layerType;if(null!=j[G])return j[G]}}return"SceneLayer"});break;default:s=d[a]}const g="FeatureServer"===a,h={parsedUrl:i,Constructor:null,layerOrTableId:g?l:null,sublayerIds:null,tableIds:null},R=yield s;if({FeatureLayer:!0,SceneLayer:!0}[R]&&null==l){const y=yield H(r,a,o);if(g&&(h.sublayerInfos=y.layerInfos,h.tableInfos=y.tableInfos),y.layerIds.length+y.tableIds.length!==1)h.sublayerIds=y.layerIds,h.tableIds=y.tableIds;else if(g){var B,V;h.layerOrTableId=null!=(B=y.layerIds[0])?B:y.tableIds[0],h.sourceJSON=null!=(V=y.layerInfos[0])?V:y.tableInfos[0]}}return h.Constructor=yield b(R),h})).apply(this,arguments)}function $(r,o){return T.apply(this,arguments)}function T(){return(T=(0,e.Z)(function*(r,o){var i;const a=yield v(r,o);let l=null,s=null;const d=a.type;if("Feature Layer"===d||"Table"===d?(l="FeatureServer",s=a.id):"indexedVector"===d?l="VectorTileServer":a.hasOwnProperty("mapName")?l="MapServer":a.hasOwnProperty("bandCount")&&a.hasOwnProperty("pixelSizeX")?l="ImageServer":a.hasOwnProperty("maxRecordCount")&&a.hasOwnProperty("allowGeometryUpdates")?l="FeatureServer":a.hasOwnProperty("streamUrls")?l="StreamServer":F(a)?(l="SceneServer",s=a.id):a.hasOwnProperty("layers")&&F(null==(i=a.layers)?void 0:i[0])&&(l="SceneServer"),!l)return null;const L=null!=s?(0,D.DR)(r):null;return{title:(0,u.pC)(L)&&a.name||(0,U.vt)(r),serverType:l,sublayer:s,url:{path:(0,u.pC)(L)?L.serviceUrl:(0,U.mN)(r).path}}})).apply(this,arguments)}function F(r){return(null==r?void 0:r.hasOwnProperty("store"))&&r.hasOwnProperty("id")&&"number"==typeof r.id}function H(r,o,i){return M.apply(this,arguments)}function M(){return(M=(0,e.Z)(function*(r,o,i){var a,l;let s,d=!1;if("FeatureServer"===o){const h=yield Y(r,i);d=!!h.layersJSON,s=h.layersJSON||h.serviceJSON}else s=yield v(r,i);const L=null==(a=s)?void 0:a.layers,g=null==(l=s)?void 0:l.tables;return{layerIds:(null==L?void 0:L.map(h=>h.id).reverse())||[],tableIds:(null==g?void 0:g.map(h=>h.id).reverse())||[],layerInfos:d?L:[],tableInfos:d?g:[]}})).apply(this,arguments)}function N(r){return!r.type||"Feature Layer"===r.type}function Y(r,o){return Z.apply(this,arguments)}function Z(){return(Z=(0,e.Z)(function*(r,o){var i,a;let l=yield v(r,o);l=l||{},l.layers=(null==(i=l.layers)?void 0:i.filter(N))||[];const s={serviceJSON:l};if(l.currentVersion<10.5)return s;const d=yield v(r+"/layers",o);return s.layersJSON={layers:(null==d||null==(a=d.layers)?void 0:a.filter(N))||[],tables:(null==d?void 0:d.tables)||[]},s})).apply(this,arguments)}function b(r){return C.apply(this,arguments)}function C(){return(C=(0,e.Z)(function*(r){return(0,K.T[r])()})).apply(this,arguments)}function w(r,o){return E.apply(this,arguments)}function E(){return(E=(0,e.Z)(function*(r,o){return(yield v(r,o)).tileInfo})).apply(this,arguments)}function v(r,o){return p.apply(this,arguments)}function p(){return(p=(0,e.Z)(function*(r,o){return(yield(0,I.default)(r,{responseType:"json",query:S({f:"json"},o)})).data})).apply(this,arguments)}},30164:(m,f,n)=>{n.d(f,{T:()=>I});var e=n(15861);const I={BingMapsLayer:(t=(0,e.Z)(function*(){return(yield n.e(2248).then(n.bind(n,72248))).default}),function(){return t.apply(this,arguments)}),BuildingSceneLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(4900),n.e(8592),n.e(9319)]).then(n.bind(n,19319))).default});return function(){return t.apply(this,arguments)}}(),CSVLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(5625).then(n.bind(n,85625))).default});return function(){return t.apply(this,arguments)}}(),ElevationLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(5227)]).then(n.bind(n,25227))).default});return function(){return t.apply(this,arguments)}}(),FeatureLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.resolve().then(n.bind(n,15382))).default});return function(){return t.apply(this,arguments)}}(),GroupLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(5964).then(n.bind(n,25964))).default});return function(){return t.apply(this,arguments)}}(),GeoRSSLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(6306).then(n.bind(n,96306))).default});return function(){return t.apply(this,arguments)}}(),GeoJSONLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(2903).then(n.bind(n,72903))).default});return function(){return t.apply(this,arguments)}}(),ImageryLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(7692),n.e(6926),n.e(581),n.e(1693),n.e(2599)]).then(n.bind(n,2599))).default});return function(){return t.apply(this,arguments)}}(),ImageryTileLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(7692),n.e(6926),n.e(581),n.e(1693),n.e(7897),n.e(8592),n.e(3490)]).then(n.bind(n,23490))).default});return function(){return t.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(4900),n.e(8592),n.e(3586)]).then(n.bind(n,13586))).default});return function(){return t.apply(this,arguments)}}(),KMLLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(8411)]).then(n.bind(n,38411))).default});return function(){return t.apply(this,arguments)}}(),MapImageLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(3130),n.e(8592),n.e(9530)]).then(n.bind(n,48887))).default});return function(){return t.apply(this,arguments)}}(),MapNotesLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(9114)]).then(n.bind(n,49114))).default});return function(){return t.apply(this,arguments)}}(),OGCFeatureLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(9628),n.e(2955)]).then(n.bind(n,36554))).default});return function(){return t.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(1591)]).then(n.bind(n,71591))).default});return function(){return t.apply(this,arguments)}}(),PointCloudLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(4900),n.e(8592),n.e(7155)]).then(n.bind(n,7155))).default});return function(){return t.apply(this,arguments)}}(),RouteLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(2010).then(n.bind(n,42010))).default});return function(){return t.apply(this,arguments)}}(),SceneLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(4900),n.e(8592),n.e(5941)]).then(n.bind(n,55941))).default});return function(){return t.apply(this,arguments)}}(),StreamLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(289).then(n.bind(n,70289))).default});return function(){return t.apply(this,arguments)}}(),TileLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(3130),n.e(8592),n.e(8731)]).then(n.bind(n,59735))).default});return function(){return t.apply(this,arguments)}}(),UnknownLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(6339).then(n.bind(n,56339))).default});return function(){return t.apply(this,arguments)}}(),UnsupportedLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(6240).then(n.bind(n,16240))).default});return function(){return t.apply(this,arguments)}}(),VectorTileLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8364),n.e(8592),n.e(5765)]).then(n.bind(n,68585))).default});return function(){return t.apply(this,arguments)}}(),VoxelLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(4900),n.e(177)]).then(n.bind(n,90177))).default});return function(){return t.apply(this,arguments)}}(),WebTileLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(8592).then(n.bind(n,28678))).default});return function(){return t.apply(this,arguments)}}(),WFSLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(3774),n.e(8762)]).then(n.bind(n,98762))).default});return function(){return t.apply(this,arguments)}}(),WMSLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(6894)]).then(n.bind(n,46894))).default});return function(){return t.apply(this,arguments)}}(),WMTSLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(4223)]).then(n.bind(n,64223))).default});return function(){return t.apply(this,arguments)}}()};var t}}]);